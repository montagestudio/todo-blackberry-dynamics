BUNDLE=[["index.html.bundle-1-0.js"]],!function(e,t){"function"==typeof define&&define.amd?define("montage",[],t):"object"==typeof module&&module.exports?module.exports=t(require,exports,module):e.Montage=t({},{},{})}(this,function(e,t,n){"use strict";var r=eval,i=r("this");i.global=i;var o={makeResolve:function(){try{var e="http://example.org",t="/test.html",n=new URL(t,e).href;if(!n||n!==e+t)throw new Error("NotSupported");return function(e,t){return new URL(t,e).href}}catch(r){var i=/^[\w\-]+:/,o=document.querySelector("head"),a=o.querySelector("base"),s=document.createElement("base"),l=document.createElement("a"),c=!1;return a?c=!0:a=document.createElement("base"),s.href="",function(e,t){var n;if(c||o.appendChild(a),e=String(e),i.test(e)===!1)throw new Error("Can't resolve from a relative location: "+JSON.stringify(e)+" "+JSON.stringify(t));c&&(n=a.href),a.href=e,l.href=t;var r=l.href;return c?a.href=n:o.removeChild(a),r}}},load:function(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){t&&t(n),n.parentNode.removeChild(n)},document.getElementsByTagName("head")[0].appendChild(n)},getParams:function(){var e,t,n,r,i,o,a;if(!this._params){this._params={};var s=document.getElementsByTagName("script");for(e=0;e<s.length;e++)if(r=s[e],i=!1,r.src&&(n=r.src.match(/^(.*)montage.js(?:[\?\.]|$)/i))&&(this._params.montageLocation=n[1],i=!0),r.hasAttribute("data-montage-location")&&(this._params.montageLocation=r.getAttribute("data-montage-location"),i=!0),i){if(r.dataset)for(a in r.dataset)r.dataset.hasOwnProperty(a)&&(this._params[a]=r.dataset[a]);else if(r.attributes){var l=/^data-(.*)$/,c=/-([a-z])/g,u=function(e,t){return t.toUpperCase()};for(t=0;t<r.attributes.length;t++)o=r.attributes[t],n=o.name.match(l),n&&(this._params[n[1].replace(c,u)]=o.value)}r.parentNode.removeChild(r);break}}return this._params},bootstrap:function(e){function t(){l&&s&&e(s,c,u)}function n(){document.removeEventListener("DOMContentLoaded",n,!0),l=!0;var e=document.documentElement;e.classList?e.classList.add("montage-app-bootstrapping"):e.className=e.className+" montage-app-bootstrapping",document._montageTiming=document._montageTiming||{},document._montageTiming.bootstrappingStartTime=Date.now(),t()}function r(e){if(!b[e]&&p[e]){var t=b[e]={};b[e]=p[e](r,t)||t}return b[e]}function a(){u=r("mini-url"),c=r("promise"),s=r("require"),delete i.bootstrap,t()}var s,l,c,u,f=this.getParams(),d=this.makeResolve();/interactive|complete/.test(document.readyState)?n():document.addEventListener("DOMContentLoaded",n,!0);var h={require:"node_modules/mr/require.js","require/browser":"node_modules/mr/browser.js",promise:"node_modules/bluebird/js/browser/bluebird.min.js"},p={},b={};if(i.bootstrap=function(e,t){p[e]=t,delete h[e];for(var n in h)if(h.hasOwnProperty(n))return;a()},"undefined"==typeof i.BUNDLE){var m=d(i.location,f.montageLocation);o.load(d(m,h.promise),function(){delete h.promise,i.bootstrap("bluebird",function(e,t){return i.Promise}),i.bootstrap("promise",function(e,t){return i.Promise});for(var e in h)h.hasOwnProperty(e)&&o.load(d(m,h[e]))})}else i.nativePromise=i.Promise,Object.defineProperty(i,"Promise",{configurable:!0,set:function(e){Object.defineProperty(i,"Promise",{value:e}),i.bootstrap("bluebird",function(e,t){return i.Promise}),i.bootstrap("promise",function(e,t){return i.Promise})}});i.bootstrap("mini-url",function(e,t){t.resolve=d})},initMontage:function(e,t,n){for(var r,o=["core/core","core/event/event-manager","core/serialization/deserializer/montage-reviver","core/logger"],a=e("core/promise").Promise,s=[],l=0;r=o[l];l++)s.push(e.deepLoad(r));return a.all(s).then(function(){for(var r,a=0;r=o[a];a++)e(r);var s,l=(e("core/core").Montage,e("core/event/event-manager").EventManager,e("core/event/event-manager").defaultEventManager),c=e("core/serialization/deserializer/montage-reviver").MontageReviver;e("core/logger").logger,"function"==typeof i.montageWillLoad&&i.montageWillLoad();var u,f,d=t.packageDescription.applicationPrototype;return d?(u=c.parseObjectLocationId(d),f=t.async(u.moduleId)):f=e.async("core/application"),f.then(function(e){var r=e[u?u.objectName:"Application"];return s=new r,l.application=s,s.eventManager=l,s._load(t,function(){n.module&&t.async(n.module),"function"==typeof i.montageDidLoad&&i.montageDidLoad(),window.MontageElement&&MontageElement.ready(t,s,c)})})})}};return t.initMontageCustomElement=function(){function e(e){var t=function(){return Reflect.construct(HTMLElement,[],t)};return Object.setPrototypeOf(t.prototype,(e||HTMLElement).prototype),Object.setPrototypeOf(t,e||HTMLElement),t}function t(t,r){if(!customElements.get(t)){var i=e(n);i.componentConstructor=r.constructor,i.observedAttributes=r.observedAttributes,customElements.define(t,i)}}if("undefined"!=typeof window.customElements&&"undefined"!=typeof window.Reflect){var n=e();n.pendingCustomElements=new Map,n.define=function(e,n,r){r&&"object"==typeof r?r.constructor=n:r={constructor:n},this.require?t(e,r):this.pendingCustomElements.set(e,r)},n.ready=function(e,r,i){n.prototype.findProxyForElement=i.findProxyForElement,this.application=r,this.require=e,this.pendingCustomElements.forEach(function(e,n){t(n,e)}),this.pendingCustomElements.clear()},Object.defineProperties(n.prototype,{require:{get:function(){return n.require},configurable:!1},application:{get:function(){return n.application},configurable:!1},componentConstructor:{get:function(){return this.constructor.componentConstructor},configurable:!1},observedAttributes:{get:function(){return this.constructor.observedAttributes},configurable:!1}}),n.prototype.connectedCallback=function(){if(!this._instance){var e=this,t=this.instantiateComponent();return this.findParentComponent().then(function(n){e._instance=t,n.addChildComponent(t),t._canDrawOutsideDocument=!0,t.needsDraw=!0})}},n.prototype.disconnectedCallback=function(){},n.prototype.findParentComponent=function(){for(var e,t,n=this.application.eventManager,r=this;null!==(e=r.parentNode)&&!(t=n.eventHandlerForElement(e));)r=e;return Promise.resolve(t)||this.getRootComponent()},n.prototype.getRootComponent=function(){return n.rootComponentPromise||(n.rootComponentPromise=this.require.async("montage/ui/component").then(function(e){return e.__root__})),n.rootComponentPromise},n.prototype.instantiateComponent=function(){var e=new this.componentConstructor;return this.bootstrapComponent(e),e.element=document.createElement("div"),e},n.prototype.bootstrapComponent=function(e){var t=this.attachShadow({mode:"open"}),n=e.enterDocument,r=e.templateDidLoad,i=this.findProxyForElement(this);if(i){var o,a,s=this.observedAttributes,l=this;if(s&&(a=s.length))for(var c=0;c<a;c++)o=s[c],e.defineBinding(o,{"<->":""+o,source:i})}this.application.eventManager.registerTargetForActivation(t),e.templateDidLoad=function(){var n=e.getResources();n&&(l.injectResourcesWithinCustomElement(n.styles,t),l.injectResourcesWithinCustomElement(n.scripts,t)),this.templateDidLoad=r,"function"==typeof this.templateDidLoad&&this.templateDidLoad()},e.enterDocument=function(e){t.appendChild(this.element),this.enterDocument=n,"function"==typeof this.enterDocument&&this.enterDocument(e)}},n.prototype.injectResourcesWithinCustomElement=function(e,t){if(e&&e.length)for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])},i.MontageElement=n}},t.initMontage=function(){var e=t.getPlatform();e.bootstrap(function(n,r,a){var s=e.getParams(),l={location:n.getLocation()};t.Require=n;var c=a.resolve(l.location,s.montageLocation),u=a.resolve(l.location,s["package"]||"."),f=s.applicationHash;if("object"==typeof i.BUNDLE){var d={},h=function(e){if(!d[e]){var t=d[e]={},n=new r(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}return d[e]};i.bundleLoaded=function(e){h(e).resolve()};var p={},b=new r(function(e,t){p.resolve=e,p.reject=t});p.promise=b,l.preloaded=p.promise;var m=r.resolve();i.BUNDLE.forEach(function(e){m=m.then(function(){return r.all(e.map(function(e){return o.load(e),h(e).promise}))})}),p.resolve(m.then(function(){delete i.BUNDLE,delete i.bundleLoaded}))}var g;if("remoteTrigger"in s){window.postMessage({type:"montageReady"},"*");var v=new r(function(e){var t=function(n){if(s.remoteTrigger===n.origin&&(n.source===window||n.source===window.parent))switch(n.data.type){case"montageInit":window.removeEventListener("message",t),e([n.data.location,n.data.injections]);break;case"isMontageReady":window.postMessage({type:"montageReady"},"*")}};window.addEventListener("message",t)});g=v.spread(function(e,t){var r=n.loadPackage({location:e,hash:f},l);return t&&(r=r.then(function(n){e=a.resolve(e,".");var r,i,o=t.packageDescriptions,s=t.packageDescriptionLocations,l=t.mappings,c=t.dependencies;if(o)for(i=o.length,r=0;r<i;r++)n.injectPackageDescription(o[r].location,o[r].description);if(s)for(i=s.length,r=0;r<i;r++)n.injectPackageDescriptionLocation(s[r].location,s[r].descriptionLocation);if(l)for(i=l.length,r=0;r<i;r++)n.injectMapping(l[r].dependency,l[r].name);if(c)for(i=c.length,r=0;r<i;r++)n.injectDependency(c[r].name,c[r].version);return n})),r})}else{if("autoPackage"in s)n.injectPackageDescription(u,{dependencies:{montage:"*"}},l);else if(".json"===u.slice(u.length-5)){var y=u;u=a.resolve(u,"."),n.injectPackageDescriptionLocation(u,y,l)}g=n.loadPackage({location:u,hash:f},l)}g.then(function(t){return t.loadPackage({location:c,hash:s.montageHash}).then(function(e){var t;t=s.promiseLocation?a.resolve(n.getLocation(),s.promiseLocation):a.resolve(c,"node_modules/bluebird");var r=[e,e.loadPackage({location:t,hash:s.promiseHash})];return r}).spread(function(n,o){return n.inject("core/mini-url",a),n.inject("core/promise",{Promise:r}),o.inject("bluebird",r),o.inject("js/browser/bluebird",r),l.lint=function(e){n.async("jshint/dist/jshint").then(function(t){t.JSHINT(e.text)||(console.warn("JSHint Error: "+e.location),t.JSHINT.errors.forEach(function(e){e&&(console.warn("Problem at line "+e.line+" character "+e.character+": "+e.reason),e.evidence&&console.warn("    "+e.evidence))}))})},i.require=i.mr=t,e.initMontage(n,t,s)})})})},t.getPlatform=function(){if("undefined"!=typeof window&&window&&window.document)return o;if("undefined"!=typeof process)return e("./node.js");throw new Error("Platform not supported.")},"undefined"!=typeof window?i.__MONTAGE_LOADED__?console.warn("Montage already loaded!"):(i.__MONTAGE_LOADED__=!0,t.initMontage(),t.initMontageCustomElement()):t.getPlatform(),t}),!function(e){if("undefined"!=typeof bootstrap)"undefined"!=typeof window?bootstrap("require",function(t,n){var r=t("promise"),i=t("mini-url");e(n,r,i),t("require/browser")}):bootstrap("require",function(t,n){var r=t("promise").Promise,i=t("mini-url");e(n,r,i)});else{if("undefined"==typeof process)throw new Error("Can't support require on this platform");var t=require("bluebird"),n=require("url");e(exports,t,n),require("./node")}}(function(e,t,n){"use strict";function r(e){var t;return g.has(e)?t=g.get(e):(t=m.exec(e),t=t?t[1]:e,g.set(e,t)),t}function i(e,t){function n(n,r){var i;return t.has(n)?i=t.get(n):(i=e(n,r),t.set(n,i)),i}return n}function o(e,t,n){var r=e.length,i=String(t),o=i.length,a=r;void 0!==n&&(a=n?Number(n):0,a!==a&&(a=0));var s=Math.min(Math.max(a,0),r),l=s-o;if(l<0)return!1;for(var c=-1;++c<o;)if(e.charCodeAt(l+c)!==i.charCodeAt(c))return!1;return!0}function a(e,t,n){""===t||"."===t||(".."===t?n.length&&n.pop():n.push(t))}function s(e,t){if(""===e&&""===t)return"";var n,r,i=v.get(e)||v.set(e,i=new d)&&i||i;if(!(i.has(t)&&e in i.get(t))){e=String(e);var o=y.get(e)||y.set(e,o=e.split("/"))&&o||o,s=y.get(t)||y.set(t,s=t.split("/"))&&s||s,l=a;if(o.length&&"."===o[0]||".."===o[0])for(n=0,r=s.length-1;n<r;n++)l(s,s[n],_);for(n=0,r=o.length;n<r;n++)l(o,o[n],_);i.get(t)||i.set(t,new d),i.get(t).set(e,_.join("/")),_.length=0}return i.get(t).get(e)}function l(t,r,i){if(r=r||{},"string"==typeof t&&(t={location:t}),t.main&&(t.location=r.mainPackageLocation),t.name&&r.registry&&r.registry.has(t.name)&&(t.location=r.registry.get(t.name)),!t.location&&r.packagesDirectory&&t.name)t.location=n.resolve(r.packagesDirectory,t.name+"/");else if(!t.location)return t;if(w.test(t.location)||(t.location+="/"),!e.isAbsolute(t.location)){if(!r.location)throw new Error("Dependency locations must be fully qualified: "+JSON.stringify(t));t.location=n.resolve(r.location,t.location)}return t.name&&r.registry.set(t.name,t.location),t}function c(e,t){if(e)for(var n,r=0,i=Object.keys(e);n=i[r];r++)t[n]||(t[n]={name:n,version:e[n]})}function u(e){return e._args||e._requested?"flat":"nested"}function f(t,i,o){w.test(t)||(t+="/");var a=Object.create(o);a.name=i.name,a.location=t||e.getLocation(),a.packageDescription=i,a.useScriptInjection=i.useScriptInjection,a.strategy=o.strategy||u(i),void 0!==i.production&&(a.production=i.production);var f=a.modules=a.modules||{},d=a.registry;void 0===a.name||d.has(a.name)||d.set(a.name,a.location);var h,p=i.overlay||{};if("string"==typeof i.browser)p.browser={redirects:{"":i.browser}};else if("object"==typeof i.browser){var b,m,g=i.browser,v=Object.keys(g);for(p.browser={redirects:{}},h=p.browser.redirects,m=0;b=v[m];m++)g[b]!==!1&&(h[b]=g[b])}var y,_,x,k;_=a.overlays=a.overlays||e.overlays;for(var j=0,O=_.length;j<O;j++)if(y=p[x=_[j]])for(k in y)y.hasOwnProperty(k)&&(i[k]=y[k]);if(delete i.overlay,"flat"===a.strategy?a.packagesDirectory=n.resolve(a.mainPackageLocation,"node_modules/"):a.packagesDirectory=n.resolve(t,"node_modules/"),i.main=i.main||"index",f[""]={id:"",redirect:r(s(i.main,"")),location:a.location},h=i.redirects,void 0!==h)for(k in h)h.hasOwnProperty(k)&&(f[k]={id:k,redirect:r(s(h[k],k)),location:n.resolve(t,k)});var C=i.mappings||{};c(i.dependencies,C),a.production||c(i.devDependencies,C);for(var E=0,A=Object.keys(C);k=A[E];E++)C[k]=l(C[k],a,k);return a.mappings=C,a}var d,h=eval,p=h("this");p.Map?d=p.Map:(d=function(){this._content=Object.create(null)},d.prototype.constructor=d,d.prototype.set=function(e,t){return this._content[e]=t,this},d.prototype.get=function(e){return this.hasOwnProperty.call(this._content,e)?this._content[e]:null},d.prototype.has=function(e){return e in this._content});var b=function(){};b.prototype.id=null,b.prototype.display=null,b.prototype.require=null,b.prototype.factory=void 0,b.prototype.exports=void 0,b.prototype.redirect=void 0,b.prototype.location=null,b.prototype.directory=null,b.prototype.injected=!1,b.prototype.mappingRedirect=void 0,b.prototype.type=null,b.prototype.text=void 0,b.prototype.dependees=null,b.prototype.extraDependencies=void 0,b.prototype.uuid=null;var m=/^(.*)\.js$/,g=new d,v=new d,y=new d,_=[],w=/\/$/,x=/^[a-z]+$/;e.makeRequire=function(o){function a(e){var t=x.test(e)?e:e.toLowerCase();if(!(t in v)){var n=new b;v[t]=n,n.id=e,n.display=o.name||o.location,n.display+="#",n.display+=e,n.require=g}return v[t]}function c(e,t){var r,i,s=a(e),l=u(e);l?(r=o.mappings[l],e.length>l.length?(i=e.slice(l.length+1),s.location=n.resolve(r.location,i),"undefined"==typeof r.mappingRequire?o.loadPackage(r,o).then(function(e){r.mappingRequire=e,e.inject(i,t)}):r.mappingRequire.inject(i,t)):s.location=r.location):s.location=n.resolve(o.location,e),s.exports=t,s.directory=n.resolve(s.location,"./"),s.injected=!0,s.redirect=void 0,s.mappingRedirect=void 0,s.error=void 0}function u(e){var t,n,r=o.mappings,i=Object.keys(r),a=i.length;for(t=0;t<a;t++)if(n=i[t],e===n||0===e.indexOf(n)&&"/"===e.charAt(n.length))return n}function f(e,n,i){return i=i||Object.create(null),e in i?null:(i[e]=!0,y(e,n).then(function(){var n,o,l,c=a(e),u=c.dependencies;if(u&&u.length>0)for(var d=0;o=u[d];d++)(l=f(r(s(o,e)),e,i))&&(n?n.push?n.push(l):n=[n,l]:n=l);return n?void 0===n.push?n:t.all(n):null},function(t){a(e).error=t}))}function h(e,t){var r=a(e);if(r.id!==e)throw new Error("Can't require module "+JSON.stringify(r.id)+" by alternate spelling "+JSON.stringify(e));if(r.error){var i=new Error("Can't require module "+JSON.stringify(r.id)+" via "+JSON.stringify(t)+" because "+r.error.message);throw i.cause=r.error,i}if(void 0!==r.redirect)return h(r.redirect,t);if(void 0!==r.mappingRedirect)return r.mappingRequire(r.mappingRedirect,t);if(void 0!==r.exports)return r.exports;if(void 0===r.factory)throw new Error("Can't require module "+JSON.stringify(e)+" via "+JSON.stringify(t));r.directory=n.resolve(r.location,"./"),r.exports={};var o;try{o=r.factory(m(e),r.exports,r)}catch(s){throw r.exports=void 0,s}return void 0!==o&&(r.exports=o),r.exports}function p(e,t,n){var r=o.location;if(t.location===r)return e;var i=!!n;if(n=n||new d,n.has(r))return null;n.set(r,!0);for(var a in o.mappings){var s=o.mappings[a];if(r=s.location,o.hasPackage(r)){var l=o.getPackage(r),c=l.identify(e,t,n);if(null!==c)return""===c?a:(a+="/",a+=c)}}if(i)return null;throw new Error("Can't identify "+e+" from "+t.location)}function m(t){var n=function(e){var n=r(s(e,t));return h(n,t)};n.viaId=t,n.async=function(e){var i=r(s(e,t));return f(i,t).then(function(){return n(i)})},n.resolve=function(e){return r(s(e,t))},n.getModule=a,n.getModuleDescriptor=a,n.load=y,n.deepLoad=f,n.loadPackage=function(t,n){return n?e.loadPackage(t,n):o.loadPackage(t,o)},n.hasPackage=function(e){return o.hasPackage(e)},n.getPackage=function(e){return o.getPackage(e)},n.isMainPackage=function(){return n.location===o.mainPackageLocation},n.injectPackageDescription=function(t,n){e.injectPackageDescription(t,n,o)},n.injectPackageDescriptionLocation=function(t,n){e.injectPackageDescriptionLocation(t,n,o)},n.injectMapping=function(e,t){e=l(e,o,t),t=t||e.name,o.mappings[t]=e},n.injectDependency=function(e){n.injectMapping({name:e},e)},n.identify=p,n.inject=c;for(var i=o.exposedConfigs,u=0,d=i.length;u<d;u++)n[i[u]]=o[i[u]];return n.config=o,n.read=o.read,n}var g;o=o||{},o.cache=o.cache||new d,o.rootLocation=n.resolve(o.rootLocation||e.getLocation(),"./"),o.location=n.resolve(o.location||o.rootLocation,"./"),o.paths=o.paths||[o.location],o.mappings=o.mappings||{},o.exposedConfigs=o.exposedConfigs||e.exposedConfigs,o.moduleTypes=o.moduleTypes||["html","meta","mjson"],o.makeLoader=o.makeLoader||e.makeLoader,o.load=o.load||o.makeLoader(o),o.makeCompiler=o.makeCompiler||e.makeCompiler,o.compile=o.compile||o.makeCompiler(o),o.parseDependencies=o.parseDependencies||e.parseDependencies,o.read=o.read||e.read,o.strategy=o.strategy||"nested";var v=o.modules=o.modules||Object.create(null),y=i(function(e,n){var r=a(e);return t["try"](function(){if(void 0===r.factory&&void 0===r.exports&&void 0===r.redirect)return o.load(e,r)}).then(function(){return o.compile(r).then(function(){void 0!==r.redirect&&(r.dependencies=r.dependencies||[],r.dependencies.push(r.redirect)),void 0!==r.extraDependencies&&(r.dependencies=r.dependencies||[],Array.prototype.push.apply(r.dependencies,r.extraDependencies))})})},o.cache);return g=m("")},e.injectPackageDescription=function(e,n,r){var i=r.descriptions=r.descriptions||{};i[e]=t.resolve(n)},e.injectLoadedPackageDescription=function(t,n,r,i){var o,a=f(t,n,r);return"function"==typeof i?o=i:(e.delegate&&e.delegate.willCreatePackage&&(o=e.delegate.willCreatePackage(t,n,a)),o||(o=e.makeRequire(a),e.delegate&&e.delegate.didCreatePackage&&e.delegate.didCreatePackage(a))),r.packages[t]=o,o},e.injectPackageDescriptionLocation=function(e,t,n){var r=n.descriptionLocations=n.descriptionLocations||{};r[e]=t},e.loadPackageDescription=function(t,r){var i=t.location,o=r.descriptions=r.descriptions||{};if(void 0===o[i]){var a,s=r.descriptionLocations=r.descriptionLocations||{};a=s[i]?s[i]:n.resolve(i,"package.json");var l;e.delegate&&"function"==typeof e.delegate.requireWillLoadPackageDescriptionAtLocation&&(l=e.delegate.requireWillLoadPackageDescriptionAtLocation(a,t,r)),l||(l=(r.read||e.read)(a)),o[i]=l.then(function(e){try{return JSON.parse(e)}catch(t){throw t.message=t.message+" in "+JSON.stringify(a),t}})}return o[i]},e.loadPackage=function(t,n,r){if(t=l(t,n),!t.location)throw new Error("Can't find dependency: "+JSON.stringify(t));var i=t.location;n=Object.create(n||null);var o=n.loadingPackages=n.loadingPackages||{},a=n.packages={},s=n.registry=n.registry||new d;n.mainPackageLocation=n.mainPackageLocation||i,n.hasPackage=function(e){if(e=l(e,n),!e.location)return!1;var t=e.location;return!!a[t]},n.getPackage=function(e){if(e=l(e,n),!e.location)throw new Error("Can't find dependency: "+JSON.stringify(e)+" from "+n.location);var t=e.location;if(!a[t])throw o[t]?new Error("Dependency has not finished loading: "+JSON.stringify(e)):new Error("Dependency was not loaded: "+JSON.stringify(e));return a[t]},n.loadPackage=function(t,r){if(t=l(t,r),!t.location)throw new Error("Can't find dependency: "+JSON.stringify(t)+" from "+n.location);var i=t.location;return o[i]||(o[i]=e.loadPackageDescription(t,n).then(function(t){return e.injectLoadedPackageDescription(i,t,n)})),o[i]};var c;return c="object"==typeof r?e.injectLoadedPackageDescription(i,r,n):n.loadPackage(t),"function"==typeof c.then?c=c.then(function(e){return e.registry=s,e}):c.registry=s,c.location=i,c.async=function(e,t){return c.then(function(n){return n.async(e,t)})},c},e.resolve=s;var k=/\.([^\/\.]+)$/;e.extension=function(e){var t=k.exec(e);if(t)return t[1]};var j=/^[\w\-]+:/;e.isAbsolute=function(e){return j.test(e)};var O=/(?:^|[^\w\$_.])require\s*\(\s*["']([^"']*)["']\s*\)/g,C=/^\/\/.*/gm,E=/^\/\*[\S\s]*?\*\//gm;e.parseDependencies=function(e){e=e.replace(C,"").replace(E,"");for(var t,n=[];null!==(t=O.exec(e));)n.push(t[1]);return n},e.DependenciesCompiler=function(t,n){return function(r){return r.dependencies||void 0===r.text||(r.dependencies=t.parseDependencies(r.text)),n(r),r&&!r.dependencies&&(r.text||r.factory?r.dependencies=e.parseDependencies(r.text||r.factory):r.dependencies=[]),r}};var A=/^#!/,D="//#!";e.ShebangCompiler=function(e,t){return function(e){e.text&&(e.text=e.text.replace(A,D)),t(e)}},e.LintCompiler=function(e,n){return function(r){try{n(r)}catch(i){throw i.message=i.message+" in "+r.location,console.log(i),e.lint&&t.resolve().then(function(){e.lint(r)}),i}}},e.exposedConfigs=["paths","mappings","location","packageDescription","packages","modules"];var P;P="undefined"!=typeof window?function(t){return e.SerializationCompiler(t,e.TemplateCompiler(t,e.JsonCompiler(t,e.DependenciesCompiler(t,e.LintCompiler(t,e.Compiler(t))))))}:function(t){return e.SerializationCompiler(t,e.TemplateCompiler(t,e.JsonCompiler(t,e.ShebangCompiler(t,e.DependenciesCompiler(t,e.LintCompiler(t,e.Compiler(t)))))))},e.makeCompiler=function(n){return function(r){return new t(function(t,i){return e.MetaCompiler(r).then(function(){t("object"==typeof r.exports?r:P(n)(r))})})}},e.JsonCompiler=function(e,t){var n=/\.json$/;return function(e){var r=(e.location||"").match(n);if(r)return"object"!=typeof e.exports&&"string"==typeof e.text&&(e.exports=JSON.parse(e.text)),e;var i=t(e);return i}},e.MetaCompiler=function(n){if(n.location&&(o(n.location,".meta")||o(n.location,".mjson"))&&"object"!=typeof n.exports&&"string"==typeof n.text){if(e.delegate&&"function"==typeof e.delegate.requireWillCompileMJSONFile)return e.delegate.requireWillCompileMJSONFile(n.text,n.require,n.id).then(function(e){return n.exports=e||JSON.parse(n.text),n});n.exports=JSON.parse(n.text)}return t.resolve(n)};var T=/(.*\/)?(?=[^\/]+)/,S=".html",L=".html.load.js";e.TemplateCompiler=function(e,t){return function(e){var n=e.location;if(n){if(o(n,S)||o(n,L)){var r=n.match(T);if(r)return e.dependencies=e.dependencies||[],e.exports={directory:r[1],content:e.text},e}t(e)}}};var z=function(e,t,n){return this.require=e,this.module=t,this.property=n,this};z.prototype={get moduleId(){return this.module},get objectName(){return this.property},get aliases(){return this._aliases||(this._aliases=[this.property])},_aliases:null,isInstance:!1};var R="_montage_metadata",M=/((.*)\.reel)\/\2$/,F=function(e,t){return t};e.SerializationCompiler=function(e,t){return function(n){if(t(n),n.factory){var r=n.factory;return n.factory=function(t,n,i){var o;try{o=r.call(this,t,n,i,p)}catch(a){if(!(a instanceof SyntaxError))throw a;e.lint(i)}if(o)return o;var s,l,c,u=Object.keys(n);for(s=0,c;c=u[s];s++)(l=n[c])instanceof Object&&(l.hasOwnProperty(R)&&!l[R].isInstance?l[R].aliases.push(c):Object.isSealed(l)||(l[R]=new z(t,i.id.replace(M,F),c)))},n}}},e.MappingsLoader=function(t,n){return t.mappings=t.mappings||{},t.name=t.name,function(r,i){function o(e){var n=r.slice(u.length+1);return t.mappings[u].mappingRequire=e,i.mappingRedirect=n,i.mappingRequire=e,e.deepLoad(n,t.location)}if(e.isAbsolute(r))return n(r,i);var a=t.mappings,s=Object.keys(a),l=s.length;void 0!==t.name&&0===r.indexOf(t.name)&&"/"===r.charAt(t.name.length)&&console.warn("Package reflexive module ignored:",r);var c,u;for(c=0;c<l;c++)if(u=s[c],r===u||0===r.indexOf(u)&&"/"===r.charAt(u.length))return t.loadPackage(a[u],t).then(o);return n(r,i)}},e.LocationLoader=function(t,r){function i(t,o){var a,s,l=t,c=i.config,u=e.extension(t);return(!u||"js"!==u&&"json"!==u&&c.moduleTypes.indexOf(u)===-1)&&(l+=".js"),a=o.location=n.resolve(c.location,l),c.delegate&&c.delegate.packageWillLoadModuleAtLocation&&(s=c.delegate.packageWillLoadModuleAtLocation(o,a)),s?s:r(a,o)}return i.config=t,i},e.MemoizedLoader=function(e,t){return i(t,e.cache)};var I=/([^\/]+)\.reel$/,B=".reel",N="/";e.ReelLoader=function(e,t){return function(e,n){return o(e,B)?(n.redirect=e,n.redirect+=N,n.redirect+=I.exec(e)[1],n):t(e,n)}}}),bootstrap("require/browser",function(e){function t(e){var n=e.target,r=n.module;200===n.status||0===n.status&&n.responseText?(r&&(r.type=u,r.text=n.responseText,r.location=n.url),n.resolve(n.responseText),t.xhrPool.push(n)):n.onerror(e),n.abort(),n.url=null,n.module=null}function n(e){var t=e.target,r=t.url;t.reject(new Error("Can't XHR "+JSON.stringify(r))),n.xhrPool.push(t),t.abort(),t.url=null,t.module=null}function r(e,t){var n=r.xhrPool.pop();n||(n=new r.XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(c),n.onload=r.onload,n.onerror=r.onerror,n.promiseHandler=function(e,t){n.resolve=e,n.reject=t}),n.url=e,n.module=t,n.open(l,e,!0);var i=new a(n.promiseHandler);return n.send(null),i}var i,o=e("require"),a=e("promise"),s=e("mini-url"),l="GET",c="application/javascript",u="javascript",f=eval;f("this"),o.getLocation=function(){if(!i){var e=document.querySelector("head > base");i=e?e.href:window.location,i=s.resolve(i,".")}return i},o.overlays=["window","browser","montage"];var d=[];t.xhrPool=d,n.xhrPool=d,o.read=r,r.xhrPool=d,r.XMLHttpRequest=XMLHttpRequest,r.onload=t,r.onerror=n;var h="__",p="_",b="(function ",m="(require, exports, module, global) {",g="//*/\n})\n//# sourceURL=",v=[b,void 0,m,void 0,g,void 0],y=/[^\w\d]/g;o.Compiler=function(e){return function(t){if(t.factory||void 0===t.text)return t;if(e.useScriptInjection)throw new Error("Can't use eval.");var n=[h,t.require.config.name,p,t.id].join("").replace(y,p);v[1]=n,v[3]=t.text,v[5]=t.location,t.factory=f(v.join("")),t.factory.displayName=n,t.text=null,v[1]=v[3]=v[5]=null}},o.XhrLoader=function(e){return function(t,n){return e.read(t,n).then(function(e){n.type=u,n.text=e,n.location=t})}};var _={},w=function(e,t){var n=_[e]=_[e]||{};if(!n[t]){var r;n[t]=new a(function(e,t){r=e}),n[t].resolve=r}return n[t]},x=function(e,t,n){n&&n.isPending()?n.then(function(){t.isPending()&&o.loadScript(e)}):t.isPending()&&o.loadScript(e)};montageDefine=function(e,t,n){w(e,t).resolve(n)},o.loadScript=function(e){var t=document.createElement("script");t.onload=function(){t.parentNode.removeChild(t)},t.onerror=function(e){t.parentNode.removeChild(t)},t.src=e,t.defer=!0,document.getElementsByTagName("head")[0].appendChild(t)},o.ScriptLoader=function(e){var t=e.packageDescription.hash;return function(n,r){return a["try"](function(){if(_[t]&&_[t][r.id])return _[t][r.id];/\.js$/.test(n)?n=n.replace(/\.js$/,".load.js"):n+=".load.js";var i=w(t,r.id);return x(n,i,e.preloaded),i}).then(function(e){delete _[t][r.id];for(var i in e)r[i]=e[i];r.location=n,r.directory=s.resolve(n,".")})}};var k=o.loadPackageDescription;o.loadPackageDescription=function(e,t){if(e.hash){var n=w(e.hash,"package.json"),r=s.resolve(e.location,"package.json.load.js");return x(r,n,t.preloaded),n.get("exports")}return k(e,t)},o.makeLoader=function(e){var t;return t=e.useScriptInjection?o.ScriptLoader:o.XhrLoader,o.ReelLoader(e,o.MappingsLoader(e,o.LocationLoader(e,o.MemoizedLoader(e,t(e)))))}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(l){s=l}var c=e("./schedule"),u=e("./queue"),f=e("./util");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target);
},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),u=new e(t);u._propagateFrom(this,1);var f=this._target();if(u._setBoundTo(c),c instanceof e){var d={promiseRejectionQueued:!1,promise:u,target:f,bindingPromise:c};f._then(t,a,void 0,u,d),c._then(s,l,void 0,u,d),u._setOnCancel(c)}else u._resolveCallback(f);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=r,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return 0>t&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),l=s.canEvaluate;s.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(l){var r=a(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),l.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(l){var c=s._boundValue();e:for(var u=0;u<e.length;++u){var f=e[u];if(f===Error||null!=f&&f.prototype instanceof Error){if(l instanceof f)return o(n).call(c,l)}else if("function"==typeof f){var d=o(f).call(c,l);if(d===a)return d;if(d)return o(n).call(c,l)}else if(r.isObject(l)){for(var h=i(f),p=0;p<h.length;++p){var b=h[p];if(f[b]!=l[b])continue e}return o(n).call(c,l)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){return i?new t:void 0}function r(){var e=o.length-1;return e>=0?o[e]:void 0}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t){return{promise:t}}function i(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+I.toString(e));r._attachCancellationCallback(e)})}catch(i){return i}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?I.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function l(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new T(this._peekContext())}function p(e,t){if(B(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);I.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),I.notEnumerableProp(e,"__stackCleaned__",!0)}}}function b(e,t,n,r,i){if(void 0===e&&null!==t&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=w(s),c=l.length-1;c>=0;--c){var u=l[c];if(!q.test(u)){var f=u.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(l.length>0)for(var d=l[0],c=0;c<s.length;++c)if(s[c]===d){c>0&&(a="\n"+s[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,t)}}function m(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),g(n)}function g(e,n,r){if(oe.warnings){var i,o=new F(e);if(n)r._attachExtraTrace(o);else if(oe.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}ee("warning",o)||j(o,"",!0)}}function v(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function y(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function _(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=r[s];if(t[i]!==l)break;t.pop(),i--}t=r}}function w(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||U.test(r),o=i&&ne(r);i&&!o&&(H&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function x(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||U.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?x(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:w(t)}}function j(e,t,n){if("undefined"!=typeof console){var r;if(I.isObject(e)){var i=e.stack;r=t+W(i,e)}else r=t+String(e);"function"==typeof z?z(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function O(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(o){M.throwLater(o)}"unhandledRejection"===e?ee(e,n,r)||i||j(n,"Unhandled rejection "):ee(e,r)}function C(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():I.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+E(t)+">, no stack trace)"}function E(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function A(){return"function"==typeof ie}function D(e){var t=e.match(re);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}function P(e,t){if(A()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<i.length;++l){var c=D(i[l]);if(c){n=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=D(o[l]);if(c){r=c.fileName,s=c.line;break}}0>a||0>s||!n||!r||n!==r||a>=s||(ne=function(e){if(N.test(e))return!0;var t=D(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function T(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ie(this,T),t>32&&this.uncycle()}var S,L,z,R=t._getDomain,M=t._async,F=e("./errors").Warning,I=e("./util"),B=I.canAttachTrace,N=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,q=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,W=null,H=!1,G=!(0==I.env("BLUEBIRD_DEBUG")||!I.env("BLUEBIRD_DEBUG")&&"development"!==I.env("NODE_ENV")),$=!(0==I.env("BLUEBIRD_WARNINGS")||!G&&!I.env("BLUEBIRD_WARNINGS")),J=!(0==I.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!I.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=I.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&($||!!I.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){O("rejectionHandled",S,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),O("unhandledRejection",L,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return g(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=R();L="function"==typeof e?null===t?e:I.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=R();S="function"==typeof e?null===t?e:I.domainBind(t,e):void 0};var Q=function(){};t.longStackTraces=function(){if(M.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!oe.longStackTraces&&A()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;oe.longStackTraces=!0,Q=function(){if(M.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),M.enableTrampoline(),oe.longStackTraces=!1},t.prototype._captureStackTrace=h,t.prototype._attachExtraTrace=p,n.activateLongStackTraces(),M.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return oe.longStackTraces&&A()};var Y=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return I.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!I.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return I.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!I.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),I.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!I.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return I.isNode?function(){return process.emit.apply(process,arguments)}:I.global?function(e){var t="on"+e.toLowerCase(),n=I.global[t];return!!n&&(n.apply(I.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),K={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:r},ee=function(e){var t=!1;try{t=Z.apply(null,arguments)}catch(n){M.throwLater(n),t=!0}var r=!1;try{r=Y(e,K[e].apply(null,arguments))}catch(n){M.throwLater(n),r=!0}return r||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&Q()),"warnings"in e){var n=e.warnings;oe.warnings=!!n,X=oe.warnings,I.isObject(n)&&"wForgottenReturn"in n&&(X=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!oe.cancellation){if(M.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=c,t.prototype._propagateFrom=u,t.prototype._onCancel=s,t.prototype._setOnCancel=l,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,te=u,oe.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!oe.monitoring?(oe.monitoring=!0,t.prototype._fireEvent=ee):!e.monitoring&&oe.monitoring&&(oe.monitoring=!1,t.prototype._fireEvent=i)),t},t.prototype._fireEvent=i,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(r){return r}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var te=f,ne=function(){return!1},re=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;I.inherits(T,Error),n.CapturedTrace=T,T.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;e>r;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var l=r>0?t[r-1]:this;e-1>s?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},T.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(w(i.stack.split("\n"))),i=i._parent;_(r),y(r),I.notEnumerableProp(e,"stack",v(n,r)),I.notEnumerableProp(e,"__stackCleaned__",!0)}};var ie=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():C(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=e,W=t;var n=Error.captureStackTrace;return ne=function(e){return N.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,W=t,H=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?C(t):t.toString()},null):(U=e,W=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(z=function(e){console.warn(e)},I.isNode&&process.stderr.isTTY?z=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:I.isNode||"string"!=typeof(new Error).stack||(z=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var oe={warnings:$,longStackTraces:!1,cancellation:!1,monitoring:!1};return J&&t.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return te},boundValueFunction:function(){return d},checkForgottenReturns:b,setBounds:P,warn:g,deprecated:m,CapturedTrace:T,fireDomEvent:Y,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:t),f(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return u(n,Error),n}function i(e){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,a,s=e("./es5"),l=s.freeze,c=e("./util"),u=c.inherits,f=c.notEnumerableProp,d=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),b=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(m){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(b.prototype[g[v]]=Array.prototype[g[v]]);s.defineProperty(b.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),b.prototype.isOperational=!0;var y=0;b.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return y--,t},u(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=l({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:b}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(t){return a}},d=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:d,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function l(e){return a(this,e)?void 0:(d.e=e,d)}function c(e){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),e);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var h=n(u,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new f("late cancellation observer");return i._attachExtraTrace(p),d.e=p,d}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(s,l,void 0,this,void 0)}}}return i.isRejected()?(a(this),d.e=e,d):(a(this),e)}var u=e("./util"),f=t.CancellationError,d=u.errorObj,h=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,c);var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var a=arguments[r];if(!u.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(h(i,s,this),1,void 0,c)},i}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=h(n[o])(e);if(r._popContext(),a===d){r._pushContext();var s=t.reject(d.e);return r._popContext(),s}var l=i(a,r);if(l instanceof t)return l}return null}function l(e,n,i,o){if(a.cancellation()){var s=new t(r),l=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new t(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),u=c.TypeError,f=e("./util"),d=f.errorObj,h=f.tryCatch,p=[];f.inherits(l,o),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),e=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},l.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(e){var n=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=l,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r((void 0),(void 0),n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+f.classString(e));p.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=c();this._callback=null===i?t:u.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function l(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var c=t._getDomain,u=e("./util"),f=u.tryCatch,d=u.errorObj,h=t._async;u.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(0>n){if(n=-1*n-1,r[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,u=this._callback,h=c._boundValue();c._pushContext();var p=f(u).call(h,e,n,o),b=c._popContext();if(a.checkForgottenReturns(p,b,null!==s?"Promise.filter":"Promise.map",c),p===d)return this._reject(p.e),!0;var m=i(p,this._promise);if(m instanceof t){m=m._target();var g=m._bitField;if(0===(50397184&g))return l>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0===(33554432&g))return 0!==(16777216&g)?(this._reject(m._reason()),!0):(this._cancel(),!0);p=m._value()}r[n]=p}var v=++this._totalResolved;return v>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;n>o;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return l(this,e,t,null)},t.map=function(e,t,n,r){return l(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){
if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t["try"]=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];l=a.isArray(c)?s(e).apply(u,c):s(e).call(u,c)}else l=s(e)();var f=r._popContext();return o.checkForgottenReturns(l,f,"Promise.try",r),r._resolveFromSyncValue(l),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=u.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,l=e("./errors"),c=l.OperationalError,u=e("./es5"),f=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=s(t).apply(n._boundValue(),[null].concat(e));i===l&&a.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?s(t).call(r,null):s(t).call(r,null,e);i===l&&a.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=s(t).call(n._boundValue(),e);i===l&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){function n(){}function r(e,t){if(null==e||e.constructor!==i)throw new v("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new v("expecting a function but got "+h.classString(t))}function i(e){e!==_&&r(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new i(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l,c=function(){return new v("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new i.PromiseInspection(this._target())},f=function(e){return i.reject(new v(e))},d={},h=e("./util");l=h.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(i,"_getDomain",l);var p=e("./es5"),b=e("./async"),m=new b;p.defineProperty(i,"_async",{value:m});var g=e("./errors"),v=i.TypeError=g.TypeError;i.RangeError=g.RangeError;var y=i.CancellationError=g.CancellationError;i.TimeoutError=g.TimeoutError,i.OperationalError=g.OperationalError,i.RejectionError=g.OperationalError,i.AggregateError=g.AggregateError;var _=function(){},w={},x={},k=e("./thenables")(i,_),j=e("./promise_array")(i,_,k,f,n),O=e("./context")(i),C=O.create,E=e("./debuggability")(i,O),A=(E.CapturedTrace,e("./finally")(i,k,x)),D=e("./catch_filter")(x),P=e("./nodeback"),T=h.errorObj,S=h.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;t-1>n;++n){var o=arguments[n];if(!h.isObject(o))return f("Catch statement predicate: expecting an object but got "+h.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,D(r,e,this))}return this.then(void 0,e)},i.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},i.prototype.then=function(e,t){if(E.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},i.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(e){return"function"!=typeof e?f("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,w,void 0)},i.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new j(this).promise()},i.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},i.getNewLibraryCopy=t.exports,i.is=function(e){return e instanceof i},i.fromNode=i.fromCallback=function(e){var t=new i(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=S(e)(P(t,n));return r===T&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},i.all=function(e){return new j(e).promise()},i.cast=function(e){var t=k(e);return t instanceof i||(t=new i(_),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(e){var t=new i(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},i.setScheduler=function(e){if("function"!=typeof e)throw new v("expecting a function but got "+h.classString(e));return m.setScheduler(e)},i.prototype._then=function(e,t,n,r,o){var a=void 0!==o,s=a?o:new i(_),c=this._target(),u=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=l();if(0!==(50397184&u)){var d,p,b=c._settlePromiseCtx;0!==(33554432&u)?(p=c._rejectionHandler0,d=e):0!==(16777216&u)?(p=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(b=c._settlePromiseLateCancellationObserver,p=new y("late cancellation observer"),c._attachExtraTrace(p),d=t),m.invoke(b,c,{handler:null===f?d:"function"==typeof d&&h.domainBind(f,d),promise:s,receiver:r,value:p})}else c._addCallbacks(e,t,s,r,f);return s},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];return t===d?void 0:void 0===t&&this._isBound()?this._boundValue():t},i.prototype._promiseAt=function(e){return this[4*e-4+2]},i.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},i.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=d),this._addCallbacks(t,n,r,i,null)},i.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=d),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:h.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:h.domainBind(i,t))}return this._setLength(o+1),o},i.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},i.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=k(e,this);if(!(n instanceof i))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var o=r._bitField;if(0===(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;a>s;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var l=new y("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}},i.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&E.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},i.prototype._resolveFromExecutor=function(e){if(e!==_){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},i.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===w?n&&"number"==typeof n.length?o=S(e).apply(this._boundValue(),n):(o=T,o.e=new v("cannot .spread() a non-array: "+h.classString(n))):o=S(e).call(t,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===x?r._reject(n):o===T?r._rejectCallback(o.e,!1):(E.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(e){this._rejectionHandler0=e},i.prototype._settlePromise=function(e,t,r,o){var a=e instanceof i,s=this._bitField,l=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),r instanceof A&&r.isFinallyHandler()?(r.cancelPromise=e,S(t).call(r,o)===T&&e._reject(T.e)):t===u?e._fulfill(u.call(r)):r instanceof n?r._promiseCancelled(e):a||e instanceof j?e._cancel():r.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,o,e)):t.call(r,o,e):r instanceof n?r._isResolved()||(0!==(33554432&s)?r._promiseFulfilled(o,e):r._promiseRejected(o,e)):a&&(l&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(o):e._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,o=e.value;"function"==typeof t?n instanceof i?this._settlePromiseFromHandler(t,r,o,n):t.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},i.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},i.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},i.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():m.settlePromises(this))}},i.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?m.fatalError(e,h.isNode):void((65535&t)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(e,t){for(var n=1;e>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._rejectPromises=function(e,t){for(var n=1;e>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){E.deprecated("Promise.defer","new Promise");var e=new i(_);return{promise:e,resolve:o,reject:a}},h.notEnumerableProp(i,"_makeSelfResolutionError",c),e("./method")(i,_,k,f,E),e("./bind")(i,_,k,E),e("./cancel")(i,j,f,E),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,j,k,_,m,l),i.Promise=i,i.version="3.5.1",e("./map.js")(i,j,f,k,_,E),e("./call_get.js")(i),e("./using.js")(i,f,k,C,_,E),e("./timers.js")(i,_,E),e("./generators.js")(i,f,_,k,n,E),e("./nodeify.js")(i),e("./promisify.js")(i,_),e("./props.js")(i,j,k,f),e("./race.js")(i,_,k,f),e("./reduce.js")(i,j,f,k,_,E),e("./settle.js")(i,j,E),e("./some.js")(i,j,f),e("./filter.js")(i,_),e("./each.js")(i,_),e("./any.js")(i),h.toFastProperties(i),h.toFastProperties(i.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(void 0),s(!1),s(new i(_)),E.setBounds(b.firstLineError,h.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util");return l.isArray,l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(e,n){var o=r(this._values,this._promise);if(o instanceof t){o=o._target();var s=o._bitField;if(this._values=o,0===(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=l.asArray(o),null===o){var u=i("expecting an array or an iterable object but got "+l.classString(o)).reason();return void this._promise._rejectCallback(u,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(o)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;n>s;++s){var l=r(e[s],i);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0===(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!==(33554432&a)?this._promiseFulfilled(l._value(),s):0!==(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!x.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var r=h.getDataPropertyOrDefault(e,t+n,_);return!!r&&i(r)}function a(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=h.inheritedDataKeys(e),l=[],c=0;c<s.length;++c){var u=s[c],f=e[u],d=r===k||k(u,f,e);"function"!=typeof f||i(f)||o(e,u,t)||!r(u,f,e,d)||l.push(u,f)}return a(l,t,n),l}function l(e,r,i,o,a,s){function l(){var i=r;r===d&&(i=this);var o=new t(n);o._captureStackTrace();var a="string"==typeof u&&this!==c?this[u]:e,l=p(o,s);try{a.apply(i,b(arguments,l))}catch(f){o._rejectCallback(m(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),u=e;return"string"==typeof u&&(e=o),h.notEnumerableProp(l,"__isPromisified__",!0),l}function c(e,t,n,r,i){for(var o=new RegExp(j(t)+"$"),a=s(e,t,o,n),l=0,c=a.length;c>l;l+=2){var u=a[l],f=a[l+1],p=u+t;if(r===O)e[p]=O(u,d,u,f,t,i);else{var b=r(f,function(){return O(u,d,u,f,t,i)});h.notEnumerableProp(b,"__isPromisified__",!0),e[p]=b}}return h.toFastProperties(e),e}function u(e,t,n){return O(e,t,void 0,e,null,n)}var f,d={},h=e("./util"),p=e("./nodeback"),b=h.withAppended,m=h.maybeWrapAsError,g=h.canEvaluate,v=e("./errors").TypeError,y="Async",_={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),k=function(e){return h.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},j=function(e){return e.replace(/([$])/,"\\$")},O=g?f:l;t.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+h.classString(e));if(i(e))return e;t=Object(t);var n=void 0===t.context?d:t.context,o=!!t.multiArgs,a=u(e,n,o);return h.copyDescriptors(e,a,r),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r=y);var i=t.filter;"function"!=typeof i&&(i=k);var o=t.promisifier;if("function"!=typeof o&&(o=O),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=h.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&h.isClass(l)&&(c(l.prototype,r,i,o,n),c(l,r,i,o,n))}return c(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=f(e),n=!0;else{var r=u.keys(e),i=r.length;t=new Array(2*i);for(var o=0;i>o;++o){var a=r[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=r(e);return c(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=e("./util"),c=l.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);var f=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),d=function(e){for(var t=new s,n=e.length/2|0,r=0;n>r;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};l.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=d(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();a>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;i>o;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,o=n+i&t-1;r(this,0,this,t,o)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,o){var l=r(e);if(l instanceof t)return s(l);if(e=a.asArray(e),null===e)return i("expecting an array or an iterable object but got "+a.classString(e));var c=new t(n);void 0!==o&&c._propagateFrom(o,3);for(var u=c._fulfill,f=c._reject,d=0,h=e.length;h>d;++d){var p=e[d];(void 0!==p||d in e)&&t.cast(p)._then(u,f,void 0,c,null)}return c}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=d();this._fn=null===a?n:h.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,i){if("function"!=typeof t)return r("expecting a function but got "+h.classString(t));var o=new s(e,t,n,i);return o.promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=p(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var d=t._getDomain,h=e("./util"),p=h.tryCatch;h.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],29:[function(e,t,n){"use strict";var r,i=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,l=process.nextTick;r=i.isRecentNode?function(e){s.call(global,e)}:function(e){l.call(process,e)}}else if("function"==typeof a&&"function"==typeof a.resolve){var c=a.resolve();r=function(e){c.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();t.exports=r},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection,a=e("./util");a.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||0>t)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,l=e("./errors").AggregateError,c=a.isArray,u={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new l,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){
return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(u(e)){if(e instanceof t)return e;var i=o(e);if(i===c){r&&r._pushContext();var l=t.reject(i.e);return r&&r._popContext(),l}if("function"==typeof i){if(a(e)){var l=new t(n);return e._then(l._fulfill,l._reject,void 0,l,null),l}return s(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(t){return c.e=t,c}}function a(e){try{return f.call(e,"_promise0")}catch(t){return!1}}function s(e,r,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new t(n),u=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,d=l.tryCatch(r).call(e,o,a);return f=!1,s&&d===c&&(s._rejectCallback(d.e,!0,!0),s=null),u}var l=e("./util"),c=l.errorObj,u=l.isObject,f={}.hasOwnProperty;return r}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),l=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(c,null,null,e,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,l=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,l,void 0),n._setOnCancel(l)):n=this._then(o,a,void 0,l,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){function s(e){setTimeout(function(){throw e},0)}function l(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,n){function i(){if(a>=c)return u._fulfill();var o=l(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(f){return s(f)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,c=e.length,u=new t(o);return i(),u}function u(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function d(e){return u.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),b=e("./errors").TypeError,m=e("./util").inherits,g=p.errorObj,v=p.tryCatch,y={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},u.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==y?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},u.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(f,u),f.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,n=0;e>n;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(2>e)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+p.classString(i));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var l=new h(e),f=0;e>f;++f){var b=o[f];if(u.isDisposer(b)){var m=b;b=b.promise(),b._setDisposable(m)}else{var y=r(b);y instanceof t&&(b=y._then(d,null,null,{resources:l,index:f},void 0))}l[f]=b}for(var _=new Array(l.length),f=0;f<_.length;++f)_[f]=t.resolve(l[f]).reflect();var w=t.all(_).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}x._pushContext(),i=v(i);var r=s?i.apply(void 0,e):i(e),o=x._popContext();return a.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var e=new t.PromiseInspection(w);return c(l,e)});return l.promise=x,x._setOnCancel(l),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new f(e,this,i());throw new b}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";function r(){try{var e=C;return C=null,e.apply(this,arguments)}catch(t){return D.e=t,D}}function i(e){return C=e,r}function o(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return o(e)?new Error(m(e)):e}function l(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=e[n];return i[n]=t,i}function c(e,t,n){if(!E.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function u(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(e,t,r),e}function f(e){throw e}function d(e){try{if("function"==typeof e){var t=E.names(e.prototype),n=E.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=L.test(e+"")&&E.names(e).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function h(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function p(e){return z.test(e)}function b(e,t,n){for(var r=new Array(e),i=0;e>i;++i)r[i]=t+i+n;return r}function m(e){try{return e+""}catch(t){return"[no string representation]"}}function g(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function v(e){try{u(e,"isOperational",!0)}catch(t){}}function y(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function _(e){return g(e)&&E.propertyIsWritable(e,"stack")}function w(e){return{}.toString.call(e)}function x(e,t,n){for(var r=E.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{E.defineProperty(t,o,E.getDescriptor(e,o))}catch(a){}}}function k(e){return B?process.env[e]:void 0}function j(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}function O(e,t){return e.bind(t)}var C,E=e("./es5"),A="undefined"==typeof navigator,D={e:{}},P="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,T=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},S=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(E.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(a){return r}for(var s=0;s<o.length;++s){var l=o[s];if(!i[l]){i[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&r.push(l)}}e=E.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),L=/this\s*\.\s*\S+\s*=/,z=/^[a-z$_][a-z$_0-9]*$/i,R=function(){return"stack"in new Error?function(e){return _(e)?e:new Error(m(e))}:function(e){if(_(e))return e;try{throw new Error(m(e))}catch(t){return t}}}(),M=function(e){return E.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var F="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};M=function(e){return E.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?F(e):null}}var I="undefined"!=typeof process&&"[object process]"===w(process).toLowerCase(),B="undefined"!=typeof process&&"undefined"!=typeof process.env,N={isClass:d,isIdentifier:p,inheritedDataKeys:S,getDataPropertyOrDefault:c,thrower:f,isArray:E.isArray,asArray:M,notEnumerableProp:u,isPrimitive:o,isObject:a,isError:g,canEvaluate:A,errorObj:D,tryCatch:i,inherits:T,withAppended:l,maybeWrapAsError:s,toFastProperties:h,filledRange:b,toString:m,canAttachTrace:_,ensureErrorObject:R,originatesFromRejection:y,markAsOriginatingFromRejection:v,classString:w,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:B,env:k,global:P,getNativePromise:j,domainBind:O};N.isRecentNode=N.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),N.isNode&&N.toFastProperties(process);try{throw new Error}catch(q){N.lastLineError=q}t.exports=N},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),montageDefine("a5e4c02","package.json",{exports:{name:"todobdd",version:"0.1.0",dependencies:{montage:"montagejs/montage#master"},exclude:["run-tests.html","test"],bundle:["ui/main.reel"],main:"index",hash:"a5e4c02",mappings:{montage:{name:"montage",hash:"15c0bd3",location:"packages/montage@15c0bd3/"}},production:!0,useScriptInjection:!0}}),montageDefine("15c0bd3","package.json",{exports:{name:"montage",version:"17.0.11",description:"Build your next application with a browser based platform that really gets the web.",license:"BSD-3-Clause",repository:{type:"git",url:"git+https://github.com/montagejs/montage.git"},main:"core/core",engines:{node:"4.8.4",npm:"2.15.11"},production:!0,dependencies:{bluebird:"~3.5.0",collections:"~5.0.x",frb:"~4.0.x",htmlparser2:"~3.0.5",jshint:"^2.9.5","moment-timezone":"^0.5.11",mr:"^17.0.8","q-io":"^1.13.3","weak-map":"^1.0.5",xhr2:"^0.1.4","lodash.kebabcase":"^4.1.1","lodash.camelcase":"^4.3.0","lodash.trim":"^4.5.1","lodash.snakecase":"^4.1.1","proxy-polyfill":"~0.1.7"},devDependencies:{concurrently:"^3.4.0","http-server":"^0.10.0","jasmine-console-reporter":"^1.2.7","jasmine-core":"^2.5.2",karma:"^1.5.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.0.1","karma-ie-launcher":"^1.0.0","karma-jasmine":"^1.1.0","karma-phantomjs-launcher":"^1.0.2","karma-safari-launcher":"^1.0.0","montage-testing":"git://github.com/montagejs/montage-testing.git#master","mop-integration":"git://github.com/montagejs/mop-integration.git#master",mr:"git://github.com/montagejs/mr.git#master",open:"0.0.5"},scripts:{test:"node test/run-node.js",jsdoc:"jsdoc -c jsdoc.json",integration:"MONTAGE_VERSION=${MONTAGE_VERSION:=./} MOP_VERSION=${MOP_VERSION:=#master} node node_modules/mop-integration/integration",lint:"jshint .","test:karma":"karma start --no-auto-watch --single-run","test:karma-travis":"karma start --no-auto-watch --single-run --browsers=Chrome_travis_ci","test:karma-firefox":"karma start --no-auto-watch --single-run --browsers=Firefox","test:karma-chrome":"karma start --no-auto-watch --single-run --browsers=Chrome","test:karma-debug":"karma start --auto-watch --no-single-run --browsers=PhantomJS_debug","test:karma-dev":"karma start --auto-watch --no-single-run --capture","test:jasmine":'concurrently "http-server -p 8085" "open http://localhost:8085/test/run.html"'},exclude:["report","doc","test","tools"],gitHead:"0dfff80186f20b9546f352489d0ec289b6336a18",readmeFilename:"README.md",bugs:{url:"https://github.com/montagejs/montage/issues"},homepage:"https://github.com/montagejs/montage#readme",_id:"montage@17.0.11",_shasum:"877d8622723fce31a4904fc52de88081e02c9b84",_from:"montagejs/montage#master",_resolved:"git://github.com/montagejs/montage.git#0dfff80186f20b9546f352489d0ec289b6336a18",redirects:{montage:"core/core"},mappings:{mr:{name:"mr",hash:"3d2ecc4",location:"../mr@3d2ecc4/"},bluebird:{name:"bluebird",hash:"2b669b9",location:"../bluebird@2b669b9/"},collections:{name:"collections",hash:"d59cf92",location:"../collections@d59cf92/"},frb:{name:"frb",hash:"1bc20c3",location:"../frb@1bc20c3/"},htmlparser2:{name:"htmlparser2",hash:"7c8fc6d",location:"../htmlparser2@7c8fc6d/"},jshint:{name:"jshint",hash:"eeaa6c5",location:"../jshint@eeaa6c5/"},"moment-timezone":{name:"moment-timezone",hash:"ec5b1cc",location:"../moment-timezone@ec5b1cc/"},"q-io":{name:"q-io",hash:"02990ae",location:"../q-io@02990ae/"},"weak-map":{name:"weak-map",hash:"e1e2708",location:"../weak-map@e1e2708/"},xhr2:{name:"xhr2",hash:"657fad7",location:"../xhr2@657fad7/"},"lodash.kebabcase":{name:"lodash.kebabcase",hash:"748f0c4",location:"../lodash.kebabcase@748f0c4/"},"lodash.camelcase":{name:"lodash.camelcase",hash:"2dd46f3",location:"../lodash.camelcase@2dd46f3/"},"lodash.trim":{name:"lodash.trim",hash:"5ba426f",location:"../lodash.trim@5ba426f/"},"lodash.snakecase":{name:"lodash.snakecase",hash:"1e4a826",location:"../lodash.snakecase@1e4a826/"},"proxy-polyfill":{name:"proxy-polyfill",hash:"1417edc",location:"../proxy-polyfill@1417edc/"}},hash:"15c0bd3",useScriptInjection:!0}}),montageDefine("2b669b9","package.json",{exports:{name:"bluebird",description:"Full featured Promises/A+ implementation with exceptionally good performance",version:"3.5.1",keywords:["promise","performance","promises","promises-a","promises-aplus","async","await","deferred","deferreds","future","flow control","dsl","fluent interface"],scripts:{lint:"node scripts/jshint.js",test:"node tools/test.js",istanbul:"istanbul",prepublish:"npm run generate-browser-core && npm run generate-browser-full","generate-browser-full":"node tools/build.js --no-clean --no-debug --release --browser --minify","generate-browser-core":"node tools/build.js --features=core --no-debug --release --zalgo --browser --minify && mv js/browser/bluebird.js js/browser/bluebird.core.js && mv js/browser/bluebird.min.js js/browser/bluebird.core.min.js"},homepage:"https://github.com/petkaantonov/bluebird",repository:{type:"git",url:"git://github.com/petkaantonov/bluebird.git"},bugs:{url:"http://github.com/petkaantonov/bluebird/issues"},license:"MIT",author:{name:"Petka Antonov",email:"petka_antonov@hotmail.com",url:"http://github.com/petkaantonov/"},devDependencies:{acorn:"~0.6.0",baconjs:"^0.7.43",bluebird:"^2.9.2","body-parser":"^1.10.2",browserify:"^8.1.1","cli-table":"~0.3.1",co:"^4.2.0","cross-spawn":"^0.2.3",glob:"^4.3.2","grunt-saucelabs":"~8.4.1",highland:"^2.3.0",istanbul:"^0.3.5",jshint:"^2.6.0","jshint-stylish":"~0.2.0",mkdirp:"~0.5.0",mocha:"~2.1",open:"~0.0.5",optimist:"~0.6.1",rimraf:"~2.2.6",rx:"^2.3.25","serve-static":"^1.7.1",sinon:"~1.7.3","uglify-js":"~2.4.16",kefir:"^2.4.1"},main:"./js/release/bluebird.js",webpack:"./js/release/bluebird.js",browser:"./js/browser/bluebird.js",files:["js/browser","js/release","LICENSE"],gitHead:"dcfa52bf8b8a8fc5cfb0ca24bccb33f7493960ae",_id:"bluebird@3.5.1",_npmVersion:"5.0.2",_nodeVersion:"8.0.0",_npmUser:{name:"esailija",email:"petka_antonov@hotmail.com"},dist:{integrity:"sha512-MKiLiV+I1AA596t9w1sQJ8jkiSr5+ZKi0WKrYGUn6d1Fx+Ij4tIj+m2WMQSGczs5jZVxV339chE8iwk6F64wjA==",shasum:"d9551f9de98f1fcda1e683d17ee91a0602ee2eb9",tarball:"https://registry.npmjs.org/bluebird/-/bluebird-3.5.1.tgz"},maintainers:[{name:"esailija",email:"petka_antonov@hotmail.com"}],_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/bluebird-3.5.1.tgz_1507132268699_0.46325381100177765"},directories:{},_shasum:"d9551f9de98f1fcda1e683d17ee91a0602ee2eb9",_resolved:"https://registry.npmjs.org/bluebird/-/bluebird-3.5.1.tgz",_from:"bluebird@>=3.5.0 <3.6.0",hash:"2b669b9",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("d59cf92","package.json",{exports:{name:"collections",version:"5.0.7",description:"data structures with idiomatic JavaScript collection interfaces",homepage:"http://www.collectionsjs.com",author:{name:"Kris Kowal",email:"kris@cixar.com",url:"http://github.com/kriskowal"},contributors:[{name:"Benoit Marchant"}],keywords:["collections","data structures","observable","list","set","map","splay"],bugs:{url:"http://github.com/montagejs/collections/issues"},license:"BSD-3-Clause",licenses:[{type:"MIT",url:"https://raw.github.com/montagejs/collections/master/LICENSE.md"}],repository:{type:"git",url:"git+ssh://git@github.com/montagejs/collections.git"},dependencies:{"weak-map":"~1.0.x"},devDependencies:{"montage-testing":"git://github.com/montagejs/montage-testing.git#master","jasmine-console-reporter":"^1.2.7","jasmine-core":"^2.5.2",karma:"^1.5.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.0.1","karma-jasmine":"^1.1.0","karma-phantomjs-launcher":"^1.0.2","mop-integration":"git://github.com/montagejs/mop-integration.git#master",concurrently:"^3.4.0","http-server":"^0.9.0",open:"0.0.5"},scripts:{test:"node test/run-node.js",integration:"mop-integration","test:karma":"karma start --no-auto-watch --single-run","test:karma-firefox":"karma start --no-auto-watch --single-run --browsers=Firefox","test:karma-chrome":"karma start --no-auto-watch --single-run --browsers=Chrome","test:karma-debug":"karma start --auto-watch --no-single-run --browsers=PhantomJS_debug","test:karma-dev":"karma start --auto-watch --no-single-run --capture","test:jasmine":'concurrently "http-server -a localhost -p 8085" "open http://localhost:8085/test/run.html"'},gitHead:"8ac0a4b8ba73292a74e8023bc5606b64c1afb3c3",_id:"collections@5.0.7",_shasum:"347e78bfe99d3e5a3864b6dfdc7bce4e401cbe54",_from:"collections@>=5.0.0 <5.1.0",_npmVersion:"2.15.11",_nodeVersion:"4.8.0",_npmUser:{name:"hthetiot",email:"hthetiot@gmail.com"},dist:{shasum:"347e78bfe99d3e5a3864b6dfdc7bce4e401cbe54",tarball:"https://registry.npmjs.org/collections/-/collections-5.0.7.tgz"},maintainers:[{name:"aadsm",email:"antonio.afonso@gmail.com"},{name:"francoisfrisch",email:"francoisfrisch@gmail.com"},{name:"hthetiot",email:"hthetiot@gmail.com"},{name:"kriskowal",email:"kris.kowal@cixar.com"},{name:"marchant",email:"benoit@montagestudio.com"},{name:"stuk",email:"stuart@stuartk.com"}],_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/collections-5.0.7.tgz_1501202471492_0.36544556310400367"},directories:{},_resolved:"https://registry.npmjs.org/collections/-/collections-5.0.7.tgz",main:"index",hash:"d59cf92",mappings:{"weak-map":{name:"weak-map",hash:"e1e2708",location:"../weak-map@e1e2708/"}},production:!0,useScriptInjection:!0}}),montageDefine("1417edc","package.json",{exports:{name:"proxy-polyfill",version:"0.1.7",description:"Polyfill for the Proxy object",main:"proxy.js",repository:{type:"git",url:"git+https://github.com/GoogleChrome/proxy-polyfill.git"},keywords:["polyfill","html5","proxy","es6"],author:{name:"The Chromium Authors"},license:"Apache-2.0",bugs:{url:"https://github.com/GoogleChrome/proxy-polyfill/issues"},homepage:"https://github.com/GoogleChrome/proxy-polyfill#readme",gitHead:"0ab75e61e1babbc3e17a254afaeeec291d963ce4",_id:"proxy-polyfill@0.1.7",scripts:{},_shasum:"1c06fe10b0b606e79268e14d4528952e64036d39",_from:"proxy-polyfill@>=0.1.7 <0.2.0",_npmVersion:"4.2.0",_nodeVersion:"7.10.0",_npmUser:{name:"samthor",email:"sam.thorogood@gmail.com"},dist:{shasum:"1c06fe10b0b606e79268e14d4528952e64036d39",tarball:"https://registry.npmjs.org/proxy-polyfill/-/proxy-polyfill-0.1.7.tgz"},maintainers:[{name:"samthor",email:"sam.thorogood@gmail.com"}],_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/proxy-polyfill-0.1.7.tgz_1496274834783_0.8857772031333297"},directories:{},_resolved:"https://registry.npmjs.org/proxy-polyfill/-/proxy-polyfill-0.1.7.tgz",hash:"1417edc",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("1bc20c3","package.json",{exports:{name:"frb",version:"4.0.1",description:"Functional reactive bindings",keywords:["functional","reactive","bindings","observe","change"],author:{name:"Kris Kowal",email:"kris@cixar.com",url:"http://github.com/kriskowal/"},contributors:[{name:"Kris Kowal",email:"kris@cixar.com",url:"http://github.com/kriskowal/"},{name:"Benoit Marchant",email:"benoit@montagestudio.com",url:"http://github.com/marchant/"}],bugs:{url:"http://github.com/montagejs/frb/issues"},licenses:[{type:"MIT",url:"http://github.com/montagejs/frb/raw/master/LICENSE.md"}],repository:{type:"git",url:"git+ssh://git@github.com/montagejs/frb.git"},main:"bindings",dependencies:{collections:"~5.0.x"},devDependencies:{"jasmine-node":"github:montagestudio/jasmine-node#master",pegjs:"git://github.com/dmajda/pegjs.git","memwatch-next":"*"},scripts:{test:"jasmine-node spec","build-parser":"pegjs --allowed-start-rules expression,sheet grammar.pegjs"},gitHead:"f308b188528debcc1eb36c040de7dac338b220df",homepage:"https://github.com/montagejs/frb#readme",_id:"frb@4.0.1",_shasum:"cf463759615169e7b33ae2f66f6f52ada8aa01c7",_from:"frb@>=4.0.0 <4.1.0",_npmVersion:"2.15.11",_nodeVersion:"4.7.0",_npmUser:{name:"marchant",email:"benoit@montagestudio.com"},maintainers:[{name:"kriskowal",email:"kris.kowal@cixar.com"},{name:"marchant",email:"benoit@montagestudio.com"}],dist:{shasum:"cf463759615169e7b33ae2f66f6f52ada8aa01c7",tarball:"https://registry.npmjs.org/frb/-/frb-4.0.1.tgz"},_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/frb-4.0.1.tgz_1490060215062_0.2427865113131702"},directories:{},_resolved:"https://registry.npmjs.org/frb/-/frb-4.0.1.tgz",hash:"1bc20c3",mappings:{collections:{name:"collections",hash:"d59cf92",location:"../collections@d59cf92/"}},production:!0,useScriptInjection:!0}}),montageDefine("2dd46f3","package.json",{exports:{name:"lodash.camelcase",version:"4.3.0",description:"The lodash method `_.camelCase` exported as a module.",homepage:"https://lodash.com/",icon:"https://lodash.com/icon.svg",license:"MIT",keywords:["lodash-modularized","camelcase"],author:{name:"John-David Dalton",email:"john.david.dalton@gmail.com",url:"http://allyoucanleet.com/"},contributors:[{name:"John-David Dalton",email:"john.david.dalton@gmail.com",url:"http://allyoucanleet.com/"},{name:"Blaine Bublitz",email:"blaine.bublitz@gmail.com",url:"https://github.com/phated"},{name:"Mathias Bynens",email:"mathias@qiwi.be",url:"https://mathiasbynens.be/"}],repository:{type:"git",url:"git+https://github.com/lodash/lodash.git"},scripts:{test:'echo "See https://travis-ci.org/lodash/lodash-cli for testing details."'},bugs:{url:"https://github.com/lodash/lodash/issues"},_id:"lodash.camelcase@4.3.0",_shasum:"b28aa6288a2b9fc651035c7711f65ab6190331a6",_from:"lodash.camelcase@>=4.3.0 <5.0.0",_npmVersion:"2.15.10",_nodeVersion:"4.4.7",_npmUser:{name:"jdalton",email:"john.david.dalton@gmail.com"},dist:{shasum:"b28aa6288a2b9fc651035c7711f65ab6190331a6",tarball:"https://registry.npmjs.org/lodash.camelcase/-/lodash.camelcase-4.3.0.tgz"},maintainers:[{name:"jdalton",email:"john.david.dalton@gmail.com"},{name:"mathias",email:"mathias@qiwi.be"},{name:"phated",email:"blaine@iceddev.com"}],_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/lodash.camelcase-4.3.0.tgz_1471109822913_0.6336291655898094"},directories:{},_resolved:"https://registry.npmjs.org/lodash.camelcase/-/lodash.camelcase-4.3.0.tgz",main:"index",hash:"2dd46f3",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("748f0c4","package.json",{exports:{name:"lodash.kebabcase",version:"4.1.1",description:"The lodash method `_.kebabCase` exported as a module.",homepage:"https://lodash.com/",icon:"https://lodash.com/icon.svg",license:"MIT",keywords:["lodash-modularized","kebabcase"],author:{name:"John-David Dalton",email:"john.david.dalton@gmail.com",url:"http://allyoucanleet.com/"},contributors:[{name:"John-David Dalton",email:"john.david.dalton@gmail.com",url:"http://allyoucanleet.com/"},{name:"Blaine Bublitz",email:"blaine.bublitz@gmail.com",url:"https://github.com/phated"},{name:"Mathias Bynens",email:"mathias@qiwi.be",url:"https://mathiasbynens.be/"}],repository:{type:"git",url:"git+https://github.com/lodash/lodash.git"},scripts:{test:'echo "See https://travis-ci.org/lodash/lodash-cli for testing details."'},bugs:{url:"https://github.com/lodash/lodash/issues"},_id:"lodash.kebabcase@4.1.1",_shasum:"8489b1cb0d29ff88195cceca448ff6d6cc295c36",_from:"lodash.kebabcase@>=4.1.1 <5.0.0",_npmVersion:"2.15.10",_nodeVersion:"4.4.7",_npmUser:{name:"jdalton",email:"john.david.dalton@gmail.com"},dist:{shasum:"8489b1cb0d29ff88195cceca448ff6d6cc295c36",tarball:"https://registry.npmjs.org/lodash.kebabcase/-/lodash.kebabcase-4.1.1.tgz"},maintainers:[{name:"jdalton",email:"john.david.dalton@gmail.com"},{name:"mathias",email:"mathias@qiwi.be"},{name:"phated",email:"blaine@iceddev.com"}],_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/lodash.kebabcase-4.1.1.tgz_1471110086778_0.681004035519436"},directories:{},_resolved:"https://registry.npmjs.org/lodash.kebabcase/-/lodash.kebabcase-4.1.1.tgz",main:"index",hash:"748f0c4",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("e1e2708","package.json",{exports:{name:"weak-map",version:"1.0.5",description:"A WeakMap shim for Node.js and browsers",main:"weak-map.js",repository:{type:"git",url:"git://github.com/drses/weak-map.git"},keywords:["weakmap","weak-map","weak","map","collections","es6"],author:{name:"Mark Miller",email:"erights@gmail.com"},maintainer:"Kris Kowal <kris@cixar.com>",license:"Apache 2.0",bugs:{url:"https://github.com/drses/weak-map/issues"},files:["weak-map.js"],scripts:{test:"npm run test:native; npm run test:shim","test:phantom":"","test:shim":"node test/index.js","test:native":"node --harmony_collections test/index.js"},devDependencies:{jasminum:"^2.0.1"},homepage:"https://github.com/drses/weak-map",_id:"weak-map@1.0.5",dist:{shasum:"79691584d98607f5070bd3b70a40e6bb22e401eb",tarball:"https://registry.npmjs.org/weak-map/-/weak-map-1.0.5.tgz"},_from:"weak-map@>=1.0.5 <2.0.0",_npmVersion:"1.4.3",_npmUser:{name:"kriskowal",email:"kris.kowal@cixar.com"},maintainers:[{name:"kriskowal",email:"kris.kowal@cixar.com"}],directories:{},_shasum:"79691584d98607f5070bd3b70a40e6bb22e401eb",_resolved:"https://registry.npmjs.org/weak-map/-/weak-map-1.0.5.tgz",hash:"e1e2708",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("a5e4c02","index.html",{text:'<!DOCTYPE html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,height=device-height,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"><meta name=mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-capable content=yes><link rel=apple-touch-icon-precomposed sizes=152x152 href=assets/icons/apple-touch-icon-152x152-precomposed.png><link rel=apple-touch-icon-precomposed sizes=120x120 href=assets/icons/apple-touch-icon-120x120-precomposed.png><link rel=apple-touch-icon-precomposed sizes=76x76 href=assets/icons/apple-touch-icon-76x76-precomposed.png><link rel=apple-touch-icon-precomposed href=assets/icons/apple-touch-icon-precomposed.png><link rel=icon sizes=196x196 href=assets/icons/apple-touch-icon.png><title>Todo BlackBerry Dynamics</title><style>html{font-family:sans-serif;color:#333}body{margin:0}html,body{width:100%;height:100%;-webkit-overflow-scrolling:touch;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);overflow:hidden}.hide{display:none!important}</style><style>/*! cool-checkboxes-for-bulma.io v1.0.0 | (c) 2017  | MIT License |  */@charset "UTF-8";.b-checkbox{position:relative}.b-checkbox label{padding-left:5px;cursor:pointer;font-size:1rem;line-height:1}.b-checkbox label:before{content:"";position:absolute;width:17px;height:17px;left:0;top:1px;border:1px solid #dbdbdb;border-radius:3px;background-color:#fff;transition:background .1s ease-in-out}.b-checkbox label:after{position:absolute;width:16px;height:16px;left:3px;top:3px;font-size:12px;color:#363636}.b-checkbox input[type=checkbox],.b-checkbox input[type=radio]{opacity:0;z-index:1;cursor:pointer}.b-checkbox input[type=checkbox]:focus+label:before,.b-checkbox input[type=radio]:focus+label:before{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.b-checkbox input[type=checkbox]:checked+label:after,.b-checkbox input[type=radio]:checked+label:after{font-family:FontAwesome;content:""}.b-checkbox input[type=checkbox]:disabled,.b-checkbox input[type=radio]:disabled{cursor:not-allowed}.b-checkbox input[type=checkbox]:disabled+label,.b-checkbox input[type=radio]:disabled+label{opacity:.65}.b-checkbox input[type=checkbox]:disabled+label:before,.b-checkbox input[type=radio]:disabled+label:before{background-color:#f5f5f5;cursor:not-allowed}.b-checkbox.is-circular label:before{border-radius:50%}.b-checkbox.is-inline{display:inline-block;font-weight:400}.b-checkbox.is-inline+.is-inline{margin-left:10px}.is-primary input[type=checkbox]:checked+label:before{background-color:#00d1b2;border-color:#00d1b2}.is-primary input[type=checkbox]:checked+label:after{color:#fff}.is-danger input[type=checkbox]:checked+label:before{background-color:#ff3860;border-color:#ff3860}.is-danger input[type=checkbox]:checked+label:after{color:#fff}.is-info input[type=checkbox]:checked+label:before{background-color:#3273dc;border-color:#3273dc}.is-info input[type=checkbox]:checked+label:after{color:#fff}.is-warning input[type=checkbox]:checked+label:before{background-color:#ffdd57;border-color:#ffdd57}.is-warning input[type=checkbox]:checked+label:after{color:#fff}.is-success input[type=checkbox]:checked+label:before{background-color:#23d160;border-color:#23d160}.is-success input[type=checkbox]:checked+label:after{color:#fff}.is-dark input[type=checkbox]:checked+label:before{background-color:#363636;border-color:#363636}.is-dark input[type=checkbox]:checked+label:after{color:#fff}.is-black input[type=checkbox]:checked+label:before{background-color:#0a0a0a;border-color:#0a0a0a}.is-black input[type=checkbox]:checked+label:after{color:#fff}input[type=checkbox].styled:checked+label:after{font-family:FontAwesome;content:""}input[type=checkbox] .styled:checked+label:after,input[type=checkbox] .styled:checked+label:before{color:#fff}</style><style>/*! bulma.io v0.5.3 | MIT License | github.com/jgthms/bulma */@-webkit-keyframes spinAround{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spinAround{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}html,body,p,ol,ul,li,dl,dt,dd,blockquote,figure,fieldset,legend{margin:0;padding:0}textarea{padding:0}pre,iframe{margin:0}iframe,hr{padding:0}h1,h2,h3,h4,h5,h6{margin:0;padding:0;font-size:100%;font-weight:400}ul{list-style:none}button,input,select,textarea{margin:0}html{-webkit-box-sizing:border-box;box-sizing:border-box}*{-webkit-box-sizing:inherit;box-sizing:inherit}*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}embed,object,audio,video{max-width:100%}iframe{border:0}table{border-collapse:collapse;border-spacing:0}td,th{padding:0;text-align:left}html{background-color:#fff;font-size:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;min-width:300px;overflow-x:hidden;overflow-y:scroll;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}article,aside,figure,footer,header,hgroup,section{display:block}body,button,input,select,textarea{font-family:BlinkMacSystemFont,-apple-system,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue","Helvetica","Arial",sans-serif}code,pre{-moz-osx-font-smoothing:auto;-webkit-font-smoothing:auto;font-family:monospace}body{color:#4a4a4a;font-size:1rem;font-weight:400;line-height:1.5}a{color:#00d1b2;cursor:pointer;text-decoration:none}a strong{color:currentColor}a:hover{color:#363636}code{background-color:whitesmoke;color:#ff3860;font-size:.875em;font-weight:400;padding:.25em .5em}hr{background-color:#dbdbdb;border:none;display:block;height:1px;margin:1.5rem 0}img{height:auto;max-width:100%}input[type="checkbox"],input[type="radio"]{vertical-align:baseline}small{font-size:.875em}span{font-style:inherit;font-weight:inherit}strong{color:#363636;font-weight:700}pre{-webkit-overflow-scrolling:touch;background-color:whitesmoke;color:#4a4a4a;font-size:.875em;overflow-x:auto;padding:1.25rem 1.5rem;white-space:pre;word-wrap:normal}pre code{background-color:transparent;color:currentColor;font-size:1em;padding:0}table td,table th{text-align:left;vertical-align:top}table th{color:#363636}.is-clearfix:after{clear:both;content:" ";display:table}.is-pulled-left{float:left!important}.is-pulled-right{float:right!important}.is-clipped{overflow:hidden!important}.is-overlay{bottom:0;left:0;position:absolute;right:0;top:0}.is-size-1{font-size:3rem!important}.is-size-2{font-size:2.5rem!important}.is-size-3{font-size:2rem!important}.is-size-4{font-size:1.5rem!important}.is-size-5{font-size:1.25rem!important}.is-size-6{font-size:1rem!important}.is-size-7{font-size:.75rem!important}@media screen and (max-width:768px){.is-size-1-mobile{font-size:3rem!important}.is-size-2-mobile{font-size:2.5rem!important}.is-size-3-mobile{font-size:2rem!important}.is-size-4-mobile{font-size:1.5rem!important}.is-size-5-mobile{font-size:1.25rem!important}.is-size-6-mobile{font-size:1rem!important}.is-size-7-mobile{font-size:.75rem!important}}@media screen and (min-width:769px),print{.is-size-1-tablet{font-size:3rem!important}.is-size-2-tablet{font-size:2.5rem!important}.is-size-3-tablet{font-size:2rem!important}.is-size-4-tablet{font-size:1.5rem!important}.is-size-5-tablet{font-size:1.25rem!important}.is-size-6-tablet{font-size:1rem!important}.is-size-7-tablet{font-size:.75rem!important}}@media screen and (max-width:1023px){.is-size-1-touch{font-size:3rem!important}.is-size-2-touch{font-size:2.5rem!important}.is-size-3-touch{font-size:2rem!important}.is-size-4-touch{font-size:1.5rem!important}.is-size-5-touch{font-size:1.25rem!important}.is-size-6-touch{font-size:1rem!important}.is-size-7-touch{font-size:.75rem!important}}@media screen and (min-width:1024px){.is-size-1-desktop{font-size:3rem!important}.is-size-2-desktop{font-size:2.5rem!important}.is-size-3-desktop{font-size:2rem!important}.is-size-4-desktop{font-size:1.5rem!important}.is-size-5-desktop{font-size:1.25rem!important}.is-size-6-desktop{font-size:1rem!important}.is-size-7-desktop{font-size:.75rem!important}}@media screen and (min-width:1216px){.is-size-1-widescreen{font-size:3rem!important}.is-size-2-widescreen{font-size:2.5rem!important}.is-size-3-widescreen{font-size:2rem!important}.is-size-4-widescreen{font-size:1.5rem!important}.is-size-5-widescreen{font-size:1.25rem!important}.is-size-6-widescreen{font-size:1rem!important}.is-size-7-widescreen{font-size:.75rem!important}}@media screen and (min-width:1408px){.is-size-1-fullhd{font-size:3rem!important}.is-size-2-fullhd{font-size:2.5rem!important}.is-size-3-fullhd{font-size:2rem!important}.is-size-4-fullhd{font-size:1.5rem!important}.is-size-5-fullhd{font-size:1.25rem!important}.is-size-6-fullhd{font-size:1rem!important}.is-size-7-fullhd{font-size:.75rem!important}}.has-text-centered{text-align:center!important}@media screen and (max-width:768px){.has-text-centered-mobile{text-align:center!important}}@media screen and (min-width:769px),print{.has-text-centered-tablet{text-align:center!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-centered-tablet-only{text-align:center!important}}@media screen and (max-width:1023px){.has-text-centered-touch{text-align:center!important}}@media screen and (min-width:1024px){.has-text-centered-desktop{text-align:center!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-centered-desktop-only{text-align:center!important}}@media screen and (min-width:1216px){.has-text-centered-widescreen{text-align:center!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-centered-widescreen-only{text-align:center!important}}@media screen and (min-width:1408px){.has-text-centered-fullhd{text-align:center!important}}.has-text-justified{text-align:justify!important}@media screen and (max-width:768px){.has-text-justified-mobile{text-align:justify!important}}@media screen and (min-width:769px),print{.has-text-justified-tablet{text-align:justify!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-justified-tablet-only{text-align:justify!important}}@media screen and (max-width:1023px){.has-text-justified-touch{text-align:justify!important}}@media screen and (min-width:1024px){.has-text-justified-desktop{text-align:justify!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-justified-desktop-only{text-align:justify!important}}@media screen and (min-width:1216px){.has-text-justified-widescreen{text-align:justify!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-justified-widescreen-only{text-align:justify!important}}@media screen and (min-width:1408px){.has-text-justified-fullhd{text-align:justify!important}}.has-text-left{text-align:left!important}@media screen and (max-width:768px){.has-text-left-mobile{text-align:left!important}}@media screen and (min-width:769px),print{.has-text-left-tablet{text-align:left!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-left-tablet-only{text-align:left!important}}@media screen and (max-width:1023px){.has-text-left-touch{text-align:left!important}}@media screen and (min-width:1024px){.has-text-left-desktop{text-align:left!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-left-desktop-only{text-align:left!important}}@media screen and (min-width:1216px){.has-text-left-widescreen{text-align:left!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-left-widescreen-only{text-align:left!important}}@media screen and (min-width:1408px){.has-text-left-fullhd{text-align:left!important}}.has-text-right{text-align:right!important}@media screen and (max-width:768px){.has-text-right-mobile{text-align:right!important}}@media screen and (min-width:769px),print{.has-text-right-tablet{text-align:right!important}}@media screen and (min-width:769px) and (max-width:1023px){.has-text-right-tablet-only{text-align:right!important}}@media screen and (max-width:1023px){.has-text-right-touch{text-align:right!important}}@media screen and (min-width:1024px){.has-text-right-desktop{text-align:right!important}}@media screen and (min-width:1024px) and (max-width:1215px){.has-text-right-desktop-only{text-align:right!important}}@media screen and (min-width:1216px){.has-text-right-widescreen{text-align:right!important}}@media screen and (min-width:1216px) and (max-width:1407px){.has-text-right-widescreen-only{text-align:right!important}}@media screen and (min-width:1408px){.has-text-right-fullhd{text-align:right!important}}.is-capitalized{text-transform:capitalize!important}.is-lowercase{text-transform:lowercase!important}.is-uppercase{text-transform:uppercase!important}.has-text-white{color:#fff!important}a.has-text-white:hover,a.has-text-white:focus{color:#e6e6e6!important}.has-text-black{color:#0a0a0a!important}a.has-text-black:hover,a.has-text-black:focus{color:#000!important}.has-text-light{color:whitesmoke!important}a.has-text-light:hover,a.has-text-light:focus{color:#dbdbdb!important}.has-text-dark{color:#363636!important}a.has-text-dark:hover,a.has-text-dark:focus{color:#1c1c1c!important}.has-text-primary{color:#00d1b2!important}a.has-text-primary:hover,a.has-text-primary:focus{color:#009e86!important}.has-text-info{color:#3273dc!important}a.has-text-info:hover,a.has-text-info:focus{color:#205bbc!important}.has-text-success{color:#23d160!important}a.has-text-success:hover,a.has-text-success:focus{color:#1ca64c!important}.has-text-warning{color:#ffdd57!important}a.has-text-warning:hover,a.has-text-warning:focus{color:#ffd324!important}.has-text-danger{color:#ff3860!important}a.has-text-danger:hover,a.has-text-danger:focus{color:#ff0537!important}.has-text-black-bis{color:#121212!important}.has-text-black-ter{color:#242424!important}.has-text-grey-darker{color:#363636!important}.has-text-grey-dark{color:#4a4a4a!important}.has-text-grey{color:#7a7a7a!important}.has-text-grey-light{color:#b5b5b5!important}.has-text-grey-lighter{color:#dbdbdb!important}.has-text-white-ter{color:whitesmoke!important}.has-text-white-bis{color:#fafafa!important}.has-text-weight-light{font-weight:300!important}.has-text-weight-normal{font-weight:400!important}.has-text-weight-semibold{font-weight:600!important}.has-text-weight-bold{font-weight:700!important}.is-block{display:block!important}@media screen and (max-width:768px){.is-block-mobile{display:block!important}}@media screen and (min-width:769px),print{.is-block-tablet{display:block!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-block-tablet-only{display:block!important}}@media screen and (max-width:1023px){.is-block-touch{display:block!important}}@media screen and (min-width:1024px){.is-block-desktop{display:block!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-block-desktop-only{display:block!important}}@media screen and (min-width:1216px){.is-block-widescreen{display:block!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-block-widescreen-only{display:block!important}}@media screen and (min-width:1408px){.is-block-fullhd{display:block!important}}.is-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}@media screen and (max-width:768px){.is-flex-mobile{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:769px),print{.is-flex-tablet{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-flex-tablet-only{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (max-width:1023px){.is-flex-touch{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:1024px){.is-flex-desktop{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-flex-desktop-only{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:1216px){.is-flex-widescreen{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-flex-widescreen-only{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}@media screen and (min-width:1408px){.is-flex-fullhd{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}}.is-inline{display:inline!important}@media screen and (max-width:768px){.is-inline-mobile{display:inline!important}}@media screen and (min-width:769px),print{.is-inline-tablet{display:inline!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-inline-tablet-only{display:inline!important}}@media screen and (max-width:1023px){.is-inline-touch{display:inline!important}}@media screen and (min-width:1024px){.is-inline-desktop{display:inline!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-inline-desktop-only{display:inline!important}}@media screen and (min-width:1216px){.is-inline-widescreen{display:inline!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-inline-widescreen-only{display:inline!important}}@media screen and (min-width:1408px){.is-inline-fullhd{display:inline!important}}.is-inline-block{display:inline-block!important}@media screen and (max-width:768px){.is-inline-block-mobile{display:inline-block!important}}@media screen and (min-width:769px),print{.is-inline-block-tablet{display:inline-block!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-inline-block-tablet-only{display:inline-block!important}}@media screen and (max-width:1023px){.is-inline-block-touch{display:inline-block!important}}@media screen and (min-width:1024px){.is-inline-block-desktop{display:inline-block!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-inline-block-desktop-only{display:inline-block!important}}@media screen and (min-width:1216px){.is-inline-block-widescreen{display:inline-block!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-inline-block-widescreen-only{display:inline-block!important}}@media screen and (min-width:1408px){.is-inline-block-fullhd{display:inline-block!important}}.is-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}@media screen and (max-width:768px){.is-inline-flex-mobile{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:769px),print{.is-inline-flex-tablet{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-inline-flex-tablet-only{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (max-width:1023px){.is-inline-flex-touch{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:1024px){.is-inline-flex-desktop{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-inline-flex-desktop-only{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:1216px){.is-inline-flex-widescreen{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-inline-flex-widescreen-only{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media screen and (min-width:1408px){.is-inline-flex-fullhd{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}.is-hidden{display:none!important}@media screen and (max-width:768px){.is-hidden-mobile{display:none!important}}@media screen and (min-width:769px),print{.is-hidden-tablet{display:none!important}}@media screen and (min-width:769px) and (max-width:1023px){.is-hidden-tablet-only{display:none!important}}@media screen and (max-width:1023px){.is-hidden-touch{display:none!important}}@media screen and (min-width:1024px){.is-hidden-desktop{display:none!important}}@media screen and (min-width:1024px) and (max-width:1215px){.is-hidden-desktop-only{display:none!important}}@media screen and (min-width:1216px){.is-hidden-widescreen{display:none!important}}@media screen and (min-width:1216px) and (max-width:1407px){.is-hidden-widescreen-only{display:none!important}}@media screen and (min-width:1408px){.is-hidden-fullhd{display:none!important}}.is-marginless{margin:0!important}.is-paddingless{padding:0!important}.is-radiusless{border-radius:0!important}.is-shadowless{-webkit-box-shadow:none!important;box-shadow:none!important}.is-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.box{background-color:#fff;border-radius:5px;-webkit-box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);color:#4a4a4a;display:block;padding:1.25rem}.box:not(:last-child){margin-bottom:1.5rem}a.box:hover,a.box:focus{-webkit-box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px #00d1b2;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px #00d1b2}a.box:active{-webkit-box-shadow:inset 0 1px 2px rgba(10,10,10,.2),0 0 0 1px #00d1b2;box-shadow:inset 0 1px 2px rgba(10,10,10,.2),0 0 0 1px #00d1b2}.button{-moz-appearance:none;-webkit-appearance:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:1rem;height:2.25em;line-height:1.5;position:relative;vertical-align:top;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;border-color:#dbdbdb;color:#363636;cursor:pointer;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:calc(.375em - 1px).75em;text-align:center;white-space:nowrap}.button:focus,.button.is-focused,.button:active,.button.is-active{outline:none}.button[disabled]{cursor:not-allowed}.button strong{color:inherit}.button .icon,.button .icon.is-small,.button .icon.is-medium,.button .icon.is-large{height:1.5em;width:1.5em}.button .icon:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button .icon:last-child:not(:first-child){margin-left:.1875em;margin-right:calc(-.375em - 1px)}.button .icon:first-child:last-child{margin-left:calc(-.375em - 1px);margin-right:calc(-.375em - 1px)}.button:hover,.button.is-hovered{border-color:#b5b5b5;color:#363636}.button:focus,.button.is-focused{border-color:#00d1b2;color:#363636}.button:focus:not(:active),.button.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(0,209,178,.25);box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.button:active,.button.is-active{border-color:#4a4a4a;color:#363636}.button.is-link{background-color:transparent;border-color:transparent;color:#4a4a4a;text-decoration:underline}.button.is-link:hover,.button.is-link.is-hovered,.button.is-link:focus,.button.is-link.is-focused{background-color:whitesmoke;color:#363636}.button.is-link:active,.button.is-link.is-active{background-color:#e8e8e8;color:#363636}.button.is-link[disabled]{background-color:transparent;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-white{background-color:#fff;border-color:transparent;color:#0a0a0a}.button.is-white:hover,.button.is-white.is-hovered{background-color:#f9f9f9;border-color:transparent;color:#0a0a0a}.button.is-white:focus,.button.is-white.is-focused{border-color:transparent;color:#0a0a0a}.button.is-white:focus:not(:active),.button.is-white.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(255,255,255,.25);box-shadow:0 0 0 .125em rgba(255,255,255,.25)}.button.is-white:active,.button.is-white.is-active{background-color:#f2f2f2;border-color:transparent;color:#0a0a0a}.button.is-white[disabled]{background-color:#fff;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-white.is-inverted{background-color:#0a0a0a;color:#fff}.button.is-white.is-inverted:hover{background-color:#000}.button.is-white.is-inverted[disabled]{background-color:#0a0a0a;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-white.is-loading:after{border-color:transparent transparent #0a0a0a #0a0a0a!important}.button.is-white.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-white.is-outlined:hover,.button.is-white.is-outlined:focus{background-color:#fff;border-color:#fff;color:#0a0a0a}.button.is-white.is-outlined.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-white.is-outlined[disabled]{background-color:transparent;border-color:#fff;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-white.is-inverted.is-outlined{background-color:transparent;border-color:#0a0a0a;color:#0a0a0a}.button.is-white.is-inverted.is-outlined:hover,.button.is-white.is-inverted.is-outlined:focus{background-color:#0a0a0a;color:#fff}.button.is-white.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#0a0a0a;-webkit-box-shadow:none;box-shadow:none;color:#0a0a0a}.button.is-black{background-color:#0a0a0a;border-color:transparent;color:#fff}.button.is-black:hover,.button.is-black.is-hovered{background-color:#040404;border-color:transparent;color:#fff}.button.is-black:focus,.button.is-black.is-focused{border-color:transparent;color:#fff}.button.is-black:focus:not(:active),.button.is-black.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(10,10,10,.25);box-shadow:0 0 0 .125em rgba(10,10,10,.25)}.button.is-black:active,.button.is-black.is-active{background-color:#000;border-color:transparent;color:#fff}.button.is-black[disabled]{background-color:#0a0a0a;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-black.is-inverted{background-color:#fff;color:#0a0a0a}.button.is-black.is-inverted:hover{background-color:#f2f2f2}.button.is-black.is-inverted[disabled]{background-color:#fff;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#0a0a0a}.button.is-black.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-black.is-outlined{background-color:transparent;border-color:#0a0a0a;color:#0a0a0a}.button.is-black.is-outlined:hover,.button.is-black.is-outlined:focus{background-color:#0a0a0a;border-color:#0a0a0a;color:#fff}.button.is-black.is-outlined.is-loading:after{border-color:transparent transparent #0a0a0a #0a0a0a!important}.button.is-black.is-outlined[disabled]{background-color:transparent;border-color:#0a0a0a;-webkit-box-shadow:none;box-shadow:none;color:#0a0a0a}.button.is-black.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-black.is-inverted.is-outlined:hover,.button.is-black.is-inverted.is-outlined:focus{background-color:#fff;color:#0a0a0a}.button.is-black.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#fff;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-light{background-color:whitesmoke;border-color:transparent;color:#363636}.button.is-light:hover,.button.is-light.is-hovered{background-color:#eee;border-color:transparent;color:#363636}.button.is-light:focus,.button.is-light.is-focused{border-color:transparent;color:#363636}.button.is-light:focus:not(:active),.button.is-light.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(245,245,245,.25);box-shadow:0 0 0 .125em rgba(245,245,245,.25)}.button.is-light:active,.button.is-light.is-active{background-color:#e8e8e8;border-color:transparent;color:#363636}.button.is-light[disabled]{background-color:whitesmoke;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-light.is-inverted{background-color:#363636;color:whitesmoke}.button.is-light.is-inverted:hover{background-color:#292929}.button.is-light.is-inverted[disabled]{background-color:#363636;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:whitesmoke}.button.is-light.is-loading:after{border-color:transparent transparent #363636 #363636!important}.button.is-light.is-outlined{background-color:transparent;border-color:whitesmoke;color:whitesmoke}.button.is-light.is-outlined:hover,.button.is-light.is-outlined:focus{background-color:whitesmoke;border-color:whitesmoke;color:#363636}.button.is-light.is-outlined.is-loading:after{border-color:transparent transparent whitesmoke whitesmoke!important}.button.is-light.is-outlined[disabled]{background-color:transparent;border-color:whitesmoke;-webkit-box-shadow:none;box-shadow:none;color:whitesmoke}.button.is-light.is-inverted.is-outlined{background-color:transparent;border-color:#363636;color:#363636}.button.is-light.is-inverted.is-outlined:hover,.button.is-light.is-inverted.is-outlined:focus{background-color:#363636;color:whitesmoke}.button.is-light.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#363636;-webkit-box-shadow:none;box-shadow:none;color:#363636}.button.is-dark{background-color:#363636;border-color:transparent;color:whitesmoke}.button.is-dark:hover,.button.is-dark.is-hovered{background-color:#2f2f2f;border-color:transparent;color:whitesmoke}.button.is-dark:focus,.button.is-dark.is-focused{border-color:transparent;color:whitesmoke}.button.is-dark:focus:not(:active),.button.is-dark.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(54,54,54,.25);box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.button.is-dark:active,.button.is-dark.is-active{background-color:#292929;border-color:transparent;color:whitesmoke}.button.is-dark[disabled]{background-color:#363636;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-dark.is-inverted{background-color:whitesmoke;color:#363636}.button.is-dark.is-inverted:hover{background-color:#e8e8e8}.button.is-dark.is-inverted[disabled]{background-color:whitesmoke;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#363636}.button.is-dark.is-loading:after{border-color:transparent transparent whitesmoke whitesmoke!important}.button.is-dark.is-outlined{background-color:transparent;border-color:#363636;color:#363636}.button.is-dark.is-outlined:hover,.button.is-dark.is-outlined:focus{background-color:#363636;border-color:#363636;color:whitesmoke}.button.is-dark.is-outlined.is-loading:after{border-color:transparent transparent #363636 #363636!important}.button.is-dark.is-outlined[disabled]{background-color:transparent;border-color:#363636;-webkit-box-shadow:none;box-shadow:none;color:#363636}.button.is-dark.is-inverted.is-outlined{background-color:transparent;border-color:whitesmoke;color:whitesmoke}.button.is-dark.is-inverted.is-outlined:hover,.button.is-dark.is-inverted.is-outlined:focus{background-color:whitesmoke;color:#363636}.button.is-dark.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:whitesmoke;-webkit-box-shadow:none;box-shadow:none;color:whitesmoke}.button.is-primary{background-color:#00d1b2;border-color:transparent;color:#fff}.button.is-primary:hover,.button.is-primary.is-hovered{background-color:#00c4a7;border-color:transparent;color:#fff}.button.is-primary:focus,.button.is-primary.is-focused{border-color:transparent;color:#fff}.button.is-primary:focus:not(:active),.button.is-primary.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(0,209,178,.25);box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.button.is-primary:active,.button.is-primary.is-active{background-color:#00b89c;border-color:transparent;color:#fff}.button.is-primary[disabled]{background-color:#00d1b2;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-primary.is-inverted{background-color:#fff;color:#00d1b2}.button.is-primary.is-inverted:hover{background-color:#f2f2f2}.button.is-primary.is-inverted[disabled]{background-color:#fff;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#00d1b2}.button.is-primary.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-primary.is-outlined{background-color:transparent;border-color:#00d1b2;color:#00d1b2}.button.is-primary.is-outlined:hover,.button.is-primary.is-outlined:focus{background-color:#00d1b2;border-color:#00d1b2;color:#fff}.button.is-primary.is-outlined.is-loading:after{border-color:transparent transparent #00d1b2 #00d1b2!important}.button.is-primary.is-outlined[disabled]{background-color:transparent;border-color:#00d1b2;-webkit-box-shadow:none;box-shadow:none;color:#00d1b2}.button.is-primary.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-primary.is-inverted.is-outlined:hover,.button.is-primary.is-inverted.is-outlined:focus{background-color:#fff;color:#00d1b2}.button.is-primary.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#fff;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-info{background-color:#3273dc;border-color:transparent;color:#fff}.button.is-info:hover,.button.is-info.is-hovered{background-color:#276cda;border-color:transparent;color:#fff}.button.is-info:focus,.button.is-info.is-focused{border-color:transparent;color:#fff}.button.is-info:focus:not(:active),.button.is-info.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(50,115,220,.25);box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.button.is-info:active,.button.is-info.is-active{background-color:#2366d1;border-color:transparent;color:#fff}.button.is-info[disabled]{background-color:#3273dc;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-info.is-inverted{background-color:#fff;color:#3273dc}.button.is-info.is-inverted:hover{background-color:#f2f2f2}.button.is-info.is-inverted[disabled]{background-color:#fff;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#3273dc}.button.is-info.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-info.is-outlined{background-color:transparent;border-color:#3273dc;color:#3273dc}.button.is-info.is-outlined:hover,.button.is-info.is-outlined:focus{background-color:#3273dc;border-color:#3273dc;color:#fff}.button.is-info.is-outlined.is-loading:after{border-color:transparent transparent #3273dc #3273dc!important}.button.is-info.is-outlined[disabled]{background-color:transparent;border-color:#3273dc;-webkit-box-shadow:none;box-shadow:none;color:#3273dc}.button.is-info.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-info.is-inverted.is-outlined:hover,.button.is-info.is-inverted.is-outlined:focus{background-color:#fff;color:#3273dc}.button.is-info.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#fff;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-success{background-color:#23d160;border-color:transparent;color:#fff}.button.is-success:hover,.button.is-success.is-hovered{background-color:#22c65b;border-color:transparent;color:#fff}.button.is-success:focus,.button.is-success.is-focused{border-color:transparent;color:#fff}.button.is-success:focus:not(:active),.button.is-success.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(35,209,96,.25);box-shadow:0 0 0 .125em rgba(35,209,96,.25)}.button.is-success:active,.button.is-success.is-active{background-color:#20bc56;border-color:transparent;color:#fff}.button.is-success[disabled]{background-color:#23d160;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-success.is-inverted{background-color:#fff;color:#23d160}.button.is-success.is-inverted:hover{background-color:#f2f2f2}.button.is-success.is-inverted[disabled]{background-color:#fff;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#23d160}.button.is-success.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-success.is-outlined{background-color:transparent;border-color:#23d160;color:#23d160}.button.is-success.is-outlined:hover,.button.is-success.is-outlined:focus{background-color:#23d160;border-color:#23d160;color:#fff}.button.is-success.is-outlined.is-loading:after{border-color:transparent transparent #23d160 #23d160!important}.button.is-success.is-outlined[disabled]{background-color:transparent;border-color:#23d160;-webkit-box-shadow:none;box-shadow:none;color:#23d160}.button.is-success.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-success.is-inverted.is-outlined:hover,.button.is-success.is-inverted.is-outlined:focus{background-color:#fff;color:#23d160}.button.is-success.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#fff;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-warning{background-color:#ffdd57;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning:hover,.button.is-warning.is-hovered{background-color:#ffdb4a;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning:focus,.button.is-warning.is-focused{border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning:focus:not(:active),.button.is-warning.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(255,221,87,.25);box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.button.is-warning:active,.button.is-warning.is-active{background-color:#ffd83d;border-color:transparent;color:rgba(0,0,0,.7)}.button.is-warning[disabled]{background-color:#ffdd57;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-warning.is-inverted{background-color:rgba(0,0,0,.7);color:#ffdd57}.button.is-warning.is-inverted:hover{background-color:rgba(0,0,0,.7)}.button.is-warning.is-inverted[disabled]{background-color:rgba(0,0,0,.7);border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#ffdd57}.button.is-warning.is-loading:after{border-color:transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important}.button.is-warning.is-outlined{background-color:transparent;border-color:#ffdd57;color:#ffdd57}.button.is-warning.is-outlined:hover,.button.is-warning.is-outlined:focus{background-color:#ffdd57;border-color:#ffdd57;color:rgba(0,0,0,.7)}.button.is-warning.is-outlined.is-loading:after{border-color:transparent transparent #ffdd57 #ffdd57!important}.button.is-warning.is-outlined[disabled]{background-color:transparent;border-color:#ffdd57;-webkit-box-shadow:none;box-shadow:none;color:#ffdd57}.button.is-warning.is-inverted.is-outlined{background-color:transparent;border-color:rgba(0,0,0,.7);color:rgba(0,0,0,.7)}.button.is-warning.is-inverted.is-outlined:hover,.button.is-warning.is-inverted.is-outlined:focus{background-color:rgba(0,0,0,.7);color:#ffdd57}.button.is-warning.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:rgba(0,0,0,.7);-webkit-box-shadow:none;box-shadow:none;color:rgba(0,0,0,.7)}.button.is-danger{background-color:#ff3860;border-color:transparent;color:#fff}.button.is-danger:hover,.button.is-danger.is-hovered{background-color:#ff2b56;border-color:transparent;color:#fff}.button.is-danger:focus,.button.is-danger.is-focused{border-color:transparent;color:#fff}.button.is-danger:focus:not(:active),.button.is-danger.is-focused:not(:active){-webkit-box-shadow:0 0 0 .125em rgba(255,56,96,.25);box-shadow:0 0 0 .125em rgba(255,56,96,.25)}.button.is-danger:active,.button.is-danger.is-active{background-color:#ff1f4b;border-color:transparent;color:#fff}.button.is-danger[disabled]{background-color:#ff3860;border-color:transparent;-webkit-box-shadow:none;box-shadow:none}.button.is-danger.is-inverted{background-color:#fff;color:#ff3860}.button.is-danger.is-inverted:hover{background-color:#f2f2f2}.button.is-danger.is-inverted[disabled]{background-color:#fff;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;color:#ff3860}.button.is-danger.is-loading:after{border-color:transparent transparent #fff #fff!important}.button.is-danger.is-outlined{background-color:transparent;border-color:#ff3860;color:#ff3860}.button.is-danger.is-outlined:hover,.button.is-danger.is-outlined:focus{background-color:#ff3860;border-color:#ff3860;color:#fff}.button.is-danger.is-outlined.is-loading:after{border-color:transparent transparent #ff3860 #ff3860!important}.button.is-danger.is-outlined[disabled]{background-color:transparent;border-color:#ff3860;-webkit-box-shadow:none;box-shadow:none;color:#ff3860}.button.is-danger.is-inverted.is-outlined{background-color:transparent;border-color:#fff;color:#fff}.button.is-danger.is-inverted.is-outlined:hover,.button.is-danger.is-inverted.is-outlined:focus{background-color:#fff;color:#ff3860}.button.is-danger.is-inverted.is-outlined[disabled]{background-color:transparent;border-color:#fff;-webkit-box-shadow:none;box-shadow:none;color:#fff}.button.is-small{border-radius:2px;font-size:.75rem}.button.is-medium{font-size:1.25rem}.button.is-large{font-size:1.5rem}.button[disabled]{background-color:#fff;border-color:#dbdbdb;-webkit-box-shadow:none;box-shadow:none;opacity:.5}.button.is-fullwidth{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.button.is-loading{color:transparent!important;pointer-events:none}.button.is-loading:after{-webkit-animation:spinAround 500ms infinite linear;animation:spinAround 500ms infinite linear;border:2px solid #dbdbdb;border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:block;height:1em;width:1em;left:calc(50% - (1em/2));top:calc(50% - (1em/2));position:absolute!important}.button.is-static{background-color:whitesmoke;border-color:#dbdbdb;color:#7a7a7a;-webkit-box-shadow:none;box-shadow:none;pointer-events:none}.container{margin:0 auto;position:relative}@media screen and (min-width:1024px){.container{max-width:960px;width:960px}.container.is-fluid{margin-left:32px;margin-right:32px;max-width:none;width:auto}}@media screen and (max-width:1215px){.container.is-widescreen{max-width:1152px;width:auto}}@media screen and (max-width:1407px){.container.is-fullhd{max-width:1344px;width:auto}}@media screen and (min-width:1216px){.container{max-width:1152px;width:1152px}}@media screen and (min-width:1408px){.container{max-width:1344px;width:1344px}}.content:not(:last-child){margin-bottom:1.5rem}.content li+li{margin-top:.25em}.content p:not(:last-child),.content dl:not(:last-child),.content ol:not(:last-child),.content ul:not(:last-child),.content blockquote:not(:last-child),.content pre:not(:last-child),.content table:not(:last-child){margin-bottom:1em}.content h1,.content h2,.content h3,.content h4,.content h5,.content h6{color:#363636;font-weight:400;line-height:1.125}.content h1{font-size:2em;margin-bottom:.5em}.content h1:not(:first-child){margin-top:1em}.content h2{font-size:1.75em;margin-bottom:.5714em}.content h2:not(:first-child){margin-top:1.1428em}.content h3{font-size:1.5em;margin-bottom:.6666em}.content h3:not(:first-child){margin-top:1.3333em}.content h4{font-size:1.25em;margin-bottom:.8em}.content h5{font-size:1.125em;margin-bottom:.8888em}.content h6{font-size:1em;margin-bottom:1em}.content blockquote{background-color:whitesmoke;border-left:5px solid #dbdbdb;padding:1.25em 1.5em}.content ol{list-style:decimal outside}.content ol,.content ul{margin-left:2em;margin-top:1em}.content ul{list-style:disc outside}.content ul ul{list-style-type:circle;margin-top:.5em}.content ul ul ul{list-style-type:square}.content dd{margin-left:2em}.content figure{margin-left:2em;margin-right:2em;text-align:center}.content figure:not(:first-child){margin-top:2em}.content figure:not(:last-child){margin-bottom:2em}.content figure img{display:inline-block}.content figure figcaption{font-style:italic}.content pre{-webkit-overflow-scrolling:touch;overflow-x:auto;padding:1.25em 1.5em;white-space:pre;word-wrap:normal}.content sup,.content sub{font-size:75%}.content table{width:100%}.content table td,.content table th{border:1px solid #dbdbdb;border-width:0 0 1px;padding:.5em .75em;vertical-align:top}.content table th{color:#363636;text-align:left}.content table tr:hover{background-color:whitesmoke}.content table thead td,.content table thead th{border-width:0 0 2px;color:#363636}.content table tfoot td,.content table tfoot th{border-width:2px 0 0;color:#363636}.content table tbody tr:last-child td,.content table tbody tr:last-child th{border-bottom-width:0}.content.is-small{font-size:.75rem}.content.is-medium{font-size:1.25rem}.content.is-large{font-size:1.5rem}.input{padding:calc(.375em - 1px) calc(.625em - 1px);max-width:100%}.input,.textarea{-moz-appearance:none;-webkit-appearance:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:1rem;height:2.25em;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;line-height:1.5;position:relative;vertical-align:top;background-color:#fff;border-color:#dbdbdb;color:#363636;-webkit-box-shadow:inset 0 1px 2px rgba(10,10,10,.1);box-shadow:inset 0 1px 2px rgba(10,10,10,.1);width:100%}.input:focus,.input.is-focused,.input:active,.input.is-active,.textarea:focus,.textarea.is-focused,.textarea:active,.textarea.is-active{outline:none}.input[disabled],.textarea[disabled]{cursor:not-allowed}.input:hover,.input.is-hovered,.textarea:hover,.textarea.is-hovered{border-color:#b5b5b5}.input:focus,.input.is-focused,.input:active,.input.is-active,.textarea:focus,.textarea.is-focused,.textarea:active,.textarea.is-active{border-color:#00d1b2;-webkit-box-shadow:0 0 0 .125em rgba(0,209,178,.25);box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.input[disabled],.textarea[disabled]{background-color:whitesmoke;border-color:whitesmoke;-webkit-box-shadow:none;box-shadow:none;color:#7a7a7a}.input[disabled]::-moz-placeholder,.textarea[disabled]::-moz-placeholder{color:rgba(122,122,122,.3)}.input[disabled]::-webkit-input-placeholder,.textarea[disabled]::-webkit-input-placeholder{color:rgba(122,122,122,.3)}.input[disabled]:-moz-placeholder,.textarea[disabled]:-moz-placeholder{color:rgba(122,122,122,.3)}.input[disabled]:-ms-input-placeholder,.textarea[disabled]:-ms-input-placeholder{color:rgba(122,122,122,.3)}.input[type="search"],.textarea[type="search"]{border-radius:290486px}.input[readonly],.textarea[readonly]{-webkit-box-shadow:none;box-shadow:none}.input.is-white,.textarea.is-white{border-color:#fff}.input.is-white:focus,.input.is-white.is-focused,.input.is-white:active,.input.is-white.is-active,.textarea.is-white:focus,.textarea.is-white.is-focused,.textarea.is-white:active,.textarea.is-white.is-active{-webkit-box-shadow:0 0 0 .125em rgba(255,255,255,.25);box-shadow:0 0 0 .125em rgba(255,255,255,.25)}.input.is-black,.textarea.is-black{border-color:#0a0a0a}.input.is-black:focus,.input.is-black.is-focused,.input.is-black:active,.input.is-black.is-active,.textarea.is-black:focus,.textarea.is-black.is-focused,.textarea.is-black:active,.textarea.is-black.is-active{-webkit-box-shadow:0 0 0 .125em rgba(10,10,10,.25);box-shadow:0 0 0 .125em rgba(10,10,10,.25)}.input.is-light,.textarea.is-light{border-color:whitesmoke}.input.is-light:focus,.input.is-light.is-focused,.input.is-light:active,.input.is-light.is-active,.textarea.is-light:focus,.textarea.is-light.is-focused,.textarea.is-light:active,.textarea.is-light.is-active{-webkit-box-shadow:0 0 0 .125em rgba(245,245,245,.25);box-shadow:0 0 0 .125em rgba(245,245,245,.25)}.input.is-dark,.textarea.is-dark{border-color:#363636}.input.is-dark:focus,.input.is-dark.is-focused,.input.is-dark:active,.input.is-dark.is-active,.textarea.is-dark:focus,.textarea.is-dark.is-focused,.textarea.is-dark:active,.textarea.is-dark.is-active{-webkit-box-shadow:0 0 0 .125em rgba(54,54,54,.25);box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.input.is-primary,.textarea.is-primary{border-color:#00d1b2}.input.is-primary:focus,.input.is-primary.is-focused,.input.is-primary:active,.input.is-primary.is-active,.textarea.is-primary:focus,.textarea.is-primary.is-focused,.textarea.is-primary:active,.textarea.is-primary.is-active{-webkit-box-shadow:0 0 0 .125em rgba(0,209,178,.25);box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.input.is-info,.textarea.is-info{border-color:#3273dc}.input.is-info:focus,.input.is-info.is-focused,.input.is-info:active,.input.is-info.is-active,.textarea.is-info:focus,.textarea.is-info.is-focused,.textarea.is-info:active,.textarea.is-info.is-active{-webkit-box-shadow:0 0 0 .125em rgba(50,115,220,.25);box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.input.is-success,.textarea.is-success{border-color:#23d160}.input.is-success:focus,.input.is-success.is-focused,.input.is-success:active,.input.is-success.is-active,.textarea.is-success:focus,.textarea.is-success.is-focused,.textarea.is-success:active,.textarea.is-success.is-active{-webkit-box-shadow:0 0 0 .125em rgba(35,209,96,.25);box-shadow:0 0 0 .125em rgba(35,209,96,.25)}.input.is-warning,.textarea.is-warning{border-color:#ffdd57}.input.is-warning:focus,.input.is-warning.is-focused,.input.is-warning:active,.input.is-warning.is-active,.textarea.is-warning:focus,.textarea.is-warning.is-focused,.textarea.is-warning:active,.textarea.is-warning.is-active{-webkit-box-shadow:0 0 0 .125em rgba(255,221,87,.25);box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.input.is-danger,.textarea.is-danger{border-color:#ff3860}.input.is-danger:focus,.input.is-danger.is-focused,.input.is-danger:active,.input.is-danger.is-active,.textarea.is-danger:focus,.textarea.is-danger.is-focused,.textarea.is-danger:active,.textarea.is-danger.is-active{-webkit-box-shadow:0 0 0 .125em rgba(255,56,96,.25);box-shadow:0 0 0 .125em rgba(255,56,96,.25)}.input.is-small,.textarea.is-small{border-radius:2px;font-size:.75rem}.input.is-medium,.textarea.is-medium{font-size:1.25rem}.input.is-large,.textarea.is-large{font-size:1.5rem}.input.is-fullwidth,.textarea.is-fullwidth{display:block;width:100%}.input.is-inline,.textarea.is-inline{display:inline;width:auto}.input.is-static{background-color:transparent;border-color:transparent;-webkit-box-shadow:none;box-shadow:none;padding-left:0;padding-right:0}.textarea{display:block;max-width:100%;min-width:100%;padding:.625em;resize:vertical}.textarea:not([rows]){max-height:600px;min-height:120px}.textarea[rows]{height:unset}.textarea.has-fixed-size{resize:none}.checkbox,.radio{cursor:pointer;display:inline-block;line-height:1.25;position:relative}.checkbox input,.radio input{cursor:pointer}.checkbox:hover,.radio:hover{color:#363636}.checkbox[disabled],.radio[disabled]{color:#7a7a7a;cursor:not-allowed}.radio+.radio{margin-left:.5em}.select{display:inline-block;max-width:100%;position:relative;vertical-align:top}.select:not(.is-multiple){height:2.25em}.select:not(.is-multiple)::after{border:1px solid #00d1b2;border-right:0;border-top:0;content:" ";display:block;height:.5em;pointer-events:none;position:absolute;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);width:.5em;margin-top:-.375em;right:1.125em;top:50%;z-index:4}.select select{-moz-appearance:none;-webkit-appearance:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:2.25em;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top;background-color:#fff;border-color:#dbdbdb;color:#363636;cursor:pointer;display:block;font-size:1em;max-width:100%;outline:none}.select select:focus,.select select.is-focused,.select select:active,.select select.is-active{outline:none}.select select[disabled]{cursor:not-allowed}.select select:hover,.select select.is-hovered{border-color:#b5b5b5}.select select:focus,.select select.is-focused,.select select:active,.select select.is-active{border-color:#00d1b2;-webkit-box-shadow:0 0 0 .125em rgba(0,209,178,.25);box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.select select[disabled]{background-color:whitesmoke;border-color:whitesmoke;-webkit-box-shadow:none;box-shadow:none;color:#7a7a7a}.select select[disabled]::-moz-placeholder{color:rgba(122,122,122,.3)}.select select[disabled]::-webkit-input-placeholder{color:rgba(122,122,122,.3)}.select select[disabled]:-moz-placeholder{color:rgba(122,122,122,.3)}.select select[disabled]:-ms-input-placeholder{color:rgba(122,122,122,.3)}.select select::-ms-expand{display:none}.select select[disabled]:hover{border-color:whitesmoke}.select select:not([multiple]){padding-right:2.5em}.select select[multiple]{height:unset;padding:0}.select select[multiple] option{padding:.5em 1em}.select:hover::after{border-color:#363636}.select.is-white select{border-color:#fff}.select.is-white select:focus,.select.is-white select.is-focused,.select.is-white select:active,.select.is-white select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(255,255,255,.25);box-shadow:0 0 0 .125em rgba(255,255,255,.25)}.select.is-black select{border-color:#0a0a0a}.select.is-black select:focus,.select.is-black select.is-focused,.select.is-black select:active,.select.is-black select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(10,10,10,.25);box-shadow:0 0 0 .125em rgba(10,10,10,.25)}.select.is-light select{border-color:whitesmoke}.select.is-light select:focus,.select.is-light select.is-focused,.select.is-light select:active,.select.is-light select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(245,245,245,.25);box-shadow:0 0 0 .125em rgba(245,245,245,.25)}.select.is-dark select{border-color:#363636}.select.is-dark select:focus,.select.is-dark select.is-focused,.select.is-dark select:active,.select.is-dark select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(54,54,54,.25);box-shadow:0 0 0 .125em rgba(54,54,54,.25)}.select.is-primary select{border-color:#00d1b2}.select.is-primary select:focus,.select.is-primary select.is-focused,.select.is-primary select:active,.select.is-primary select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(0,209,178,.25);box-shadow:0 0 0 .125em rgba(0,209,178,.25)}.select.is-info select{border-color:#3273dc}.select.is-info select:focus,.select.is-info select.is-focused,.select.is-info select:active,.select.is-info select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(50,115,220,.25);box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.select.is-success select{border-color:#23d160}.select.is-success select:focus,.select.is-success select.is-focused,.select.is-success select:active,.select.is-success select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(35,209,96,.25);box-shadow:0 0 0 .125em rgba(35,209,96,.25)}.select.is-warning select{border-color:#ffdd57}.select.is-warning select:focus,.select.is-warning select.is-focused,.select.is-warning select:active,.select.is-warning select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(255,221,87,.25);box-shadow:0 0 0 .125em rgba(255,221,87,.25)}.select.is-danger select{border-color:#ff3860}.select.is-danger select:focus,.select.is-danger select.is-focused,.select.is-danger select:active,.select.is-danger select.is-active{-webkit-box-shadow:0 0 0 .125em rgba(255,56,96,.25);box-shadow:0 0 0 .125em rgba(255,56,96,.25)}.select.is-small{border-radius:2px;font-size:.75rem}.select.is-medium{font-size:1.25rem}.select.is-large{font-size:1.5rem}.select.is-disabled::after{border-color:#7a7a7a}.select.is-fullwidth,.select.is-fullwidth select{width:100%}.select.is-loading::after{-webkit-animation:spinAround 500ms infinite linear;animation:spinAround 500ms infinite linear;border:2px solid #dbdbdb;border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:block;height:1em;width:1em;margin-top:0;position:absolute;right:.625em;top:.625em;-webkit-transform:none;transform:none}.select.is-loading.is-small:after{font-size:.75rem}.select.is-loading.is-medium:after{font-size:1.25rem}.select.is-loading.is-large:after{font-size:1.5rem}.file{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;position:relative}.file.is-white .file-cta{background-color:#fff;border-color:transparent;color:#0a0a0a}.file.is-white:hover .file-cta,.file.is-white.is-hovered .file-cta{background-color:#f9f9f9;border-color:transparent;color:#0a0a0a}.file.is-white:focus .file-cta,.file.is-white.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(255,255,255,.25);box-shadow:0 0 .5em rgba(255,255,255,.25);color:#0a0a0a}.file.is-white:active .file-cta,.file.is-white.is-active .file-cta{background-color:#f2f2f2;border-color:transparent;color:#0a0a0a}.file.is-black .file-cta{background-color:#0a0a0a;border-color:transparent;color:#fff}.file.is-black:hover .file-cta,.file.is-black.is-hovered .file-cta{background-color:#040404;border-color:transparent;color:#fff}.file.is-black:focus .file-cta,.file.is-black.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(10,10,10,.25);box-shadow:0 0 .5em rgba(10,10,10,.25);color:#fff}.file.is-black:active .file-cta,.file.is-black.is-active .file-cta{background-color:#000;border-color:transparent;color:#fff}.file.is-light .file-cta{background-color:whitesmoke;border-color:transparent;color:#363636}.file.is-light:hover .file-cta,.file.is-light.is-hovered .file-cta{background-color:#eee;border-color:transparent;color:#363636}.file.is-light:focus .file-cta,.file.is-light.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(245,245,245,.25);box-shadow:0 0 .5em rgba(245,245,245,.25);color:#363636}.file.is-light:active .file-cta,.file.is-light.is-active .file-cta{background-color:#e8e8e8;border-color:transparent;color:#363636}.file.is-dark .file-cta{background-color:#363636;border-color:transparent;color:whitesmoke}.file.is-dark:hover .file-cta,.file.is-dark.is-hovered .file-cta{background-color:#2f2f2f;border-color:transparent;color:whitesmoke}.file.is-dark:focus .file-cta,.file.is-dark.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(54,54,54,.25);box-shadow:0 0 .5em rgba(54,54,54,.25);color:whitesmoke}.file.is-dark:active .file-cta,.file.is-dark.is-active .file-cta{background-color:#292929;border-color:transparent;color:whitesmoke}.file.is-primary .file-cta{background-color:#00d1b2;border-color:transparent;color:#fff}.file.is-primary:hover .file-cta,.file.is-primary.is-hovered .file-cta{background-color:#00c4a7;border-color:transparent;color:#fff}.file.is-primary:focus .file-cta,.file.is-primary.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(0,209,178,.25);box-shadow:0 0 .5em rgba(0,209,178,.25);color:#fff}.file.is-primary:active .file-cta,.file.is-primary.is-active .file-cta{background-color:#00b89c;border-color:transparent;color:#fff}.file.is-info .file-cta{background-color:#3273dc;border-color:transparent;color:#fff}.file.is-info:hover .file-cta,.file.is-info.is-hovered .file-cta{background-color:#276cda;border-color:transparent;color:#fff}.file.is-info:focus .file-cta,.file.is-info.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(50,115,220,.25);box-shadow:0 0 .5em rgba(50,115,220,.25);color:#fff}.file.is-info:active .file-cta,.file.is-info.is-active .file-cta{background-color:#2366d1;border-color:transparent;color:#fff}.file.is-success .file-cta{background-color:#23d160;border-color:transparent;color:#fff}.file.is-success:hover .file-cta,.file.is-success.is-hovered .file-cta{background-color:#22c65b;border-color:transparent;color:#fff}.file.is-success:focus .file-cta,.file.is-success.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(35,209,96,.25);box-shadow:0 0 .5em rgba(35,209,96,.25);color:#fff}.file.is-success:active .file-cta,.file.is-success.is-active .file-cta{background-color:#20bc56;border-color:transparent;color:#fff}.file.is-warning .file-cta{background-color:#ffdd57;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-warning:hover .file-cta,.file.is-warning.is-hovered .file-cta{background-color:#ffdb4a;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-warning:focus .file-cta,.file.is-warning.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(255,221,87,.25);box-shadow:0 0 .5em rgba(255,221,87,.25);color:rgba(0,0,0,.7)}.file.is-warning:active .file-cta,.file.is-warning.is-active .file-cta{background-color:#ffd83d;border-color:transparent;color:rgba(0,0,0,.7)}.file.is-danger .file-cta{background-color:#ff3860;border-color:transparent;color:#fff}.file.is-danger:hover .file-cta,.file.is-danger.is-hovered .file-cta{background-color:#ff2b56;border-color:transparent;color:#fff}.file.is-danger:focus .file-cta,.file.is-danger.is-focused .file-cta{border-color:transparent;-webkit-box-shadow:0 0 .5em rgba(255,56,96,.25);box-shadow:0 0 .5em rgba(255,56,96,.25);color:#fff}.file.is-danger:active .file-cta,.file.is-danger.is-active .file-cta{background-color:#ff1f4b;border-color:transparent;color:#fff}.file.is-small{font-size:.75rem}.file.is-medium{font-size:1.25rem}.file.is-medium .file-icon .fa{font-size:21px}.file.is-large{font-size:1.5rem}.file.is-large .file-icon .fa{font-size:28px}.file.has-name .file-cta{border-bottom-right-radius:0;border-top-right-radius:0}.file.has-name .file-name{border-bottom-left-radius:0;border-top-left-radius:0}.file.is-centered{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.file.is-right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.file.is-boxed .file-label,.file.is-boxed .file-cta{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.file.is-boxed .file-cta{height:auto;padding:1em 3em}.file.is-boxed .file-name{border-width:0 1px 1px}.file.is-boxed .file-icon{height:1.5em;width:1.5em}.file.is-boxed .file-icon .fa{font-size:21px}.file.is-boxed.is-small .file-icon .fa{font-size:14px}.file.is-boxed.is-medium .file-icon .fa{font-size:28px}.file.is-boxed.is-large .file-icon .fa{font-size:35px}.file.is-boxed.has-name .file-cta{border-radius:3px 3px 0 0}.file.is-boxed.has-name .file-name{border-radius:0 0 3px 3px;border-width:0 1px 1px}.file.is-right .file-cta{border-radius:0 3px 3px 0}.file.is-right .file-name{border-radius:3px 0 0 3px;border-width:1px 0 1px 1px;-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.file.is-fullwidth .file-label{width:100%}.file.is-fullwidth .file-name{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:none}.file-label{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;overflow:hidden;position:relative}.file-label:hover .file-cta{background-color:#eee;color:#363636}.file-label:hover .file-name{border-color:#d5d5d5}.file-label:active .file-cta{background-color:#e8e8e8;color:#363636}.file-label:active .file-name{border-color:#cfcfcf}.file-input{height:.01em;left:0;outline:none;position:absolute;top:0;width:.01em}.file-cta,.file-name{-moz-appearance:none;-webkit-appearance:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;-webkit-box-shadow:none;box-shadow:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:2.25em;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;line-height:1.5;position:relative;vertical-align:top;border-radius:3px;font-size:1em;padding:calc(.375em - 1px)1em;white-space:nowrap}.file-cta:focus,.file-cta.is-focused,.file-cta:active,.file-cta.is-active,.file-name:focus,.file-name.is-focused,.file-name:active,.file-name.is-active{outline:none}.file-cta[disabled],.file-name[disabled]{cursor:not-allowed}.file-cta{background-color:whitesmoke;color:#4a4a4a}.file-name{border-color:#dbdbdb;border-style:solid;border-width:1px 1px 1px 0;display:block;max-width:16em;overflow:hidden;text-align:left;text-overflow:ellipsis}.file-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:1em;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:.5em;width:1em}.file-icon .fa{font-size:14px}.label{color:#363636;display:block;font-size:1rem;font-weight:700}.label:not(:last-child){margin-bottom:.5em}.label.is-small{font-size:.75rem}.label.is-medium{font-size:1.25rem}.label.is-large{font-size:1.5rem}.help{display:block;font-size:.75rem;margin-top:.25rem}.help.is-white{color:#fff}.help.is-black{color:#0a0a0a}.help.is-light{color:whitesmoke}.help.is-dark{color:#363636}.help.is-primary{color:#00d1b2}.help.is-info{color:#3273dc}.help.is-success{color:#23d160}.help.is-warning{color:#ffdd57}.help.is-danger{color:#ff3860}.field:not(:last-child){margin-bottom:.75rem}.field.has-addons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.field.has-addons .control:not(:last-child){margin-right:-1px}.field.has-addons .control:first-child .button,.field.has-addons .control:first-child .input,.field.has-addons .control:first-child .select select{border-bottom-left-radius:3px;border-top-left-radius:3px}.field.has-addons .control:last-child .button,.field.has-addons .control:last-child .input,.field.has-addons .control:last-child .select select{border-bottom-right-radius:3px;border-top-right-radius:3px}.field.has-addons .control .button,.field.has-addons .control .input,.field.has-addons .control .select select{border-radius:0}.field.has-addons .control .button:hover,.field.has-addons .control .button.is-hovered,.field.has-addons .control .input:hover,.field.has-addons .control .input.is-hovered,.field.has-addons .control .select select:hover,.field.has-addons .control .select select.is-hovered{z-index:2}.field.has-addons .control .button:focus,.field.has-addons .control .button.is-focused,.field.has-addons .control .button:active,.field.has-addons .control .button.is-active,.field.has-addons .control .input:focus,.field.has-addons .control .input.is-focused,.field.has-addons .control .input:active,.field.has-addons .control .input.is-active,.field.has-addons .control .select select:focus,.field.has-addons .control .select select.is-focused,.field.has-addons .control .select select:active,.field.has-addons .control .select select.is-active{z-index:3}.field.has-addons .control .button:focus:hover,.field.has-addons .control .button.is-focused:hover,.field.has-addons .control .button:active:hover,.field.has-addons .control .button.is-active:hover,.field.has-addons .control .input:focus:hover,.field.has-addons .control .input.is-focused:hover,.field.has-addons .control .input:active:hover,.field.has-addons .control .input.is-active:hover,.field.has-addons .control .select select:focus:hover,.field.has-addons .control .select select.is-focused:hover,.field.has-addons .control .select select:active:hover,.field.has-addons .control .select select.is-active:hover{z-index:4}.field.has-addons .control.is-expanded{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.field.has-addons.has-addons-centered{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.field.has-addons.has-addons-right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.field.has-addons.has-addons-fullwidth .control{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0}.field.is-grouped{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.field.is-grouped>.control{-ms-flex-negative:0;flex-shrink:0}.field.is-grouped>.control:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped>.control.is-expanded{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.field.is-grouped.is-grouped-centered{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.field.is-grouped.is-grouped-right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.field.is-grouped.is-grouped-multiline{-ms-flex-wrap:wrap;flex-wrap:wrap}.field.is-grouped.is-grouped-multiline>.control:last-child,.field.is-grouped.is-grouped-multiline>.control:not(:last-child){margin-bottom:.75rem}.field.is-grouped.is-grouped-multiline:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline:not(:last-child){margin-bottom:0}@media screen and (min-width:769px),print{.field.is-horizontal{display:-webkit-box;display:-ms-flexbox;display:flex}}.field-label .label{font-size:inherit}@media screen and (max-width:768px){.field-label{margin-bottom:.5rem}}@media screen and (min-width:769px),print{.field-label{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;margin-right:1.5rem;text-align:right}.field-label.is-small{font-size:.75rem;padding-top:.375em}.field-label.is-normal{padding-top:.375em}.field-label.is-medium{font-size:1.25rem;padding-top:.375em}.field-label.is-large{font-size:1.5rem;padding-top:.375em}}.field-body .field .field{margin-bottom:0}@media screen and (min-width:769px),print{.field-body{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:5;-ms-flex-positive:5;flex-grow:5;-ms-flex-negative:1;flex-shrink:1}.field-body .field{margin-bottom:0}.field-body>.field{-ms-flex-negative:1;flex-shrink:1}.field-body>.field:not(.is-narrow){-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.field-body>.field:not(:last-child){margin-right:.75rem}}.control{font-size:1rem;position:relative;text-align:left}.control.has-icon .icon{color:#dbdbdb;height:2.25em;pointer-events:none;position:absolute;top:0;width:2.25em;z-index:4}.control.has-icon .input:focus+.icon{color:#7a7a7a}.control.has-icon .input.is-small+.icon{font-size:.75rem}.control.has-icon .input.is-medium+.icon{font-size:1.25rem}.control.has-icon .input.is-large+.icon{font-size:1.5rem}.control.has-icon:not(.has-icon-right) .icon{left:0}.control.has-icon:not(.has-icon-right) .input{padding-left:2.25em}.control.has-icon.has-icon-right .icon{right:0}.control.has-icon.has-icon-right .input{padding-right:2.25em}.control.has-icons-left .input:focus~.icon,.control.has-icons-left .select:focus~.icon,.control.has-icons-right .input:focus~.icon,.control.has-icons-right .select:focus~.icon{color:#7a7a7a}.control.has-icons-left .input.is-small~.icon,.control.has-icons-left .select.is-small~.icon,.control.has-icons-right .input.is-small~.icon,.control.has-icons-right .select.is-small~.icon{font-size:.75rem}.control.has-icons-left .input.is-medium~.icon,.control.has-icons-left .select.is-medium~.icon,.control.has-icons-right .input.is-medium~.icon,.control.has-icons-right .select.is-medium~.icon{font-size:1.25rem}.control.has-icons-left .input.is-large~.icon,.control.has-icons-left .select.is-large~.icon,.control.has-icons-right .input.is-large~.icon,.control.has-icons-right .select.is-large~.icon{font-size:1.5rem}.control.has-icons-left .icon,.control.has-icons-right .icon{color:#dbdbdb;height:2.25em;pointer-events:none;position:absolute;top:0;width:2.25em;z-index:4}.control.has-icons-left .input,.control.has-icons-left .select select{padding-left:2.25em}.control.has-icons-left .icon.is-left{left:0}.control.has-icons-right .input,.control.has-icons-right .select select{padding-right:2.25em}.control.has-icons-right .icon.is-right{right:0}.control.is-loading::after{-webkit-animation:spinAround 500ms infinite linear;animation:spinAround 500ms infinite linear;border:2px solid #dbdbdb;border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:block;height:1em;width:1em;position:absolute!important;right:.625em;top:.625em}.control.is-loading.is-small:after{font-size:.75rem}.control.is-loading.is-medium:after{font-size:1.25rem}.control.is-loading.is-large:after{font-size:1.5rem}.icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:1.5rem;width:1.5rem}.icon.is-small{height:1rem;width:1rem}.icon.is-medium{height:2rem;width:2rem}.icon.is-large{height:3rem;width:3rem}.image{display:block;position:relative}.image img{display:block;height:auto;width:100%}.image.is-square img,.image.is-1by1 img,.image.is-4by3 img,.image.is-3by2 img,.image.is-16by9 img,.image.is-2by1 img{bottom:0;left:0;position:absolute;right:0;top:0;height:100%;width:100%}.image.is-square,.image.is-1by1{padding-top:100%}.image.is-4by3{padding-top:75%}.image.is-3by2{padding-top:66.6666%}.image.is-16by9{padding-top:56.25%}.image.is-2by1{padding-top:50%}.image.is-16x16{height:16px;width:16px}.image.is-24x24{height:24px;width:24px}.image.is-32x32{height:32px;width:32px}.image.is-48x48{height:48px;width:48px}.image.is-64x64{height:64px;width:64px}.image.is-96x96{height:96px;width:96px}.image.is-128x128{height:128px;width:128px}.notification{background-color:whitesmoke;border-radius:3px;padding:1.25rem 2.5rem 1.25rem 1.5rem;position:relative}.notification:not(:last-child){margin-bottom:1.5rem}.notification a:not(.button){color:currentColor;text-decoration:underline}.notification strong{color:currentColor}.notification code,.notification pre{background:#fff}.notification pre code{background:0 0}.notification>.delete{position:absolute;right:.5em;top:.5em}.notification .title,.notification .subtitle,.notification .content{color:currentColor}.notification.is-white{background-color:#fff;color:#0a0a0a}.notification.is-black{background-color:#0a0a0a;color:#fff}.notification.is-light{background-color:whitesmoke;color:#363636}.notification.is-dark{background-color:#363636;color:whitesmoke}.notification.is-primary{background-color:#00d1b2;color:#fff}.notification.is-info{background-color:#3273dc;color:#fff}.notification.is-success{background-color:#23d160;color:#fff}.notification.is-warning{background-color:#ffdd57;color:rgba(0,0,0,.7)}.notification.is-danger{background-color:#ff3860;color:#fff}.progress{-moz-appearance:none;-webkit-appearance:none;border:none;border-radius:290486px;display:block;height:1rem;overflow:hidden;padding:0;width:100%}.progress:not(:last-child){margin-bottom:1.5rem}.progress::-webkit-progress-bar{background-color:#dbdbdb}.progress::-webkit-progress-value{background-color:#4a4a4a}.progress::-moz-progress-bar{background-color:#4a4a4a}.progress.is-white::-webkit-progress-value{background-color:#fff}.progress.is-white::-moz-progress-bar{background-color:#fff}.progress.is-black::-webkit-progress-value{background-color:#0a0a0a}.progress.is-black::-moz-progress-bar{background-color:#0a0a0a}.progress.is-light::-webkit-progress-value{background-color:whitesmoke}.progress.is-light::-moz-progress-bar{background-color:whitesmoke}.progress.is-dark::-webkit-progress-value{background-color:#363636}.progress.is-dark::-moz-progress-bar{background-color:#363636}.progress.is-primary::-webkit-progress-value{background-color:#00d1b2}.progress.is-primary::-moz-progress-bar{background-color:#00d1b2}.progress.is-info::-webkit-progress-value{background-color:#3273dc}.progress.is-info::-moz-progress-bar{background-color:#3273dc}.progress.is-success::-webkit-progress-value{background-color:#23d160}.progress.is-success::-moz-progress-bar{background-color:#23d160}.progress.is-warning::-webkit-progress-value{background-color:#ffdd57}.progress.is-warning::-moz-progress-bar{background-color:#ffdd57}.progress.is-danger::-webkit-progress-value{background-color:#ff3860}.progress.is-danger::-moz-progress-bar{background-color:#ff3860}.progress.is-small{height:.75rem}.progress.is-medium{height:1.25rem}.progress.is-large{height:1.5rem}.table{background-color:#fff;color:#363636;margin-bottom:1.5rem}.table td,.table th{border:1px solid #dbdbdb;border-width:0 0 1px;padding:.5em .75em;vertical-align:top}.table td.is-white,.table th.is-white{background-color:#fff;border-color:#fff;color:#0a0a0a}.table td.is-black,.table th.is-black{background-color:#0a0a0a;border-color:#0a0a0a;color:#fff}.table td.is-light,.table th.is-light{background-color:whitesmoke;border-color:whitesmoke;color:#363636}.table td.is-dark,.table th.is-dark{background-color:#363636;border-color:#363636;color:whitesmoke}.table td.is-primary,.table th.is-primary{background-color:#00d1b2;border-color:#00d1b2;color:#fff}.table td.is-info,.table th.is-info{background-color:#3273dc;border-color:#3273dc;color:#fff}.table td.is-success,.table th.is-success{background-color:#23d160;border-color:#23d160;color:#fff}.table td.is-warning,.table th.is-warning{background-color:#ffdd57;border-color:#ffdd57;color:rgba(0,0,0,.7)}.table td.is-danger,.table th.is-danger{background-color:#ff3860;border-color:#ff3860;color:#fff}.table td.is-narrow,.table th.is-narrow{white-space:nowrap;width:1%}.table th{color:#363636;text-align:left}.table tr:hover{background-color:#fafafa}.table tr.is-selected{background-color:#00d1b2;color:#fff}.table tr.is-selected a,.table tr.is-selected strong{color:currentColor}.table tr.is-selected td,.table tr.is-selected th{border-color:#fff;color:currentColor}.table thead td,.table thead th{border-width:0 0 2px;color:#363636}.table tfoot td,.table tfoot th{border-width:2px 0 0;color:#363636}.table tbody tr:last-child td,.table tbody tr:last-child th{border-bottom-width:0}.table.is-bordered td,.table.is-bordered th{border-width:1px}.table.is-bordered tr:last-child td,.table.is-bordered tr:last-child th{border-bottom-width:1px}.table.is-fullwidth{width:100%}.table.is-narrow td,.table.is-narrow th{padding:.25em .5em}.table.is-striped tbody tr:not(.is-selected):nth-child(even){background-color:#fafafa}.table.is-striped tbody tr:not(.is-selected):nth-child(even):hover{background-color:whitesmoke}.tags{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.tags .tag{margin-bottom:.5rem}.tags .tag:not(:last-child){margin-right:.5rem}.tags:last-child{margin-bottom:-.5rem}.tags:not(:last-child){margin-bottom:1rem}.tags.has-addons .tag{margin-right:0}.tags.has-addons .tag:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.tags.has-addons .tag:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tag:not(body){-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:whitesmoke;border-radius:3px;color:#4a4a4a;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:.75rem;height:2em;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:nowrap}.tag:not(body) .delete{margin-left:.25em;margin-right:-.375em}.tag:not(body).is-white{background-color:#fff;color:#0a0a0a}.tag:not(body).is-black{background-color:#0a0a0a;color:#fff}.tag:not(body).is-light{background-color:whitesmoke;color:#363636}.tag:not(body).is-dark{background-color:#363636;color:whitesmoke}.tag:not(body).is-primary{background-color:#00d1b2;color:#fff}.tag:not(body).is-info{background-color:#3273dc;color:#fff}.tag:not(body).is-success{background-color:#23d160;color:#fff}.tag:not(body).is-warning{background-color:#ffdd57;color:rgba(0,0,0,.7)}.tag:not(body).is-danger{background-color:#ff3860;color:#fff}.tag:not(body).is-medium{font-size:1rem}.tag:not(body).is-large{font-size:1.25rem}.tag:not(body).is-delete{margin-left:1px;padding:0;position:relative;width:2em}.tag:not(body).is-delete:before,.tag:not(body).is-delete:after{background-color:currentColor;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.tag:not(body).is-delete:before{height:1px;width:50%}.tag:not(body).is-delete:after{height:50%;width:1px}.tag:not(body).is-delete:hover,.tag:not(body).is-delete:focus{background-color:#e8e8e8}.tag:not(body).is-delete:active{background-color:#dbdbdb}.tag:not(body).is-rounded{border-radius:290486px}a.tag:hover{text-decoration:underline}.title,.subtitle{word-break:break-word}.title:not(:last-child),.subtitle:not(:last-child){margin-bottom:1.5rem}.title em,.title span,.subtitle em,.subtitle span{font-weight:inherit}.title .tag,.subtitle .tag{vertical-align:middle}.title{color:#363636;font-size:2rem;font-weight:600;line-height:1.125}.title strong{color:inherit;font-weight:inherit}.title+.highlight{margin-top:-.75rem}.title:not(.is-spaced)+.subtitle{margin-top:-1.5rem}.title.is-1{font-size:3rem}.title.is-2{font-size:2.5rem}.title.is-3{font-size:2rem}.title.is-4{font-size:1.5rem}.title.is-5{font-size:1.25rem}.title.is-6{font-size:1rem}.title.is-7{font-size:.75rem}.subtitle{color:#4a4a4a;font-size:1.25rem;font-weight:400;line-height:1.25}.subtitle strong{color:#363636;font-weight:600}.subtitle:not(.is-spaced)+.title{margin-top:-1.5rem}.subtitle.is-1{font-size:3rem}.subtitle.is-2{font-size:2.5rem}.subtitle.is-3{font-size:2rem}.subtitle.is-4{font-size:1.5rem}.subtitle.is-5{font-size:1.25rem}.subtitle.is-6{font-size:1rem}.subtitle.is-7{font-size:.75rem}.block:not(:last-child){margin-bottom:1.5rem}.delete{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;font-size:1rem;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:none;position:relative;vertical-align:top;width:20px}.delete:before,.delete:after{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.delete:before{height:2px;width:50%}.delete:after{height:50%;width:2px}.delete:hover,.delete:focus{background-color:rgba(10,10,10,.3)}.delete:active{background-color:rgba(10,10,10,.4)}.delete.is-small{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete.is-medium{height:24px;max-height:24px;max-width:24px;min-height:24px;min-width:24px;width:24px}.delete.is-large{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px}.heading{display:block;font-size:11px;letter-spacing:1px;margin-bottom:5px;text-transform:uppercase}.highlight{font-weight:400;max-width:100%;overflow:hidden;padding:0}.highlight:not(:last-child){margin-bottom:1.5rem}.highlight pre{overflow:auto;max-width:100%}.loader{-webkit-animation:spinAround 500ms infinite linear;animation:spinAround 500ms infinite linear;border:2px solid #dbdbdb;border-right-color:transparent;border-top-color:transparent;content:"";display:block;height:1em;position:relative;width:1em}.loader,.number{border-radius:290486px}.number{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:whitesmoke;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:1.25rem;height:2em;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:1.5rem;min-width:2.5em;padding:.25rem .5rem;text-align:center;vertical-align:top}.breadcrumb{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:1rem;overflow:hidden;overflow-x:auto;white-space:nowrap}.breadcrumb:not(:last-child){margin-bottom:1.5rem}.breadcrumb a{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#7a7a7a;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:.5em .75em}.breadcrumb a:hover{color:#363636}.breadcrumb li{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.breadcrumb li:first-child a{padding-left:0}.breadcrumb li.is-active a{color:#363636;cursor:default;pointer-events:none}.breadcrumb li+li::before{color:#4a4a4a;content:"\\0002f"}.breadcrumb ul,.breadcrumb ol{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.breadcrumb .icon:first-child{margin-right:.5em}.breadcrumb .icon:last-child{margin-left:.5em}.breadcrumb.is-centered ol,.breadcrumb.is-centered ul{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.breadcrumb.is-right ol,.breadcrumb.is-right ul{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.breadcrumb.is-small{font-size:.75rem}.breadcrumb.is-medium{font-size:1.25rem}.breadcrumb.is-large{font-size:1.5rem}.breadcrumb.has-arrow-separator li+li::before{content:"\\02192"}.breadcrumb.has-bullet-separator li+li::before{content:"\\02022"}.breadcrumb.has-dot-separator li+li::before{content:"\\000b7"}.breadcrumb.has-succeeds-separator li+li::before{content:"\\0227B"}.card{background-color:#fff;-webkit-box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);color:#4a4a4a;max-width:100%;position:relative}.card-header{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-shadow:0 1px 2px rgba(10,10,10,.1);box-shadow:0 1px 2px rgba(10,10,10,.1)}.card-header,.card-header-title{display:-webkit-box;display:-ms-flexbox;display:flex}.card-header-title{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#363636;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-weight:700;padding:.75rem}.card-header-title.is-centered,.card-header-icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.card-header-icon{-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;padding:.75rem}.card-image{display:block;position:relative}.card-content{padding:1.5rem}.card-footer{border-top:1px solid #dbdbdb;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.card-footer,.card-footer-item{display:-webkit-box;display:-ms-flexbox;display:flex}.card-footer-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:.75rem}.card-footer-item:not(:last-child){border-right:1px solid #dbdbdb}.card .media:not(:last-child){margin-bottom:.75rem}.dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;position:relative;vertical-align:top}.dropdown.is-active .dropdown-menu,.dropdown.is-hoverable:hover .dropdown-menu{display:block}.dropdown.is-right .dropdown-menu{left:auto;right:0}.dropdown-menu{display:none;left:0;min-width:12rem;padding-top:4px;position:absolute;top:100%;z-index:20}.dropdown-content{background-color:#fff;border-radius:3px;-webkit-box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);padding-bottom:.5rem;padding-top:.5rem}.dropdown-item{color:#4a4a4a;display:block;font-size:.875rem;line-height:1.5;padding:.375rem 1rem;position:relative}a.dropdown-item{padding-right:3rem;white-space:nowrap}a.dropdown-item:hover{background-color:whitesmoke;color:#0a0a0a}a.dropdown-item.is-active{background-color:#00d1b2;color:#fff}.dropdown-divider{background-color:#dbdbdb;border:none;display:block;height:1px;margin:.5rem 0}.level{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.level:not(:last-child){margin-bottom:1.5rem}.level code{border-radius:3px}.level img{display:inline-block;vertical-align:top}.level.is-mobile,.level.is-mobile .level-left,.level.is-mobile .level-right{display:-webkit-box;display:-ms-flexbox;display:flex}.level.is-mobile .level-left+.level-right{margin-top:0}.level.is-mobile .level-item:not(:last-child){margin-bottom:0}.level.is-mobile .level-item:not(.is-narrow){-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}@media screen and (min-width:769px),print{.level{display:-webkit-box;display:-ms-flexbox;display:flex}.level>.level-item:not(.is-narrow){-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}}.level-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.level-item .title,.level-item .subtitle{margin-bottom:0}@media screen and (max-width:768px){.level-item:not(:last-child){margin-bottom:.75rem}}.level-left,.level-right{-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}.level-left .level-item.is-flexible,.level-right .level-item.is-flexible{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}@media screen and (min-width:769px),print{.level-left .level-item:not(:last-child),.level-right .level-item:not(:last-child){margin-right:.75rem}}.level-left{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}@media screen and (max-width:768px){.level-left+.level-right{margin-top:1.5rem}}@media screen and (min-width:769px),print{.level-left{display:-webkit-box;display:-ms-flexbox;display:flex}}.level-right{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}@media screen and (min-width:769px),print{.level-right{display:-webkit-box;display:-ms-flexbox;display:flex}}.media{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;display:-webkit-box;display:-ms-flexbox;display:flex;text-align:left}.media .content:not(:last-child){margin-bottom:.75rem}.media .media{border-top:1px solid rgba(219,219,219,.5);display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:.75rem}.media .media .content:not(:last-child),.media .media .control:not(:last-child){margin-bottom:.5rem}.media .media .media{padding-top:.5rem}.media .media .media+.media{margin-top:.5rem}.media+.media{border-top:1px solid rgba(219,219,219,.5);margin-top:1rem;padding-top:1rem}.media.is-large+.media{margin-top:1.5rem;padding-top:1.5rem}.media-left,.media-right{-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}.media-left{margin-right:1rem}.media-right{margin-left:1rem}.media-content{-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;text-align:left}.menu{font-size:1rem}.menu.is-small{font-size:.75rem}.menu.is-medium{font-size:1.25rem}.menu.is-large{font-size:1.5rem}.menu-list{line-height:1.25}.menu-list a{border-radius:2px;color:#4a4a4a;display:block;padding:.5em .75em}.menu-list a:hover{background-color:whitesmoke;color:#363636}.menu-list a.is-active{background-color:#00d1b2;color:#fff}.menu-list li ul{border-left:1px solid #dbdbdb;margin:.75em;padding-left:.75em}.menu-label{color:#7a7a7a;font-size:.75em;letter-spacing:.1em;text-transform:uppercase}.menu-label:not(:first-child){margin-top:1em}.menu-label:not(:last-child){margin-bottom:1em}.message{background-color:whitesmoke;border-radius:3px;font-size:1rem}.message:not(:last-child){margin-bottom:1.5rem}.message strong{color:currentColor}.message a:not(.button):not(.tag){color:currentColor;text-decoration:underline}.message.is-small{font-size:.75rem}.message.is-medium{font-size:1.25rem}.message.is-large{font-size:1.5rem}.message.is-white{background-color:#fff}.message.is-white .message-header{background-color:#fff;color:#0a0a0a}.message.is-white .message-body{border-color:#fff;color:#4d4d4d}.message.is-black{background-color:#fafafa}.message.is-black .message-header{background-color:#0a0a0a;color:#fff}.message.is-black .message-body{border-color:#0a0a0a;color:#090909}.message.is-light{background-color:#fafafa}.message.is-light .message-header{background-color:whitesmoke;color:#363636}.message.is-light .message-body{border-color:whitesmoke;color:#505050}.message.is-dark{background-color:#fafafa}.message.is-dark .message-header{background-color:#363636;color:whitesmoke}.message.is-dark .message-body{border-color:#363636;color:#2a2a2a}.message.is-primary{background-color:#f5fffd}.message.is-primary .message-header{background-color:#00d1b2;color:#fff}.message.is-primary .message-body{border-color:#00d1b2;color:#021310}.message.is-info{background-color:#f6f9fe}.message.is-info .message-header{background-color:#3273dc;color:#fff}.message.is-info .message-body{border-color:#3273dc;color:#22509a}.message.is-success{background-color:#f6fef9}.message.is-success .message-header{background-color:#23d160;color:#fff}.message.is-success .message-body{border-color:#23d160;color:#0e301a}.message.is-warning{background-color:#fffdf5}.message.is-warning .message-header{background-color:#ffdd57;color:rgba(0,0,0,.7)}.message.is-warning .message-body{border-color:#ffdd57;color:#3b3108}.message.is-danger{background-color:#fff5f7}.message.is-danger .message-header{background-color:#ff3860;color:#fff}.message.is-danger .message-body{border-color:#ff3860;color:#cd0930}.message-header{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#4a4a4a;border-radius:3px 3px 0 0;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;line-height:1.25;padding:.5em .75em;position:relative}.message-header .delete{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;margin-left:.75em}.message-header+.message-body{border-top-left-radius:0;border-top-right-radius:0;border-top:none}.message-body{border:1px solid #dbdbdb;border-radius:3px;color:#4a4a4a;padding:1em 1.25em}.message-body code,.message-body pre{background-color:#fff}.message-body pre code{background-color:transparent}.modal{bottom:0;left:0;right:0;top:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:fixed;z-index:20}.modal.is-active{display:-webkit-box;display:-ms-flexbox;display:flex}.modal-background{bottom:0;left:0;position:absolute;right:0;top:0;background-color:rgba(10,10,10,.86)}.modal-content{max-height:calc(100vh - 160px);overflow:auto}.modal-content,.modal-card{margin:0 20px;position:relative;width:100%}@media screen and (min-width:769px),print{.modal-content,.modal-card{margin:0 auto;max-height:calc(100vh - 40px);width:640px}}.modal-close{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;font-size:1rem;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:none;vertical-align:top;background:0 0;height:40px;position:fixed;right:20px;top:20px;width:40px}.modal-close:before,.modal-close:after{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.modal-close:before{height:2px;width:50%}.modal-close:after{height:50%;width:2px}.modal-close:hover,.modal-close:focus{background-color:rgba(10,10,10,.3)}.modal-close:active{background-color:rgba(10,10,10,.4)}.modal-close.is-small{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.modal-close.is-medium{height:24px;max-height:24px;max-width:24px;min-height:24px;min-width:24px;width:24px}.modal-close.is-large{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px}.modal-card{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-height:calc(100vh - 40px);overflow:hidden}.modal-card,.modal-card-head,.modal-card-foot{display:-webkit-box;display:-ms-flexbox;display:flex}.modal-card-head,.modal-card-foot{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:whitesmoke;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding:20px;position:relative}.modal-card-head{border-bottom:1px solid #dbdbdb;border-top-left-radius:5px;border-top-right-radius:5px}.modal-card-title{color:#363636;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;font-size:1.5rem;line-height:1}.modal-card-foot{border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:1px solid #dbdbdb}.modal-card-foot .button:not(:last-child){margin-right:10px}.modal-card-body{-webkit-overflow-scrolling:touch;background-color:#fff;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;padding:20px}.nav-toggle{cursor:pointer;display:block;height:3.25rem;position:relative;width:3.25rem}.nav-toggle span{background-color:currentColor;display:block;height:1px;left:50%;margin-left:-7px;position:absolute;top:50%;-webkit-transition:none 86ms ease-out;transition:none 86ms ease-out;-webkit-transition-property:background,left,opacity,-webkit-transform;transition-property:background,left,opacity,transform;transition-property:background,left,opacity,transform,-webkit-transform;width:15px}.nav-toggle span:nth-child(1){margin-top:-6px}.nav-toggle span:nth-child(2){margin-top:-1px}.nav-toggle span:nth-child(3){margin-top:4px}.nav-toggle:hover{background-color:rgba(0,0,0,.05)}.nav-toggle.is-active span:nth-child(1){margin-left:-5px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:left top;transform-origin:left top}.nav-toggle.is-active span:nth-child(2){opacity:0}.nav-toggle.is-active span:nth-child(3){margin-left:-5px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:left bottom;transform-origin:left bottom}@media screen and (min-width:769px),print{.nav-toggle{display:none}}.nav-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;font-size:1rem;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1.5;padding:.5rem .75rem}.nav-item,.nav-item a{-ms-flex-negative:0;flex-shrink:0}.nav-item a{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.nav-item img{max-height:1.75rem}.nav-item .tag:first-child:not(:last-child){margin-right:.5rem}.nav-item .tag:last-child:not(:first-child){margin-left:.5rem}@media screen and (max-width:768px){.nav-item{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}}.nav-item a:not(.button),a.nav-item:not(.button){color:#7a7a7a}.nav-item a:not(.button):hover,a.nav-item:not(.button):hover{color:#363636}.nav-item a:not(.button).is-active,a.nav-item:not(.button).is-active{color:#363636}.nav-item a:not(.button).is-tab,a.nav-item:not(.button).is-tab{border-bottom:1px solid transparent;border-top:1px solid transparent;padding:calc(.75rem - 1px)1rem}.nav-item a:not(.button).is-tab:hover,a.nav-item:not(.button).is-tab:hover{border-bottom-color:#00d1b2;border-top-color:transparent}.nav-item a:not(.button).is-tab.is-active,a.nav-item:not(.button).is-tab.is-active{border-bottom:3px solid #00d1b2;color:#00d1b2;padding-bottom:calc(.75rem - 3px)}@media screen and (min-width:1024px){.nav-item a:not(.button).is-brand,a.nav-item:not(.button).is-brand{padding-left:0}}.nav-left,.nav-right{-webkit-overflow-scrolling:touch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;max-width:100%;overflow:auto}@media screen and (min-width:1216px){.nav-left,.nav-right{-ms-flex-preferred-size:0;flex-basis:0}}.nav-left{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;white-space:nowrap}.nav-right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.nav-center{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:auto;margin-right:auto}@media screen and (max-width:768px){.nav-menu.nav-right{background-color:#fff;-webkit-box-shadow:0 4px 7px rgba(10,10,10,.1);box-shadow:0 4px 7px rgba(10,10,10,.1);left:0;display:none;right:0;top:100%;position:absolute}.nav-menu.nav-right .nav-item{border-top:1px solid rgba(219,219,219,.5);padding:.75rem}.nav-menu.nav-right.is-active{display:block}}.nav{background-color:#fff;height:3.25rem;position:relative;text-align:center;z-index:10}.nav,.nav>.container{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex}.nav>.container{min-height:3.25rem;width:100%}.nav.has-shadow{-webkit-box-shadow:0 2px 3px rgba(10,10,10,.1);box-shadow:0 2px 3px rgba(10,10,10,.1)}.navbar{background-color:#fff;min-height:3.25rem;position:relative}.navbar.is-white{background-color:#fff;color:#0a0a0a}.navbar.is-white .navbar-brand>.navbar-item,.navbar.is-white .navbar-brand .navbar-link{color:#0a0a0a}.navbar.is-white .navbar-brand>a.navbar-item:hover,.navbar.is-white .navbar-brand>a.navbar-item.is-active,.navbar.is-white .navbar-brand .navbar-link:hover,.navbar.is-white .navbar-brand .navbar-link.is-active{background-color:#f2f2f2;color:#0a0a0a}.navbar.is-white .navbar-brand .navbar-link::after{border-color:#0a0a0a}@media screen and (min-width:1024px){.navbar.is-white .navbar-start>.navbar-item,.navbar.is-white .navbar-start .navbar-link,.navbar.is-white .navbar-end>.navbar-item,.navbar.is-white .navbar-end .navbar-link{color:#0a0a0a}.navbar.is-white .navbar-start>a.navbar-item:hover,.navbar.is-white .navbar-start>a.navbar-item.is-active,.navbar.is-white .navbar-start .navbar-link:hover,.navbar.is-white .navbar-start .navbar-link.is-active,.navbar.is-white .navbar-end>a.navbar-item:hover,.navbar.is-white .navbar-end>a.navbar-item.is-active,.navbar.is-white .navbar-end .navbar-link:hover,.navbar.is-white .navbar-end .navbar-link.is-active{background-color:#f2f2f2;color:#0a0a0a}.navbar.is-white .navbar-start .navbar-link::after,.navbar.is-white .navbar-end .navbar-link::after{border-color:#0a0a0a}.navbar.is-white .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-white .navbar-item.has-dropdown.is-active .navbar-link{background-color:#f2f2f2;color:#0a0a0a}.navbar.is-white .navbar-dropdown a.navbar-item.is-active{background-color:#fff;color:#0a0a0a}}.navbar.is-black{background-color:#0a0a0a;color:#fff}.navbar.is-black .navbar-brand>.navbar-item,.navbar.is-black .navbar-brand .navbar-link{color:#fff}.navbar.is-black .navbar-brand>a.navbar-item:hover,.navbar.is-black .navbar-brand>a.navbar-item.is-active,.navbar.is-black .navbar-brand .navbar-link:hover,.navbar.is-black .navbar-brand .navbar-link.is-active{background-color:#000;color:#fff}.navbar.is-black .navbar-brand .navbar-link::after{border-color:#fff}@media screen and (min-width:1024px){.navbar.is-black .navbar-start>.navbar-item,.navbar.is-black .navbar-start .navbar-link,.navbar.is-black .navbar-end>.navbar-item,.navbar.is-black .navbar-end .navbar-link{color:#fff}.navbar.is-black .navbar-start>a.navbar-item:hover,.navbar.is-black .navbar-start>a.navbar-item.is-active,.navbar.is-black .navbar-start .navbar-link:hover,.navbar.is-black .navbar-start .navbar-link.is-active,.navbar.is-black .navbar-end>a.navbar-item:hover,.navbar.is-black .navbar-end>a.navbar-item.is-active,.navbar.is-black .navbar-end .navbar-link:hover,.navbar.is-black .navbar-end .navbar-link.is-active{background-color:#000;color:#fff}.navbar.is-black .navbar-start .navbar-link::after,.navbar.is-black .navbar-end .navbar-link::after{border-color:#fff}.navbar.is-black .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-black .navbar-item.has-dropdown.is-active .navbar-link{background-color:#000;color:#fff}.navbar.is-black .navbar-dropdown a.navbar-item.is-active{background-color:#0a0a0a;color:#fff}}.navbar.is-light{background-color:whitesmoke;color:#363636}.navbar.is-light .navbar-brand>.navbar-item,.navbar.is-light .navbar-brand .navbar-link{color:#363636}.navbar.is-light .navbar-brand>a.navbar-item:hover,.navbar.is-light .navbar-brand>a.navbar-item.is-active,.navbar.is-light .navbar-brand .navbar-link:hover,.navbar.is-light .navbar-brand .navbar-link.is-active{background-color:#e8e8e8;color:#363636}.navbar.is-light .navbar-brand .navbar-link::after{border-color:#363636}@media screen and (min-width:1024px){.navbar.is-light .navbar-start>.navbar-item,.navbar.is-light .navbar-start .navbar-link,.navbar.is-light .navbar-end>.navbar-item,.navbar.is-light .navbar-end .navbar-link{color:#363636}.navbar.is-light .navbar-start>a.navbar-item:hover,.navbar.is-light .navbar-start>a.navbar-item.is-active,.navbar.is-light .navbar-start .navbar-link:hover,.navbar.is-light .navbar-start .navbar-link.is-active,.navbar.is-light .navbar-end>a.navbar-item:hover,.navbar.is-light .navbar-end>a.navbar-item.is-active,.navbar.is-light .navbar-end .navbar-link:hover,.navbar.is-light .navbar-end .navbar-link.is-active{background-color:#e8e8e8;color:#363636}.navbar.is-light .navbar-start .navbar-link::after,.navbar.is-light .navbar-end .navbar-link::after{border-color:#363636}.navbar.is-light .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-light .navbar-item.has-dropdown.is-active .navbar-link{background-color:#e8e8e8;color:#363636}.navbar.is-light .navbar-dropdown a.navbar-item.is-active{background-color:whitesmoke;color:#363636}}.navbar.is-dark{background-color:#363636}.navbar.is-dark,.navbar.is-dark .navbar-brand>.navbar-item,.navbar.is-dark .navbar-brand .navbar-link{color:whitesmoke}.navbar.is-dark .navbar-brand>a.navbar-item:hover,.navbar.is-dark .navbar-brand>a.navbar-item.is-active,.navbar.is-dark .navbar-brand .navbar-link:hover,.navbar.is-dark .navbar-brand .navbar-link.is-active{background-color:#292929;color:whitesmoke}.navbar.is-dark .navbar-brand .navbar-link::after{border-color:whitesmoke}@media screen and (min-width:1024px){.navbar.is-dark .navbar-start>.navbar-item,.navbar.is-dark .navbar-start .navbar-link,.navbar.is-dark .navbar-end>.navbar-item,.navbar.is-dark .navbar-end .navbar-link{color:whitesmoke}.navbar.is-dark .navbar-start>a.navbar-item:hover,.navbar.is-dark .navbar-start>a.navbar-item.is-active,.navbar.is-dark .navbar-start .navbar-link:hover,.navbar.is-dark .navbar-start .navbar-link.is-active,.navbar.is-dark .navbar-end>a.navbar-item:hover,.navbar.is-dark .navbar-end>a.navbar-item.is-active,.navbar.is-dark .navbar-end .navbar-link:hover,.navbar.is-dark .navbar-end .navbar-link.is-active{background-color:#292929;color:whitesmoke}.navbar.is-dark .navbar-start .navbar-link::after,.navbar.is-dark .navbar-end .navbar-link::after{border-color:whitesmoke}.navbar.is-dark .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-dark .navbar-item.has-dropdown.is-active .navbar-link{background-color:#292929;color:whitesmoke}.navbar.is-dark .navbar-dropdown a.navbar-item.is-active{background-color:#363636;color:whitesmoke}}.navbar.is-primary{background-color:#00d1b2;color:#fff}.navbar.is-primary .navbar-brand>.navbar-item,.navbar.is-primary .navbar-brand .navbar-link{color:#fff}.navbar.is-primary .navbar-brand>a.navbar-item:hover,.navbar.is-primary .navbar-brand>a.navbar-item.is-active,.navbar.is-primary .navbar-brand .navbar-link:hover,.navbar.is-primary .navbar-brand .navbar-link.is-active{background-color:#00b89c;color:#fff}.navbar.is-primary .navbar-brand .navbar-link::after{border-color:#fff}@media screen and (min-width:1024px){.navbar.is-primary .navbar-start>.navbar-item,.navbar.is-primary .navbar-start .navbar-link,.navbar.is-primary .navbar-end>.navbar-item,.navbar.is-primary .navbar-end .navbar-link{color:#fff}.navbar.is-primary .navbar-start>a.navbar-item:hover,.navbar.is-primary .navbar-start>a.navbar-item.is-active,.navbar.is-primary .navbar-start .navbar-link:hover,.navbar.is-primary .navbar-start .navbar-link.is-active,.navbar.is-primary .navbar-end>a.navbar-item:hover,.navbar.is-primary .navbar-end>a.navbar-item.is-active,.navbar.is-primary .navbar-end .navbar-link:hover,.navbar.is-primary .navbar-end .navbar-link.is-active{background-color:#00b89c;color:#fff}.navbar.is-primary .navbar-start .navbar-link::after,.navbar.is-primary .navbar-end .navbar-link::after{border-color:#fff}.navbar.is-primary .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-primary .navbar-item.has-dropdown.is-active .navbar-link{background-color:#00b89c;color:#fff}.navbar.is-primary .navbar-dropdown a.navbar-item.is-active{background-color:#00d1b2;color:#fff}}.navbar.is-info{background-color:#3273dc;color:#fff}.navbar.is-info .navbar-brand>.navbar-item,.navbar.is-info .navbar-brand .navbar-link{color:#fff}.navbar.is-info .navbar-brand>a.navbar-item:hover,.navbar.is-info .navbar-brand>a.navbar-item.is-active,.navbar.is-info .navbar-brand .navbar-link:hover,.navbar.is-info .navbar-brand .navbar-link.is-active{background-color:#2366d1;color:#fff}.navbar.is-info .navbar-brand .navbar-link::after{border-color:#fff}@media screen and (min-width:1024px){.navbar.is-info .navbar-start>.navbar-item,.navbar.is-info .navbar-start .navbar-link,.navbar.is-info .navbar-end>.navbar-item,.navbar.is-info .navbar-end .navbar-link{color:#fff}.navbar.is-info .navbar-start>a.navbar-item:hover,.navbar.is-info .navbar-start>a.navbar-item.is-active,.navbar.is-info .navbar-start .navbar-link:hover,.navbar.is-info .navbar-start .navbar-link.is-active,.navbar.is-info .navbar-end>a.navbar-item:hover,.navbar.is-info .navbar-end>a.navbar-item.is-active,.navbar.is-info .navbar-end .navbar-link:hover,.navbar.is-info .navbar-end .navbar-link.is-active{background-color:#2366d1;color:#fff}.navbar.is-info .navbar-start .navbar-link::after,.navbar.is-info .navbar-end .navbar-link::after{border-color:#fff}.navbar.is-info .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-info .navbar-item.has-dropdown.is-active .navbar-link{background-color:#2366d1;color:#fff}.navbar.is-info .navbar-dropdown a.navbar-item.is-active{background-color:#3273dc;color:#fff}}.navbar.is-success{background-color:#23d160;color:#fff}.navbar.is-success .navbar-brand>.navbar-item,.navbar.is-success .navbar-brand .navbar-link{color:#fff}.navbar.is-success .navbar-brand>a.navbar-item:hover,.navbar.is-success .navbar-brand>a.navbar-item.is-active,.navbar.is-success .navbar-brand .navbar-link:hover,.navbar.is-success .navbar-brand .navbar-link.is-active{background-color:#20bc56;color:#fff}.navbar.is-success .navbar-brand .navbar-link::after{border-color:#fff}@media screen and (min-width:1024px){.navbar.is-success .navbar-start>.navbar-item,.navbar.is-success .navbar-start .navbar-link,.navbar.is-success .navbar-end>.navbar-item,.navbar.is-success .navbar-end .navbar-link{color:#fff}.navbar.is-success .navbar-start>a.navbar-item:hover,.navbar.is-success .navbar-start>a.navbar-item.is-active,.navbar.is-success .navbar-start .navbar-link:hover,.navbar.is-success .navbar-start .navbar-link.is-active,.navbar.is-success .navbar-end>a.navbar-item:hover,.navbar.is-success .navbar-end>a.navbar-item.is-active,.navbar.is-success .navbar-end .navbar-link:hover,.navbar.is-success .navbar-end .navbar-link.is-active{background-color:#20bc56;color:#fff}.navbar.is-success .navbar-start .navbar-link::after,.navbar.is-success .navbar-end .navbar-link::after{border-color:#fff}.navbar.is-success .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-success .navbar-item.has-dropdown.is-active .navbar-link{background-color:#20bc56;color:#fff}.navbar.is-success .navbar-dropdown a.navbar-item.is-active{background-color:#23d160;color:#fff}}.navbar.is-warning{background-color:#ffdd57}.navbar.is-warning,.navbar.is-warning .navbar-brand>.navbar-item,.navbar.is-warning .navbar-brand .navbar-link{color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-brand>a.navbar-item:hover,.navbar.is-warning .navbar-brand>a.navbar-item.is-active,.navbar.is-warning .navbar-brand .navbar-link:hover,.navbar.is-warning .navbar-brand .navbar-link.is-active{background-color:#ffd83d;color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-brand .navbar-link::after{border-color:rgba(0,0,0,.7)}@media screen and (min-width:1024px){.navbar.is-warning .navbar-start>.navbar-item,.navbar.is-warning .navbar-start .navbar-link,.navbar.is-warning .navbar-end>.navbar-item,.navbar.is-warning .navbar-end .navbar-link{color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-start>a.navbar-item:hover,.navbar.is-warning .navbar-start>a.navbar-item.is-active,.navbar.is-warning .navbar-start .navbar-link:hover,.navbar.is-warning .navbar-start .navbar-link.is-active,.navbar.is-warning .navbar-end>a.navbar-item:hover,.navbar.is-warning .navbar-end>a.navbar-item.is-active,.navbar.is-warning .navbar-end .navbar-link:hover,.navbar.is-warning .navbar-end .navbar-link.is-active{background-color:#ffd83d;color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-start .navbar-link::after,.navbar.is-warning .navbar-end .navbar-link::after{border-color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-warning .navbar-item.has-dropdown.is-active .navbar-link{background-color:#ffd83d;color:rgba(0,0,0,.7)}.navbar.is-warning .navbar-dropdown a.navbar-item.is-active{background-color:#ffdd57;color:rgba(0,0,0,.7)}}.navbar.is-danger{background-color:#ff3860;color:#fff}.navbar.is-danger .navbar-brand>.navbar-item,.navbar.is-danger .navbar-brand .navbar-link{color:#fff}.navbar.is-danger .navbar-brand>a.navbar-item:hover,.navbar.is-danger .navbar-brand>a.navbar-item.is-active,.navbar.is-danger .navbar-brand .navbar-link:hover,.navbar.is-danger .navbar-brand .navbar-link.is-active{background-color:#ff1f4b;color:#fff}.navbar.is-danger .navbar-brand .navbar-link::after{border-color:#fff}@media screen and (min-width:1024px){.navbar.is-danger .navbar-start>.navbar-item,.navbar.is-danger .navbar-start .navbar-link,.navbar.is-danger .navbar-end>.navbar-item,.navbar.is-danger .navbar-end .navbar-link{color:#fff}.navbar.is-danger .navbar-start>a.navbar-item:hover,.navbar.is-danger .navbar-start>a.navbar-item.is-active,.navbar.is-danger .navbar-start .navbar-link:hover,.navbar.is-danger .navbar-start .navbar-link.is-active,.navbar.is-danger .navbar-end>a.navbar-item:hover,.navbar.is-danger .navbar-end>a.navbar-item.is-active,.navbar.is-danger .navbar-end .navbar-link:hover,.navbar.is-danger .navbar-end .navbar-link.is-active{background-color:#ff1f4b;color:#fff}.navbar.is-danger .navbar-start .navbar-link::after,.navbar.is-danger .navbar-end .navbar-link::after{border-color:#fff}.navbar.is-danger .navbar-item.has-dropdown:hover .navbar-link,.navbar.is-danger .navbar-item.has-dropdown.is-active .navbar-link{background-color:#ff1f4b;color:#fff}.navbar.is-danger .navbar-dropdown a.navbar-item.is-active{background-color:#ff3860;color:#fff}}.navbar>.container{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;min-height:3.25rem;width:100%}.navbar.has-shadow{-webkit-box-shadow:0 2px 3px rgba(10,10,10,.1);box-shadow:0 2px 3px rgba(10,10,10,.1)}.navbar-brand,.navbar-tabs{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;min-height:3.25rem}.navbar-tabs{-webkit-overflow-scrolling:touch;max-width:100vw;overflow-x:auto;overflow-y:hidden}.navbar-burger{cursor:pointer;display:block;height:3.25rem;position:relative;width:3.25rem;margin-left:auto}.navbar-burger span{background-color:currentColor;display:block;height:1px;left:50%;margin-left:-7px;position:absolute;top:50%;-webkit-transition:none 86ms ease-out;transition:none 86ms ease-out;-webkit-transition-property:background,left,opacity,-webkit-transform;transition-property:background,left,opacity,transform;transition-property:background,left,opacity,transform,-webkit-transform;width:15px}.navbar-burger span:nth-child(1){margin-top:-6px}.navbar-burger span:nth-child(2){margin-top:-1px}.navbar-burger span:nth-child(3){margin-top:4px}.navbar-burger:hover{background-color:rgba(0,0,0,.05)}.navbar-burger.is-active span:nth-child(1){margin-left:-5px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:left top;transform-origin:left top}.navbar-burger.is-active span:nth-child(2){opacity:0}.navbar-burger.is-active span:nth-child(3){margin-left:-5px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:left bottom;transform-origin:left bottom}.navbar-menu{display:none}.navbar-item,.navbar-link{color:#4a4a4a;display:block;line-height:1.5;padding:.5rem 1rem;position:relative}a.navbar-item:hover,a.navbar-item.is-active,.navbar-link:hover,.navbar-link.is-active{background-color:whitesmoke;color:#0a0a0a}.navbar-item{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}.navbar-item img{max-height:1.75rem}.navbar-item.has-dropdown{padding:0}.navbar-item.is-tab{border-bottom:1px solid transparent;min-height:3.25rem;padding-bottom:calc(.5rem - 1px)}.navbar-item.is-tab:hover{background-color:transparent;border-bottom-color:#00d1b2}.navbar-item.is-tab.is-active{background-color:transparent;border-bottom-color:#00d1b2;border-bottom-style:solid;border-bottom-width:3px;color:#00d1b2;padding-bottom:calc(.5rem - 3px)}.navbar-content{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.navbar-link{padding-right:2.5em}.navbar-dropdown{font-size:.875rem;padding-bottom:.5rem;padding-top:.5rem}.navbar-dropdown .navbar-item{padding-left:1.5rem;padding-right:1.5rem}.navbar-divider{background-color:#dbdbdb;border:none;display:none;height:1px;margin:.5rem 0}@media screen and (max-width:1023px){.navbar>.container{display:block}.navbar-brand .navbar-item,.navbar-tabs .navbar-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.navbar-menu{background-color:#fff;-webkit-box-shadow:0 8px 16px rgba(10,10,10,.1);box-shadow:0 8px 16px rgba(10,10,10,.1);padding:.5rem 0}.navbar-menu.is-active{display:block}}@media screen and (min-width:1024px){.navbar,.navbar-menu,.navbar-start,.navbar-end{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex}.navbar{min-height:3.25rem}.navbar.is-transparent a.navbar-item:hover,.navbar.is-transparent a.navbar-item.is-active,.navbar.is-transparent .navbar-link:hover,.navbar.is-transparent .navbar-link.is-active,.navbar.is-transparent .navbar-item.has-dropdown.is-active .navbar-link,.navbar.is-transparent .navbar-item.has-dropdown.is-hoverable:hover .navbar-link{background-color:transparent}.navbar.is-transparent .navbar-dropdown a.navbar-item:hover{background-color:whitesmoke;color:#0a0a0a}.navbar.is-transparent .navbar-dropdown a.navbar-item.is-active{background-color:whitesmoke;color:#00d1b2}.navbar-burger{display:none}.navbar-item,.navbar-link{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.navbar-item.has-dropdown{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.navbar-item.is-active .navbar-dropdown,.navbar-item.is-hoverable:hover .navbar-dropdown{display:block}.navbar-item.is-active .navbar-dropdown.is-boxed,.navbar-item.is-hoverable:hover .navbar-dropdown.is-boxed{opacity:1;pointer-events:auto;-webkit-transform:translateY(0);transform:translateY(0)}.navbar-link::after{border:1px solid #00d1b2;border-right:0;border-top:0;content:" ";display:block;height:.5em;pointer-events:none;position:absolute;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);width:.5em;margin-top:-.375em;right:1.125em;top:50%}.navbar-menu{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0}.navbar-start{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-right:auto}.navbar-end{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-left:auto}.navbar-dropdown{background-color:#fff;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:1px solid #dbdbdb;-webkit-box-shadow:0 8px 8px rgba(10,10,10,.1);box-shadow:0 8px 8px rgba(10,10,10,.1);display:none;font-size:.875rem;left:0;min-width:100%;position:absolute;top:100%;z-index:20}.navbar-dropdown .navbar-item{padding:.375rem 1rem;white-space:nowrap}.navbar-dropdown a.navbar-item{padding-right:3rem}.navbar-dropdown a.navbar-item:hover{background-color:whitesmoke;color:#0a0a0a}.navbar-dropdown a.navbar-item.is-active{background-color:whitesmoke;color:#00d1b2}.navbar-dropdown.is-boxed{border-radius:5px;border-top:none;-webkit-box-shadow:0 8px 8px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);box-shadow:0 8px 8px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);display:block;opacity:0;pointer-events:none;top:calc(100% + (-4px));-webkit-transform:translateY(-5px);transform:translateY(-5px);-webkit-transition-duration:86ms;transition-duration:86ms;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.navbar-dropdown.is-right{left:auto;right:0}.navbar-divider{display:block}.container>.navbar .navbar-brand{margin-left:-1rem}.container>.navbar .navbar-menu{margin-right:-1rem}a.navbar-item.is-active,.navbar-link.is-active{color:#0a0a0a}a.navbar-item.is-active:not(:hover),.navbar-link.is-active:not(:hover){background-color:transparent}.navbar-item.has-dropdown:hover .navbar-link,.navbar-item.has-dropdown.is-active .navbar-link{background-color:whitesmoke}}.pagination{font-size:1rem;margin:-.25rem}.pagination.is-small{font-size:.75rem}.pagination.is-medium{font-size:1.25rem}.pagination.is-large{font-size:1.5rem}.pagination,.pagination-list{display:-webkit-box;display:-ms-flexbox;display:flex}.pagination,.pagination-list,.pagination-previous,.pagination-next,.pagination-link,.pagination-ellipsis{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.pagination-previous,.pagination-next,.pagination-link,.pagination-ellipsis{-moz-appearance:none;-webkit-appearance:none;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:2.25em;line-height:1.5;position:relative;vertical-align:top;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:1em;margin:.25rem}.pagination-link,.pagination-ellipsis{padding:calc(.375em - 1px).5em}.pagination-previous:focus,.pagination-previous.is-focused,.pagination-previous:active,.pagination-previous.is-active,.pagination-next:focus,.pagination-next.is-focused,.pagination-next:active,.pagination-next.is-active,.pagination-link:focus,.pagination-link.is-focused,.pagination-link:active,.pagination-link.is-active,.pagination-ellipsis:focus,.pagination-ellipsis.is-focused,.pagination-ellipsis:active,.pagination-ellipsis.is-active{outline:none}.pagination-previous[disabled],.pagination-next[disabled],.pagination-link[disabled],.pagination-ellipsis[disabled]{cursor:not-allowed}.pagination-previous,.pagination-next,.pagination-link{border-color:#dbdbdb;min-width:2.25em}.pagination-previous:hover,.pagination-next:hover,.pagination-link:hover{border-color:#b5b5b5;color:#363636}.pagination-previous:focus,.pagination-next:focus,.pagination-link:focus{border-color:#00d1b2}.pagination-previous:active,.pagination-next:active,.pagination-link:active{-webkit-box-shadow:inset 0 1px 2px rgba(10,10,10,.2);box-shadow:inset 0 1px 2px rgba(10,10,10,.2)}.pagination-previous[disabled],.pagination-next[disabled],.pagination-link[disabled]{background-color:#dbdbdb;border-color:#dbdbdb;-webkit-box-shadow:none;box-shadow:none;color:#7a7a7a;opacity:.5}.pagination-previous,.pagination-next{padding:calc(.375em - 1px).75em;white-space:nowrap}.pagination-link.is-current{background-color:#00d1b2;border-color:#00d1b2;color:#fff}.pagination-ellipsis{color:#b5b5b5;pointer-events:none}.pagination-list{-ms-flex-wrap:wrap;flex-wrap:wrap}@media screen and (max-width:768px){.pagination{-ms-flex-wrap:wrap;flex-wrap:wrap}.pagination-previous,.pagination-next,.pagination-list li{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}}@media screen and (min-width:769px),print{.pagination-list{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.pagination-previous{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.pagination-next{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.pagination{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.pagination.is-centered .pagination-previous{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.pagination.is-centered .pagination-list{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.pagination.is-centered .pagination-next{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.pagination.is-right .pagination-previous{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.pagination.is-right .pagination-next{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.pagination.is-right .pagination-list{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}}.panel{font-size:1rem}.panel:not(:last-child){margin-bottom:1.5rem}.panel-heading,.panel-tabs,.panel-block{border-bottom:1px solid #dbdbdb;border-left:1px solid #dbdbdb;border-right:1px solid #dbdbdb}.panel-heading:first-child,.panel-tabs:first-child,.panel-block:first-child{border-top:1px solid #dbdbdb}.panel-heading{background-color:whitesmoke;border-radius:3px 3px 0 0;color:#363636;font-size:1.25em;font-weight:300;line-height:1.25;padding:.5em .75em}.panel-tabs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:.875em;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.panel-tabs a{border-bottom:1px solid #dbdbdb;margin-bottom:-1px;padding:.5em}.panel-tabs a.is-active{border-bottom-color:#4a4a4a;color:#363636}.panel-list a{color:#4a4a4a}.panel-list a:hover{color:#00d1b2}.panel-block{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#363636;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding:.5em .75em}.panel-block input[type="checkbox"]{margin-right:.75em}.panel-block>.control{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%}.panel-block.is-wrapped{-ms-flex-wrap:wrap;flex-wrap:wrap}.panel-block.is-active{border-left-color:#00d1b2;color:#363636}.panel-block.is-active .panel-icon{color:#00d1b2}a.panel-block,label.panel-block{cursor:pointer}a.panel-block:hover,label.panel-block:hover{background-color:whitesmoke}.panel-icon{display:inline-block;font-size:14px;height:1em;line-height:1em;text-align:center;vertical-align:top;width:1em;color:#7a7a7a;margin-right:.75em}.panel-icon .fa{font-size:inherit;line-height:inherit}.tabs{-webkit-overflow-scrolling:touch;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:1rem;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;overflow:hidden;overflow-x:auto;white-space:nowrap}.tabs:not(:last-child){margin-bottom:1.5rem}.tabs a{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom-color:#dbdbdb;border-bottom-style:solid;border-bottom-width:1px;color:#4a4a4a;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:-1px;padding:.5em 1em;vertical-align:top}.tabs a:hover{border-bottom-color:#363636;color:#363636}.tabs li{display:block}.tabs li.is-active a{border-bottom-color:#00d1b2;color:#00d1b2}.tabs ul{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom-color:#dbdbdb;border-bottom-style:solid;border-bottom-width:1px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.tabs ul.is-left,.tabs ul.is-center{padding-right:.75em}.tabs ul.is-center{-webkit-box-flex:0;-ms-flex:none;flex:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:.75em}.tabs ul.is-right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-left:.75em}.tabs .icon:first-child{margin-right:.5em}.tabs .icon:last-child{margin-left:.5em}.tabs.is-centered ul{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.tabs.is-right ul{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.tabs.is-boxed a{border:1px solid transparent;border-radius:3px 3px 0 0}.tabs.is-boxed a:hover{background-color:whitesmoke;border-bottom-color:#dbdbdb}.tabs.is-boxed li.is-active a{background-color:#fff;border-color:#dbdbdb;border-bottom-color:transparent!important}.tabs.is-fullwidth li{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0}.tabs.is-toggle a{border-color:#dbdbdb;border-style:solid;border-width:1px;margin-bottom:0;position:relative}.tabs.is-toggle a:hover{background-color:whitesmoke;border-color:#b5b5b5;z-index:2}.tabs.is-toggle li+li{margin-left:-1px}.tabs.is-toggle li:first-child a{border-radius:3px 0 0 3px}.tabs.is-toggle li:last-child a{border-radius:0 3px 3px 0}.tabs.is-toggle li.is-active a{background-color:#00d1b2;border-color:#00d1b2;color:#fff;z-index:1}.tabs.is-toggle ul{border-bottom:none}.tabs.is-small{font-size:.75rem}.tabs.is-medium{font-size:1.25rem}.tabs.is-large{font-size:1.5rem}.column{display:block;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;padding:.75rem}.columns.is-mobile>.column.is-narrow,.columns.is-mobile>.column.is-full{-webkit-box-flex:0;-ms-flex:none;flex:none}.columns.is-mobile>.column.is-full{width:100%}.columns.is-mobile>.column.is-three-quarters{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.columns.is-mobile>.column.is-two-thirds{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.columns.is-mobile>.column.is-half{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.columns.is-mobile>.column.is-one-third{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.columns.is-mobile>.column.is-one-quarter{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.columns.is-mobile>.column.is-offset-three-quarters{margin-left:75%}.columns.is-mobile>.column.is-offset-two-thirds{margin-left:66.6666%}.columns.is-mobile>.column.is-offset-half{margin-left:50%}.columns.is-mobile>.column.is-offset-one-third{margin-left:33.3333%}.columns.is-mobile>.column.is-offset-one-quarter{margin-left:25%}.columns.is-mobile>.column.is-1{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.columns.is-mobile>.column.is-offset-1{margin-left:8.33333%}.columns.is-mobile>.column.is-2{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.columns.is-mobile>.column.is-offset-2{margin-left:16.66667%}.columns.is-mobile>.column.is-3{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.columns.is-mobile>.column.is-offset-3{margin-left:25%}.columns.is-mobile>.column.is-4{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.columns.is-mobile>.column.is-offset-4{margin-left:33.33333%}.columns.is-mobile>.column.is-5{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.columns.is-mobile>.column.is-offset-5{margin-left:41.66667%}.columns.is-mobile>.column.is-6{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.columns.is-mobile>.column.is-offset-6{margin-left:50%}.columns.is-mobile>.column.is-7{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.columns.is-mobile>.column.is-offset-7{margin-left:58.33333%}.columns.is-mobile>.column.is-8{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.columns.is-mobile>.column.is-offset-8{margin-left:66.66667%}.columns.is-mobile>.column.is-9{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.columns.is-mobile>.column.is-offset-9{margin-left:75%}.columns.is-mobile>.column.is-10{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.columns.is-mobile>.column.is-offset-10{margin-left:83.33333%}.columns.is-mobile>.column.is-11{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.columns.is-mobile>.column.is-offset-11{margin-left:91.66667%}.columns.is-mobile>.column.is-12{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.columns.is-mobile>.column.is-offset-12{margin-left:100%}@media screen and (max-width:768px){.column.is-narrow-mobile,.column.is-full-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none}.column.is-full-mobile{width:100%}.column.is-three-quarters-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-two-thirds-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.column.is-half-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-one-third-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.column.is-one-quarter-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-three-quarters-mobile{margin-left:75%}.column.is-offset-two-thirds-mobile{margin-left:66.6666%}.column.is-offset-half-mobile{margin-left:50%}.column.is-offset-one-third-mobile{margin-left:33.3333%}.column.is-offset-one-quarter-mobile{margin-left:25%}.column.is-1-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.column.is-offset-1-mobile{margin-left:8.33333%}.column.is-2-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.column.is-offset-2-mobile{margin-left:16.66667%}.column.is-3-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-3-mobile{margin-left:25%}.column.is-4-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.column.is-offset-4-mobile{margin-left:33.33333%}.column.is-5-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.column.is-offset-5-mobile{margin-left:41.66667%}.column.is-6-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-offset-6-mobile{margin-left:50%}.column.is-7-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.column.is-offset-7-mobile{margin-left:58.33333%}.column.is-8-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.column.is-offset-8-mobile{margin-left:66.66667%}.column.is-9-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-offset-9-mobile{margin-left:75%}.column.is-10-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.column.is-offset-10-mobile{margin-left:83.33333%}.column.is-11-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.column.is-offset-11-mobile{margin-left:91.66667%}.column.is-12-mobile{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.column.is-offset-12-mobile{margin-left:100%}}@media screen and (min-width:769px),print{.column.is-narrow,.column.is-narrow-tablet,.column.is-full,.column.is-full-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none}.column.is-full,.column.is-full-tablet{width:100%}.column.is-three-quarters,.column.is-three-quarters-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-two-thirds,.column.is-two-thirds-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.column.is-half,.column.is-half-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-one-third,.column.is-one-third-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.column.is-one-quarter,.column.is-one-quarter-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-three-quarters,.column.is-offset-three-quarters-tablet{margin-left:75%}.column.is-offset-two-thirds,.column.is-offset-two-thirds-tablet{margin-left:66.6666%}.column.is-offset-half,.column.is-offset-half-tablet{margin-left:50%}.column.is-offset-one-third,.column.is-offset-one-third-tablet{margin-left:33.3333%}.column.is-offset-one-quarter,.column.is-offset-one-quarter-tablet{margin-left:25%}.column.is-1,.column.is-1-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.column.is-offset-1,.column.is-offset-1-tablet{margin-left:8.33333%}.column.is-2,.column.is-2-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.column.is-offset-2,.column.is-offset-2-tablet{margin-left:16.66667%}.column.is-3,.column.is-3-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-3,.column.is-offset-3-tablet{margin-left:25%}.column.is-4,.column.is-4-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.column.is-offset-4,.column.is-offset-4-tablet{margin-left:33.33333%}.column.is-5,.column.is-5-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.column.is-offset-5,.column.is-offset-5-tablet{margin-left:41.66667%}.column.is-6,.column.is-6-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-offset-6,.column.is-offset-6-tablet{margin-left:50%}.column.is-7,.column.is-7-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.column.is-offset-7,.column.is-offset-7-tablet{margin-left:58.33333%}.column.is-8,.column.is-8-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.column.is-offset-8,.column.is-offset-8-tablet{margin-left:66.66667%}.column.is-9,.column.is-9-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-offset-9,.column.is-offset-9-tablet{margin-left:75%}.column.is-10,.column.is-10-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.column.is-offset-10,.column.is-offset-10-tablet{margin-left:83.33333%}.column.is-11,.column.is-11-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.column.is-offset-11,.column.is-offset-11-tablet{margin-left:91.66667%}.column.is-12,.column.is-12-tablet{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.column.is-offset-12,.column.is-offset-12-tablet{margin-left:100%}}@media screen and (max-width:1023px){.column.is-narrow-touch,.column.is-full-touch{-webkit-box-flex:0;-ms-flex:none;flex:none}.column.is-full-touch{width:100%}.column.is-three-quarters-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-two-thirds-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.column.is-half-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-one-third-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.column.is-one-quarter-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-three-quarters-touch{margin-left:75%}.column.is-offset-two-thirds-touch{margin-left:66.6666%}.column.is-offset-half-touch{margin-left:50%}.column.is-offset-one-third-touch{margin-left:33.3333%}.column.is-offset-one-quarter-touch{margin-left:25%}.column.is-1-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.column.is-offset-1-touch{margin-left:8.33333%}.column.is-2-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.column.is-offset-2-touch{margin-left:16.66667%}.column.is-3-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-3-touch{margin-left:25%}.column.is-4-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.column.is-offset-4-touch{margin-left:33.33333%}.column.is-5-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.column.is-offset-5-touch{margin-left:41.66667%}.column.is-6-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-offset-6-touch{margin-left:50%}.column.is-7-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.column.is-offset-7-touch{margin-left:58.33333%}.column.is-8-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.column.is-offset-8-touch{margin-left:66.66667%}.column.is-9-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-offset-9-touch{margin-left:75%}.column.is-10-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.column.is-offset-10-touch{margin-left:83.33333%}.column.is-11-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.column.is-offset-11-touch{margin-left:91.66667%}.column.is-12-touch{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.column.is-offset-12-touch{margin-left:100%}}@media screen and (min-width:1024px){.column.is-narrow-desktop,.column.is-full-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none}.column.is-full-desktop{width:100%}.column.is-three-quarters-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-two-thirds-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.column.is-half-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-one-third-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.column.is-one-quarter-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-three-quarters-desktop{margin-left:75%}.column.is-offset-two-thirds-desktop{margin-left:66.6666%}.column.is-offset-half-desktop{margin-left:50%}.column.is-offset-one-third-desktop{margin-left:33.3333%}.column.is-offset-one-quarter-desktop{margin-left:25%}.column.is-1-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.column.is-offset-1-desktop{margin-left:8.33333%}.column.is-2-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.column.is-offset-2-desktop{margin-left:16.66667%}.column.is-3-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-3-desktop{margin-left:25%}.column.is-4-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.column.is-offset-4-desktop{margin-left:33.33333%}.column.is-5-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.column.is-offset-5-desktop{margin-left:41.66667%}.column.is-6-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-offset-6-desktop{margin-left:50%}.column.is-7-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.column.is-offset-7-desktop{margin-left:58.33333%}.column.is-8-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.column.is-offset-8-desktop{margin-left:66.66667%}.column.is-9-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-offset-9-desktop{margin-left:75%}.column.is-10-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.column.is-offset-10-desktop{margin-left:83.33333%}.column.is-11-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.column.is-offset-11-desktop{margin-left:91.66667%}.column.is-12-desktop{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.column.is-offset-12-desktop{margin-left:100%}}@media screen and (min-width:1216px){.column.is-narrow-widescreen,.column.is-full-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none}.column.is-full-widescreen{width:100%}.column.is-three-quarters-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-two-thirds-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.column.is-half-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-one-third-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.column.is-one-quarter-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-three-quarters-widescreen{margin-left:75%}.column.is-offset-two-thirds-widescreen{margin-left:66.6666%}.column.is-offset-half-widescreen{margin-left:50%}.column.is-offset-one-third-widescreen{margin-left:33.3333%}.column.is-offset-one-quarter-widescreen{margin-left:25%}.column.is-1-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.column.is-offset-1-widescreen{margin-left:8.33333%}.column.is-2-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.column.is-offset-2-widescreen{margin-left:16.66667%}.column.is-3-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-3-widescreen{margin-left:25%}.column.is-4-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.column.is-offset-4-widescreen{margin-left:33.33333%}.column.is-5-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.column.is-offset-5-widescreen{margin-left:41.66667%}.column.is-6-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-offset-6-widescreen{margin-left:50%}.column.is-7-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.column.is-offset-7-widescreen{margin-left:58.33333%}.column.is-8-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.column.is-offset-8-widescreen{margin-left:66.66667%}.column.is-9-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-offset-9-widescreen{margin-left:75%}.column.is-10-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.column.is-offset-10-widescreen{margin-left:83.33333%}.column.is-11-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.column.is-offset-11-widescreen{margin-left:91.66667%}.column.is-12-widescreen{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.column.is-offset-12-widescreen{margin-left:100%}}@media screen and (min-width:1408px){.column.is-narrow-fullhd,.column.is-full-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none}.column.is-full-fullhd{width:100%}.column.is-three-quarters-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-two-thirds-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.6666%}.column.is-half-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-one-third-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.3333%}.column.is-one-quarter-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-three-quarters-fullhd{margin-left:75%}.column.is-offset-two-thirds-fullhd{margin-left:66.6666%}.column.is-offset-half-fullhd{margin-left:50%}.column.is-offset-one-third-fullhd{margin-left:33.3333%}.column.is-offset-one-quarter-fullhd{margin-left:25%}.column.is-1-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:8.33333%}.column.is-offset-1-fullhd{margin-left:8.33333%}.column.is-2-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:16.66667%}.column.is-offset-2-fullhd{margin-left:16.66667%}.column.is-3-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:25%}.column.is-offset-3-fullhd{margin-left:25%}.column.is-4-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:33.33333%}.column.is-offset-4-fullhd{margin-left:33.33333%}.column.is-5-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:41.66667%}.column.is-offset-5-fullhd{margin-left:41.66667%}.column.is-6-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:50%}.column.is-offset-6-fullhd{margin-left:50%}.column.is-7-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:58.33333%}.column.is-offset-7-fullhd{margin-left:58.33333%}.column.is-8-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:66.66667%}.column.is-offset-8-fullhd{margin-left:66.66667%}.column.is-9-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:75%}.column.is-offset-9-fullhd{margin-left:75%}.column.is-10-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:83.33333%}.column.is-offset-10-fullhd{margin-left:83.33333%}.column.is-11-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:91.66667%}.column.is-offset-11-fullhd{margin-left:91.66667%}.column.is-12-fullhd{-webkit-box-flex:0;-ms-flex:none;flex:none;width:100%}.column.is-offset-12-fullhd{margin-left:100%}}.columns{margin-left:-.75rem;margin-right:-.75rem;margin-top:-.75rem}.columns:last-child{margin-bottom:-.75rem}.columns:not(:last-child){margin-bottom:calc(1.5rem - .75rem)}.columns.is-centered{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.columns.is-gapless{margin-left:0;margin-right:0;margin-top:0}.columns.is-gapless>.column{margin:0;padding:0!important}.columns.is-gapless:not(:last-child){margin-bottom:1.5rem}.columns.is-gapless:last-child{margin-bottom:0}.columns.is-mobile{display:-webkit-box;display:-ms-flexbox;display:flex}.columns.is-multiline{-ms-flex-wrap:wrap;flex-wrap:wrap}.columns.is-vcentered{-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media screen and (min-width:769px),print{.columns:not(.is-desktop){display:-webkit-box;display:-ms-flexbox;display:flex}}@media screen and (min-width:1024px){.columns.is-desktop{display:-webkit-box;display:-ms-flexbox;display:flex}}.columns.is-variable{--columnGap:.75rem;margin-left:calc(-1 * var(--columnGap));margin-right:calc(-1 * var(--columnGap))}.columns.is-variable .column{padding-left:var(--columnGap);padding-right:var(--columnGap)}.columns.is-variable.is-0{--columnGap:0}.columns.is-variable.is-1{--columnGap:.25rem}.columns.is-variable.is-2{--columnGap:.5rem}.columns.is-variable.is-3{--columnGap:.75rem}.columns.is-variable.is-4{--columnGap:1rem}.columns.is-variable.is-5{--columnGap:1.25rem}.columns.is-variable.is-6{--columnGap:1.5rem}.columns.is-variable.is-7{--columnGap:1.75rem}.columns.is-variable.is-8{--columnGap:2rem}.tile{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:block;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content}.tile.is-ancestor{margin-left:-.75rem;margin-right:-.75rem;margin-top:-.75rem}.tile.is-ancestor:last-child{margin-bottom:-.75rem}.tile.is-ancestor:not(:last-child){margin-bottom:.75rem}.tile.is-child{margin:0!important}.tile.is-parent{padding:.75rem}.tile.is-vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.tile.is-vertical>.tile.is-child:not(:last-child){margin-bottom:1.5rem!important}@media screen and (min-width:769px),print{.tile:not(.is-child){display:-webkit-box;display:-ms-flexbox;display:flex}.tile.is-1{width:8.33333%}.tile.is-1,.tile.is-2{-webkit-box-flex:0;-ms-flex:none;flex:none}.tile.is-2{width:16.66667%}.tile.is-3{width:25%}.tile.is-3,.tile.is-4{-webkit-box-flex:0;-ms-flex:none;flex:none}.tile.is-4{width:33.33333%}.tile.is-5{width:41.66667%}.tile.is-5,.tile.is-6{-webkit-box-flex:0;-ms-flex:none;flex:none}.tile.is-6{width:50%}.tile.is-7{width:58.33333%}.tile.is-7,.tile.is-8{-webkit-box-flex:0;-ms-flex:none;flex:none}.tile.is-8{width:66.66667%}.tile.is-9{width:75%}.tile.is-9,.tile.is-10{-webkit-box-flex:0;-ms-flex:none;flex:none}.tile.is-10{width:83.33333%}.tile.is-11{width:91.66667%}.tile.is-11,.tile.is-12{-webkit-box-flex:0;-ms-flex:none;flex:none}.tile.is-12{width:100%}}.hero{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.hero .nav{background:0 0;-webkit-box-shadow:0 1px 0 rgba(219,219,219,.3);box-shadow:0 1px 0 rgba(219,219,219,.3)}.hero .tabs ul{border-bottom:none}.hero.is-white{background-color:#fff;color:#0a0a0a}.hero.is-white a:not(.button),.hero.is-white strong{color:inherit}.hero.is-white .title{color:#0a0a0a}.hero.is-white .subtitle{color:rgba(10,10,10,.9)}.hero.is-white .subtitle a:not(.button),.hero.is-white .subtitle strong{color:#0a0a0a}.hero.is-white .nav{-webkit-box-shadow:0 1px 0 rgba(10,10,10,.2);box-shadow:0 1px 0 rgba(10,10,10,.2)}@media screen and (max-width:768px){.hero.is-white .nav-menu{background-color:#fff}}.hero.is-white a.nav-item,.hero.is-white .nav-item a:not(.button){color:rgba(10,10,10,.7)}.hero.is-white a.nav-item:hover,.hero.is-white a.nav-item.is-active,.hero.is-white .nav-item a:not(.button):hover,.hero.is-white .nav-item a:not(.button).is-active{color:#0a0a0a}.hero.is-white .tabs a{color:#0a0a0a;opacity:.9}.hero.is-white .tabs a:hover{opacity:1}.hero.is-white .tabs li.is-active a{opacity:1}.hero.is-white .tabs.is-boxed a,.hero.is-white .tabs.is-toggle a{color:#0a0a0a}.hero.is-white .tabs.is-boxed a:hover,.hero.is-white .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-white .tabs.is-boxed li.is-active a,.hero.is-white .tabs.is-boxed li.is-active a:hover,.hero.is-white .tabs.is-toggle li.is-active a,.hero.is-white .tabs.is-toggle li.is-active a:hover{background-color:#0a0a0a;border-color:#0a0a0a;color:#fff}.hero.is-white.is-bold{background-image:linear-gradient(141deg,#e6e6e6 0%,#fff 71%,#fff 100%)}@media screen and (max-width:768px){.hero.is-white.is-bold .nav-menu{background-image:linear-gradient(141deg,#e6e6e6 0%,#fff 71%,#fff 100%)}}@media screen and (max-width:768px){.hero.is-white .nav-toggle span{background-color:#0a0a0a}.hero.is-white .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-white .nav-toggle.is-active span{background-color:#0a0a0a}.hero.is-white .nav-menu .nav-item{border-top-color:rgba(10,10,10,.2)}}.hero.is-black{background-color:#0a0a0a;color:#fff}.hero.is-black a:not(.button),.hero.is-black strong{color:inherit}.hero.is-black .title{color:#fff}.hero.is-black .subtitle{color:rgba(255,255,255,.9)}.hero.is-black .subtitle a:not(.button),.hero.is-black .subtitle strong{color:#fff}.hero.is-black .nav{-webkit-box-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:0 1px 0 rgba(255,255,255,.2)}@media screen and (max-width:768px){.hero.is-black .nav-menu{background-color:#0a0a0a}}.hero.is-black a.nav-item,.hero.is-black .nav-item a:not(.button){color:rgba(255,255,255,.7)}.hero.is-black a.nav-item:hover,.hero.is-black a.nav-item.is-active,.hero.is-black .nav-item a:not(.button):hover,.hero.is-black .nav-item a:not(.button).is-active{color:#fff}.hero.is-black .tabs a{color:#fff;opacity:.9}.hero.is-black .tabs a:hover{opacity:1}.hero.is-black .tabs li.is-active a{opacity:1}.hero.is-black .tabs.is-boxed a,.hero.is-black .tabs.is-toggle a{color:#fff}.hero.is-black .tabs.is-boxed a:hover,.hero.is-black .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-black .tabs.is-boxed li.is-active a,.hero.is-black .tabs.is-boxed li.is-active a:hover,.hero.is-black .tabs.is-toggle li.is-active a,.hero.is-black .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#0a0a0a}.hero.is-black.is-bold{background-image:linear-gradient(141deg,#000 0%,#0a0a0a 71%,#181616 100%)}@media screen and (max-width:768px){.hero.is-black.is-bold .nav-menu{background-image:linear-gradient(141deg,#000 0%,#0a0a0a 71%,#181616 100%)}}@media screen and (max-width:768px){.hero.is-black .nav-toggle span{background-color:#fff}.hero.is-black .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-black .nav-toggle.is-active span{background-color:#fff}.hero.is-black .nav-menu .nav-item{border-top-color:rgba(255,255,255,.2)}}.hero.is-light{background-color:whitesmoke;color:#363636}.hero.is-light a:not(.button),.hero.is-light strong{color:inherit}.hero.is-light .title{color:#363636}.hero.is-light .subtitle{color:rgba(54,54,54,.9)}.hero.is-light .subtitle a:not(.button),.hero.is-light .subtitle strong{color:#363636}.hero.is-light .nav{-webkit-box-shadow:0 1px 0 rgba(54,54,54,.2);box-shadow:0 1px 0 rgba(54,54,54,.2)}@media screen and (max-width:768px){.hero.is-light .nav-menu{background-color:whitesmoke}}.hero.is-light a.nav-item,.hero.is-light .nav-item a:not(.button){color:rgba(54,54,54,.7)}.hero.is-light a.nav-item:hover,.hero.is-light a.nav-item.is-active,.hero.is-light .nav-item a:not(.button):hover,.hero.is-light .nav-item a:not(.button).is-active{color:#363636}.hero.is-light .tabs a{color:#363636;opacity:.9}.hero.is-light .tabs a:hover{opacity:1}.hero.is-light .tabs li.is-active a{opacity:1}.hero.is-light .tabs.is-boxed a,.hero.is-light .tabs.is-toggle a{color:#363636}.hero.is-light .tabs.is-boxed a:hover,.hero.is-light .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-light .tabs.is-boxed li.is-active a,.hero.is-light .tabs.is-boxed li.is-active a:hover,.hero.is-light .tabs.is-toggle li.is-active a,.hero.is-light .tabs.is-toggle li.is-active a:hover{background-color:#363636;border-color:#363636;color:whitesmoke}.hero.is-light.is-bold{background-image:linear-gradient(141deg,#dfd8d9 0%,whitesmoke 71%,#fff 100%)}@media screen and (max-width:768px){.hero.is-light.is-bold .nav-menu{background-image:linear-gradient(141deg,#dfd8d9 0%,whitesmoke 71%,#fff 100%)}}@media screen and (max-width:768px){.hero.is-light .nav-toggle span{background-color:#363636}.hero.is-light .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-light .nav-toggle.is-active span{background-color:#363636}.hero.is-light .nav-menu .nav-item{border-top-color:rgba(54,54,54,.2)}}.hero.is-dark{background-color:#363636;color:whitesmoke}.hero.is-dark a:not(.button),.hero.is-dark strong{color:inherit}.hero.is-dark .title{color:whitesmoke}.hero.is-dark .subtitle{color:rgba(245,245,245,.9)}.hero.is-dark .subtitle a:not(.button),.hero.is-dark .subtitle strong{color:whitesmoke}.hero.is-dark .nav{-webkit-box-shadow:0 1px 0 rgba(245,245,245,.2);box-shadow:0 1px 0 rgba(245,245,245,.2)}@media screen and (max-width:768px){.hero.is-dark .nav-menu{background-color:#363636}}.hero.is-dark a.nav-item,.hero.is-dark .nav-item a:not(.button){color:rgba(245,245,245,.7)}.hero.is-dark a.nav-item:hover,.hero.is-dark a.nav-item.is-active,.hero.is-dark .nav-item a:not(.button):hover,.hero.is-dark .nav-item a:not(.button).is-active{color:whitesmoke}.hero.is-dark .tabs a{color:whitesmoke;opacity:.9}.hero.is-dark .tabs a:hover{opacity:1}.hero.is-dark .tabs li.is-active a{opacity:1}.hero.is-dark .tabs.is-boxed a,.hero.is-dark .tabs.is-toggle a{color:whitesmoke}.hero.is-dark .tabs.is-boxed a:hover,.hero.is-dark .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-dark .tabs.is-boxed li.is-active a,.hero.is-dark .tabs.is-boxed li.is-active a:hover,.hero.is-dark .tabs.is-toggle li.is-active a,.hero.is-dark .tabs.is-toggle li.is-active a:hover{background-color:whitesmoke;border-color:whitesmoke;color:#363636}.hero.is-dark.is-bold{background-image:linear-gradient(141deg,#1f191a 0%,#363636 71%,#46403f 100%)}@media screen and (max-width:768px){.hero.is-dark.is-bold .nav-menu{background-image:linear-gradient(141deg,#1f191a 0%,#363636 71%,#46403f 100%)}}@media screen and (max-width:768px){.hero.is-dark .nav-toggle span{background-color:whitesmoke}.hero.is-dark .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-dark .nav-toggle.is-active span{background-color:whitesmoke}.hero.is-dark .nav-menu .nav-item{border-top-color:rgba(245,245,245,.2)}}.hero.is-primary{background-color:#00d1b2;color:#fff}.hero.is-primary a:not(.button),.hero.is-primary strong{color:inherit}.hero.is-primary .title{color:#fff}.hero.is-primary .subtitle{color:rgba(255,255,255,.9)}.hero.is-primary .subtitle a:not(.button),.hero.is-primary .subtitle strong{color:#fff}.hero.is-primary .nav{-webkit-box-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:0 1px 0 rgba(255,255,255,.2)}@media screen and (max-width:768px){.hero.is-primary .nav-menu{background-color:#00d1b2}}.hero.is-primary a.nav-item,.hero.is-primary .nav-item a:not(.button){color:rgba(255,255,255,.7)}.hero.is-primary a.nav-item:hover,.hero.is-primary a.nav-item.is-active,.hero.is-primary .nav-item a:not(.button):hover,.hero.is-primary .nav-item a:not(.button).is-active{color:#fff}.hero.is-primary .tabs a{color:#fff;opacity:.9}.hero.is-primary .tabs a:hover{opacity:1}.hero.is-primary .tabs li.is-active a{opacity:1}.hero.is-primary .tabs.is-boxed a,.hero.is-primary .tabs.is-toggle a{color:#fff}.hero.is-primary .tabs.is-boxed a:hover,.hero.is-primary .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-primary .tabs.is-boxed li.is-active a,.hero.is-primary .tabs.is-boxed li.is-active a:hover,.hero.is-primary .tabs.is-toggle li.is-active a,.hero.is-primary .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#00d1b2}.hero.is-primary.is-bold{background-image:linear-gradient(141deg,#009e6c 0%,#00d1b2 71%,#00e7eb 100%)}@media screen and (max-width:768px){.hero.is-primary.is-bold .nav-menu{background-image:linear-gradient(141deg,#009e6c 0%,#00d1b2 71%,#00e7eb 100%)}}@media screen and (max-width:768px){.hero.is-primary .nav-toggle span{background-color:#fff}.hero.is-primary .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-primary .nav-toggle.is-active span{background-color:#fff}.hero.is-primary .nav-menu .nav-item{border-top-color:rgba(255,255,255,.2)}}.hero.is-info{background-color:#3273dc;color:#fff}.hero.is-info a:not(.button),.hero.is-info strong{color:inherit}.hero.is-info .title{color:#fff}.hero.is-info .subtitle{color:rgba(255,255,255,.9)}.hero.is-info .subtitle a:not(.button),.hero.is-info .subtitle strong{color:#fff}.hero.is-info .nav{-webkit-box-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:0 1px 0 rgba(255,255,255,.2)}@media screen and (max-width:768px){.hero.is-info .nav-menu{background-color:#3273dc}}.hero.is-info a.nav-item,.hero.is-info .nav-item a:not(.button){color:rgba(255,255,255,.7)}.hero.is-info a.nav-item:hover,.hero.is-info a.nav-item.is-active,.hero.is-info .nav-item a:not(.button):hover,.hero.is-info .nav-item a:not(.button).is-active{color:#fff}.hero.is-info .tabs a{color:#fff;opacity:.9}.hero.is-info .tabs a:hover{opacity:1}.hero.is-info .tabs li.is-active a{opacity:1}.hero.is-info .tabs.is-boxed a,.hero.is-info .tabs.is-toggle a{color:#fff}.hero.is-info .tabs.is-boxed a:hover,.hero.is-info .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-info .tabs.is-boxed li.is-active a,.hero.is-info .tabs.is-boxed li.is-active a:hover,.hero.is-info .tabs.is-toggle li.is-active a,.hero.is-info .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#3273dc}.hero.is-info.is-bold{background-image:linear-gradient(141deg,#1577c6 0%,#3273dc 71%,#4366e5 100%)}@media screen and (max-width:768px){.hero.is-info.is-bold .nav-menu{background-image:linear-gradient(141deg,#1577c6 0%,#3273dc 71%,#4366e5 100%)}}@media screen and (max-width:768px){.hero.is-info .nav-toggle span{background-color:#fff}.hero.is-info .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-info .nav-toggle.is-active span{background-color:#fff}.hero.is-info .nav-menu .nav-item{border-top-color:rgba(255,255,255,.2)}}.hero.is-success{background-color:#23d160;color:#fff}.hero.is-success a:not(.button),.hero.is-success strong{color:inherit}.hero.is-success .title{color:#fff}.hero.is-success .subtitle{color:rgba(255,255,255,.9)}.hero.is-success .subtitle a:not(.button),.hero.is-success .subtitle strong{color:#fff}.hero.is-success .nav{-webkit-box-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:0 1px 0 rgba(255,255,255,.2)}@media screen and (max-width:768px){.hero.is-success .nav-menu{background-color:#23d160}}.hero.is-success a.nav-item,.hero.is-success .nav-item a:not(.button){color:rgba(255,255,255,.7)}.hero.is-success a.nav-item:hover,.hero.is-success a.nav-item.is-active,.hero.is-success .nav-item a:not(.button):hover,.hero.is-success .nav-item a:not(.button).is-active{color:#fff}.hero.is-success .tabs a{color:#fff;opacity:.9}.hero.is-success .tabs a:hover{opacity:1}.hero.is-success .tabs li.is-active a{opacity:1}.hero.is-success .tabs.is-boxed a,.hero.is-success .tabs.is-toggle a{color:#fff}.hero.is-success .tabs.is-boxed a:hover,.hero.is-success .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-success .tabs.is-boxed li.is-active a,.hero.is-success .tabs.is-boxed li.is-active a:hover,.hero.is-success .tabs.is-toggle li.is-active a,.hero.is-success .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#23d160}.hero.is-success.is-bold{background-image:linear-gradient(141deg,#12af2f 0%,#23d160 71%,#2ce28a 100%)}@media screen and (max-width:768px){.hero.is-success.is-bold .nav-menu{background-image:linear-gradient(141deg,#12af2f 0%,#23d160 71%,#2ce28a 100%)}}@media screen and (max-width:768px){.hero.is-success .nav-toggle span{background-color:#fff}.hero.is-success .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-success .nav-toggle.is-active span{background-color:#fff}.hero.is-success .nav-menu .nav-item{border-top-color:rgba(255,255,255,.2)}}.hero.is-warning{background-color:#ffdd57;color:rgba(0,0,0,.7)}.hero.is-warning a:not(.button),.hero.is-warning strong{color:inherit}.hero.is-warning .title{color:rgba(0,0,0,.7)}.hero.is-warning .subtitle{color:rgba(0,0,0,.9)}.hero.is-warning .subtitle a:not(.button),.hero.is-warning .subtitle strong{color:rgba(0,0,0,.7)}.hero.is-warning .nav{-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2);box-shadow:0 1px 0 rgba(0,0,0,.2)}@media screen and (max-width:768px){.hero.is-warning .nav-menu{background-color:#ffdd57}}.hero.is-warning a.nav-item,.hero.is-warning .nav-item a:not(.button){color:rgba(0,0,0,.7)}.hero.is-warning a.nav-item:hover,.hero.is-warning a.nav-item.is-active,.hero.is-warning .nav-item a:not(.button):hover,.hero.is-warning .nav-item a:not(.button).is-active{color:rgba(0,0,0,.7)}.hero.is-warning .tabs a{color:rgba(0,0,0,.7);opacity:.9}.hero.is-warning .tabs a:hover{opacity:1}.hero.is-warning .tabs li.is-active a{opacity:1}.hero.is-warning .tabs.is-boxed a,.hero.is-warning .tabs.is-toggle a{color:rgba(0,0,0,.7)}.hero.is-warning .tabs.is-boxed a:hover,.hero.is-warning .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-warning .tabs.is-boxed li.is-active a,.hero.is-warning .tabs.is-boxed li.is-active a:hover,.hero.is-warning .tabs.is-toggle li.is-active a,.hero.is-warning .tabs.is-toggle li.is-active a:hover{background-color:rgba(0,0,0,.7);border-color:rgba(0,0,0,.7);color:#ffdd57}.hero.is-warning.is-bold{background-image:linear-gradient(141deg,#ffaf24 0%,#ffdd57 71%,#fffa70 100%)}@media screen and (max-width:768px){.hero.is-warning.is-bold .nav-menu{background-image:linear-gradient(141deg,#ffaf24 0%,#ffdd57 71%,#fffa70 100%)}}@media screen and (max-width:768px){.hero.is-warning .nav-toggle span{background-color:rgba(0,0,0,.7)}.hero.is-warning .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-warning .nav-toggle.is-active span{background-color:rgba(0,0,0,.7)}.hero.is-warning .nav-menu .nav-item{border-top-color:rgba(0,0,0,.2)}}.hero.is-danger{background-color:#ff3860;color:#fff}.hero.is-danger a:not(.button),.hero.is-danger strong{color:inherit}.hero.is-danger .title{color:#fff}.hero.is-danger .subtitle{color:rgba(255,255,255,.9)}.hero.is-danger .subtitle a:not(.button),.hero.is-danger .subtitle strong{color:#fff}.hero.is-danger .nav{-webkit-box-shadow:0 1px 0 rgba(255,255,255,.2);box-shadow:0 1px 0 rgba(255,255,255,.2)}@media screen and (max-width:768px){.hero.is-danger .nav-menu{background-color:#ff3860}}.hero.is-danger a.nav-item,.hero.is-danger .nav-item a:not(.button){color:rgba(255,255,255,.7)}.hero.is-danger a.nav-item:hover,.hero.is-danger a.nav-item.is-active,.hero.is-danger .nav-item a:not(.button):hover,.hero.is-danger .nav-item a:not(.button).is-active{color:#fff}.hero.is-danger .tabs a{color:#fff;opacity:.9}.hero.is-danger .tabs a:hover{opacity:1}.hero.is-danger .tabs li.is-active a{opacity:1}.hero.is-danger .tabs.is-boxed a,.hero.is-danger .tabs.is-toggle a{color:#fff}.hero.is-danger .tabs.is-boxed a:hover,.hero.is-danger .tabs.is-toggle a:hover{background-color:rgba(10,10,10,.1)}.hero.is-danger .tabs.is-boxed li.is-active a,.hero.is-danger .tabs.is-boxed li.is-active a:hover,.hero.is-danger .tabs.is-toggle li.is-active a,.hero.is-danger .tabs.is-toggle li.is-active a:hover{background-color:#fff;border-color:#fff;color:#ff3860}.hero.is-danger.is-bold{background-image:linear-gradient(141deg,#ff0561 0%,#ff3860 71%,#ff5257 100%)}@media screen and (max-width:768px){.hero.is-danger.is-bold .nav-menu{background-image:linear-gradient(141deg,#ff0561 0%,#ff3860 71%,#ff5257 100%)}}@media screen and (max-width:768px){.hero.is-danger .nav-toggle span{background-color:#fff}.hero.is-danger .nav-toggle:hover{background-color:rgba(10,10,10,.1)}.hero.is-danger .nav-toggle.is-active span{background-color:#fff}.hero.is-danger .nav-menu .nav-item{border-top-color:rgba(255,255,255,.2)}}.hero.is-small .hero-body{padding-bottom:1.5rem;padding-top:1.5rem}@media screen and (min-width:769px),print{.hero.is-medium .hero-body{padding-bottom:9rem;padding-top:9rem}}@media screen and (min-width:769px),print{.hero.is-large .hero-body{padding-bottom:18rem;padding-top:18rem}}.hero.is-halfheight .hero-body,.hero.is-fullheight .hero-body{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.hero.is-halfheight .hero-body>.container,.hero.is-fullheight .hero-body>.container{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.hero.is-halfheight{min-height:50vh}.hero.is-fullheight{min-height:100vh}.hero-video{bottom:0;left:0;position:absolute;right:0;top:0;overflow:hidden}.hero-video video{left:50%;min-height:100%;min-width:100%;position:absolute;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}.hero-video.is-transparent{opacity:.3}@media screen and (max-width:768px){.hero-video{display:none}}.hero-buttons{margin-top:1.5rem}@media screen and (max-width:768px){.hero-buttons .button{display:-webkit-box;display:-ms-flexbox;display:flex}.hero-buttons .button:not(:last-child){margin-bottom:.75rem}}@media screen and (min-width:769px),print{.hero-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.hero-buttons .button:not(:last-child){margin-right:1.5rem}}.hero-head,.hero-foot{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}.hero-body{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:0;flex-shrink:0}.hero-body,.section{padding:3rem 1.5rem}@media screen and (min-width:1024px){.section.is-medium{padding:9rem 1.5rem}.section.is-large{padding:18rem 1.5rem}}.footer{background-color:whitesmoke;padding:3rem 1.5rem 6rem}</style><style>/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:\'FontAwesome\';src:url(\'assets/fonts/fontawesome-webfont.eot?v=4.7.0\');src:url(\'assets/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0\') format(\'embedded-opentype\'),url(\'assets/fonts/fontawesome-webfont.woff2?v=4.7.0\') format(\'woff2\'),url(\'assets/fonts/fontawesome-webfont.woff?v=4.7.0\') format(\'woff\'),url(\'assets/fonts/fontawesome-webfont.ttf?v=4.7.0\') format(\'truetype\'),url(\'assets/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular\') format(\'svg\');font-weight:400;font-style:normal}.fa{display:inline-block;font:14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\f000"}.fa-music:before{content:"\\f001"}.fa-search:before{content:"\\f002"}.fa-envelope-o:before{content:"\\f003"}.fa-heart:before{content:"\\f004"}.fa-star:before{content:"\\f005"}.fa-star-o:before{content:"\\f006"}.fa-user:before{content:"\\f007"}.fa-film:before{content:"\\f008"}.fa-th-large:before{content:"\\f009"}.fa-th:before{content:"\\f00a"}.fa-th-list:before{content:"\\f00b"}.fa-check:before{content:"\\f00c"}.fa-remove:before,.fa-close:before,.fa-times:before{content:"\\f00d"}.fa-search-plus:before{content:"\\f00e"}.fa-search-minus:before{content:"\\f010"}.fa-power-off:before{content:"\\f011"}.fa-signal:before{content:"\\f012"}.fa-gear:before,.fa-cog:before{content:"\\f013"}.fa-trash-o:before{content:"\\f014"}.fa-home:before{content:"\\f015"}.fa-file-o:before{content:"\\f016"}.fa-clock-o:before{content:"\\f017"}.fa-road:before{content:"\\f018"}.fa-download:before{content:"\\f019"}.fa-arrow-circle-o-down:before{content:"\\f01a"}.fa-arrow-circle-o-up:before{content:"\\f01b"}.fa-inbox:before{content:"\\f01c"}.fa-play-circle-o:before{content:"\\f01d"}.fa-rotate-right:before,.fa-repeat:before{content:"\\f01e"}.fa-refresh:before{content:"\\f021"}.fa-list-alt:before{content:"\\f022"}.fa-lock:before{content:"\\f023"}.fa-flag:before{content:"\\f024"}.fa-headphones:before{content:"\\f025"}.fa-volume-off:before{content:"\\f026"}.fa-volume-down:before{content:"\\f027"}.fa-volume-up:before{content:"\\f028"}.fa-qrcode:before{content:"\\f029"}.fa-barcode:before{content:"\\f02a"}.fa-tag:before{content:"\\f02b"}.fa-tags:before{content:"\\f02c"}.fa-book:before{content:"\\f02d"}.fa-bookmark:before{content:"\\f02e"}.fa-print:before{content:"\\f02f"}.fa-camera:before{content:"\\f030"}.fa-font:before{content:"\\f031"}.fa-bold:before{content:"\\f032"}.fa-italic:before{content:"\\f033"}.fa-text-height:before{content:"\\f034"}.fa-text-width:before{content:"\\f035"}.fa-align-left:before{content:"\\f036"}.fa-align-center:before{content:"\\f037"}.fa-align-right:before{content:"\\f038"}.fa-align-justify:before{content:"\\f039"}.fa-list:before{content:"\\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\\f03b"}.fa-indent:before{content:"\\f03c"}.fa-video-camera:before{content:"\\f03d"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:"\\f03e"}.fa-pencil:before{content:"\\f040"}.fa-map-marker:before{content:"\\f041"}.fa-adjust:before{content:"\\f042"}.fa-tint:before{content:"\\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\f044"}.fa-share-square-o:before{content:"\\f045"}.fa-check-square-o:before{content:"\\f046"}.fa-arrows:before{content:"\\f047"}.fa-step-backward:before{content:"\\f048"}.fa-fast-backward:before{content:"\\f049"}.fa-backward:before{content:"\\f04a"}.fa-play:before{content:"\\f04b"}.fa-pause:before{content:"\\f04c"}.fa-stop:before{content:"\\f04d"}.fa-forward:before{content:"\\f04e"}.fa-fast-forward:before{content:"\\f050"}.fa-step-forward:before{content:"\\f051"}.fa-eject:before{content:"\\f052"}.fa-chevron-left:before{content:"\\f053"}.fa-chevron-right:before{content:"\\f054"}.fa-plus-circle:before{content:"\\f055"}.fa-minus-circle:before{content:"\\f056"}.fa-times-circle:before{content:"\\f057"}.fa-check-circle:before{content:"\\f058"}.fa-question-circle:before{content:"\\f059"}.fa-info-circle:before{content:"\\f05a"}.fa-crosshairs:before{content:"\\f05b"}.fa-times-circle-o:before{content:"\\f05c"}.fa-check-circle-o:before{content:"\\f05d"}.fa-ban:before{content:"\\f05e"}.fa-arrow-left:before{content:"\\f060"}.fa-arrow-right:before{content:"\\f061"}.fa-arrow-up:before{content:"\\f062"}.fa-arrow-down:before{content:"\\f063"}.fa-mail-forward:before,.fa-share:before{content:"\\f064"}.fa-expand:before{content:"\\f065"}.fa-compress:before{content:"\\f066"}.fa-plus:before{content:"\\f067"}.fa-minus:before{content:"\\f068"}.fa-asterisk:before{content:"\\f069"}.fa-exclamation-circle:before{content:"\\f06a"}.fa-gift:before{content:"\\f06b"}.fa-leaf:before{content:"\\f06c"}.fa-fire:before{content:"\\f06d"}.fa-eye:before{content:"\\f06e"}.fa-eye-slash:before{content:"\\f070"}.fa-warning:before,.fa-exclamation-triangle:before{content:"\\f071"}.fa-plane:before{content:"\\f072"}.fa-calendar:before{content:"\\f073"}.fa-random:before{content:"\\f074"}.fa-comment:before{content:"\\f075"}.fa-magnet:before{content:"\\f076"}.fa-chevron-up:before{content:"\\f077"}.fa-chevron-down:before{content:"\\f078"}.fa-retweet:before{content:"\\f079"}.fa-shopping-cart:before{content:"\\f07a"}.fa-folder:before{content:"\\f07b"}.fa-folder-open:before{content:"\\f07c"}.fa-arrows-v:before{content:"\\f07d"}.fa-arrows-h:before{content:"\\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\f080"}.fa-twitter-square:before{content:"\\f081"}.fa-facebook-square:before{content:"\\f082"}.fa-camera-retro:before{content:"\\f083"}.fa-key:before{content:"\\f084"}.fa-gears:before,.fa-cogs:before{content:"\\f085"}.fa-comments:before{content:"\\f086"}.fa-thumbs-o-up:before{content:"\\f087"}.fa-thumbs-o-down:before{content:"\\f088"}.fa-star-half:before{content:"\\f089"}.fa-heart-o:before{content:"\\f08a"}.fa-sign-out:before{content:"\\f08b"}.fa-linkedin-square:before{content:"\\f08c"}.fa-thumb-tack:before{content:"\\f08d"}.fa-external-link:before{content:"\\f08e"}.fa-sign-in:before{content:"\\f090"}.fa-trophy:before{content:"\\f091"}.fa-github-square:before{content:"\\f092"}.fa-upload:before{content:"\\f093"}.fa-lemon-o:before{content:"\\f094"}.fa-phone:before{content:"\\f095"}.fa-square-o:before{content:"\\f096"}.fa-bookmark-o:before{content:"\\f097"}.fa-phone-square:before{content:"\\f098"}.fa-twitter:before{content:"\\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\f09a"}.fa-github:before{content:"\\f09b"}.fa-unlock:before{content:"\\f09c"}.fa-credit-card:before{content:"\\f09d"}.fa-feed:before,.fa-rss:before{content:"\\f09e"}.fa-hdd-o:before{content:"\\f0a0"}.fa-bullhorn:before{content:"\\f0a1"}.fa-bell:before{content:"\\f0f3"}.fa-certificate:before{content:"\\f0a3"}.fa-hand-o-right:before{content:"\\f0a4"}.fa-hand-o-left:before{content:"\\f0a5"}.fa-hand-o-up:before{content:"\\f0a6"}.fa-hand-o-down:before{content:"\\f0a7"}.fa-arrow-circle-left:before{content:"\\f0a8"}.fa-arrow-circle-right:before{content:"\\f0a9"}.fa-arrow-circle-up:before{content:"\\f0aa"}.fa-arrow-circle-down:before{content:"\\f0ab"}.fa-globe:before{content:"\\f0ac"}.fa-wrench:before{content:"\\f0ad"}.fa-tasks:before{content:"\\f0ae"}.fa-filter:before{content:"\\f0b0"}.fa-briefcase:before{content:"\\f0b1"}.fa-arrows-alt:before{content:"\\f0b2"}.fa-group:before,.fa-users:before{content:"\\f0c0"}.fa-chain:before,.fa-link:before{content:"\\f0c1"}.fa-cloud:before{content:"\\f0c2"}.fa-flask:before{content:"\\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\\f0c5"}.fa-paperclip:before{content:"\\f0c6"}.fa-save:before,.fa-floppy-o:before{content:"\\f0c7"}.fa-square:before{content:"\\f0c8"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:"\\f0c9"}.fa-list-ul:before{content:"\\f0ca"}.fa-list-ol:before{content:"\\f0cb"}.fa-strikethrough:before{content:"\\f0cc"}.fa-underline:before{content:"\\f0cd"}.fa-table:before{content:"\\f0ce"}.fa-magic:before{content:"\\f0d0"}.fa-truck:before{content:"\\f0d1"}.fa-pinterest:before{content:"\\f0d2"}.fa-pinterest-square:before{content:"\\f0d3"}.fa-google-plus-square:before{content:"\\f0d4"}.fa-google-plus:before{content:"\\f0d5"}.fa-money:before{content:"\\f0d6"}.fa-caret-down:before{content:"\\f0d7"}.fa-caret-up:before{content:"\\f0d8"}.fa-caret-left:before{content:"\\f0d9"}.fa-caret-right:before{content:"\\f0da"}.fa-columns:before{content:"\\f0db"}.fa-unsorted:before,.fa-sort:before{content:"\\f0dc"}.fa-sort-down:before,.fa-sort-desc:before{content:"\\f0dd"}.fa-sort-up:before,.fa-sort-asc:before{content:"\\f0de"}.fa-envelope:before{content:"\\f0e0"}.fa-linkedin:before{content:"\\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\\f0e2"}.fa-legal:before,.fa-gavel:before{content:"\\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\f0e4"}.fa-comment-o:before{content:"\\f0e5"}.fa-comments-o:before{content:"\\f0e6"}.fa-flash:before,.fa-bolt:before{content:"\\f0e7"}.fa-sitemap:before{content:"\\f0e8"}.fa-umbrella:before{content:"\\f0e9"}.fa-paste:before,.fa-clipboard:before{content:"\\f0ea"}.fa-lightbulb-o:before{content:"\\f0eb"}.fa-exchange:before{content:"\\f0ec"}.fa-cloud-download:before{content:"\\f0ed"}.fa-cloud-upload:before{content:"\\f0ee"}.fa-user-md:before{content:"\\f0f0"}.fa-stethoscope:before{content:"\\f0f1"}.fa-suitcase:before{content:"\\f0f2"}.fa-bell-o:before{content:"\\f0a2"}.fa-coffee:before{content:"\\f0f4"}.fa-cutlery:before{content:"\\f0f5"}.fa-file-text-o:before{content:"\\f0f6"}.fa-building-o:before{content:"\\f0f7"}.fa-hospital-o:before{content:"\\f0f8"}.fa-ambulance:before{content:"\\f0f9"}.fa-medkit:before{content:"\\f0fa"}.fa-fighter-jet:before{content:"\\f0fb"}.fa-beer:before{content:"\\f0fc"}.fa-h-square:before{content:"\\f0fd"}.fa-plus-square:before{content:"\\f0fe"}.fa-angle-double-left:before{content:"\\f100"}.fa-angle-double-right:before{content:"\\f101"}.fa-angle-double-up:before{content:"\\f102"}.fa-angle-double-down:before{content:"\\f103"}.fa-angle-left:before{content:"\\f104"}.fa-angle-right:before{content:"\\f105"}.fa-angle-up:before{content:"\\f106"}.fa-angle-down:before{content:"\\f107"}.fa-desktop:before{content:"\\f108"}.fa-laptop:before{content:"\\f109"}.fa-tablet:before{content:"\\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\f10b"}.fa-circle-o:before{content:"\\f10c"}.fa-quote-left:before{content:"\\f10d"}.fa-quote-right:before{content:"\\f10e"}.fa-spinner:before{content:"\\f110"}.fa-circle:before{content:"\\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\\f112"}.fa-github-alt:before{content:"\\f113"}.fa-folder-o:before{content:"\\f114"}.fa-folder-open-o:before{content:"\\f115"}.fa-smile-o:before{content:"\\f118"}.fa-frown-o:before{content:"\\f119"}.fa-meh-o:before{content:"\\f11a"}.fa-gamepad:before{content:"\\f11b"}.fa-keyboard-o:before{content:"\\f11c"}.fa-flag-o:before{content:"\\f11d"}.fa-flag-checkered:before{content:"\\f11e"}.fa-terminal:before{content:"\\f120"}.fa-code:before{content:"\\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\f123"}.fa-location-arrow:before{content:"\\f124"}.fa-crop:before{content:"\\f125"}.fa-code-fork:before{content:"\\f126"}.fa-unlink:before,.fa-chain-broken:before{content:"\\f127"}.fa-question:before{content:"\\f128"}.fa-info:before{content:"\\f129"}.fa-exclamation:before{content:"\\f12a"}.fa-superscript:before{content:"\\f12b"}.fa-subscript:before{content:"\\f12c"}.fa-eraser:before{content:"\\f12d"}.fa-puzzle-piece:before{content:"\\f12e"}.fa-microphone:before{content:"\\f130"}.fa-microphone-slash:before{content:"\\f131"}.fa-shield:before{content:"\\f132"}.fa-calendar-o:before{content:"\\f133"}.fa-fire-extinguisher:before{content:"\\f134"}.fa-rocket:before{content:"\\f135"}.fa-maxcdn:before{content:"\\f136"}.fa-chevron-circle-left:before{content:"\\f137"}.fa-chevron-circle-right:before{content:"\\f138"}.fa-chevron-circle-up:before{content:"\\f139"}.fa-chevron-circle-down:before{content:"\\f13a"}.fa-html5:before{content:"\\f13b"}.fa-css3:before{content:"\\f13c"}.fa-anchor:before{content:"\\f13d"}.fa-unlock-alt:before{content:"\\f13e"}.fa-bullseye:before{content:"\\f140"}.fa-ellipsis-h:before{content:"\\f141"}.fa-ellipsis-v:before{content:"\\f142"}.fa-rss-square:before{content:"\\f143"}.fa-play-circle:before{content:"\\f144"}.fa-ticket:before{content:"\\f145"}.fa-minus-square:before{content:"\\f146"}.fa-minus-square-o:before{content:"\\f147"}.fa-level-up:before{content:"\\f148"}.fa-level-down:before{content:"\\f149"}.fa-check-square:before{content:"\\f14a"}.fa-pencil-square:before{content:"\\f14b"}.fa-external-link-square:before{content:"\\f14c"}.fa-share-square:before{content:"\\f14d"}.fa-compass:before{content:"\\f14e"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:"\\f150"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:"\\f151"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:"\\f152"}.fa-euro:before,.fa-eur:before{content:"\\f153"}.fa-gbp:before{content:"\\f154"}.fa-dollar:before,.fa-usd:before{content:"\\f155"}.fa-rupee:before,.fa-inr:before{content:"\\f156"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:"\\f157"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:"\\f158"}.fa-won:before,.fa-krw:before{content:"\\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\\f15a"}.fa-file:before{content:"\\f15b"}.fa-file-text:before{content:"\\f15c"}.fa-sort-alpha-asc:before{content:"\\f15d"}.fa-sort-alpha-desc:before{content:"\\f15e"}.fa-sort-amount-asc:before{content:"\\f160"}.fa-sort-amount-desc:before{content:"\\f161"}.fa-sort-numeric-asc:before{content:"\\f162"}.fa-sort-numeric-desc:before{content:"\\f163"}.fa-thumbs-up:before{content:"\\f164"}.fa-thumbs-down:before{content:"\\f165"}.fa-youtube-square:before{content:"\\f166"}.fa-youtube:before{content:"\\f167"}.fa-xing:before{content:"\\f168"}.fa-xing-square:before{content:"\\f169"}.fa-youtube-play:before{content:"\\f16a"}.fa-dropbox:before{content:"\\f16b"}.fa-stack-overflow:before{content:"\\f16c"}.fa-instagram:before{content:"\\f16d"}.fa-flickr:before{content:"\\f16e"}.fa-adn:before{content:"\\f170"}.fa-bitbucket:before{content:"\\f171"}.fa-bitbucket-square:before{content:"\\f172"}.fa-tumblr:before{content:"\\f173"}.fa-tumblr-square:before{content:"\\f174"}.fa-long-arrow-down:before{content:"\\f175"}.fa-long-arrow-up:before{content:"\\f176"}.fa-long-arrow-left:before{content:"\\f177"}.fa-long-arrow-right:before{content:"\\f178"}.fa-apple:before{content:"\\f179"}.fa-windows:before{content:"\\f17a"}.fa-android:before{content:"\\f17b"}.fa-linux:before{content:"\\f17c"}.fa-dribbble:before{content:"\\f17d"}.fa-skype:before{content:"\\f17e"}.fa-foursquare:before{content:"\\f180"}.fa-trello:before{content:"\\f181"}.fa-female:before{content:"\\f182"}.fa-male:before{content:"\\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\\f184"}.fa-sun-o:before{content:"\\f185"}.fa-moon-o:before{content:"\\f186"}.fa-archive:before{content:"\\f187"}.fa-bug:before{content:"\\f188"}.fa-vk:before{content:"\\f189"}.fa-weibo:before{content:"\\f18a"}.fa-renren:before{content:"\\f18b"}.fa-pagelines:before{content:"\\f18c"}.fa-stack-exchange:before{content:"\\f18d"}.fa-arrow-circle-o-right:before{content:"\\f18e"}.fa-arrow-circle-o-left:before{content:"\\f190"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:"\\f191"}.fa-dot-circle-o:before{content:"\\f192"}.fa-wheelchair:before{content:"\\f193"}.fa-vimeo-square:before{content:"\\f194"}.fa-turkish-lira:before,.fa-try:before{content:"\\f195"}.fa-plus-square-o:before{content:"\\f196"}.fa-space-shuttle:before{content:"\\f197"}.fa-slack:before{content:"\\f198"}.fa-envelope-square:before{content:"\\f199"}.fa-wordpress:before{content:"\\f19a"}.fa-openid:before{content:"\\f19b"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:"\\f19c"}.fa-mortar-board:before,.fa-graduation-cap:before{content:"\\f19d"}.fa-yahoo:before{content:"\\f19e"}.fa-google:before{content:"\\f1a0"}.fa-reddit:before{content:"\\f1a1"}.fa-reddit-square:before{content:"\\f1a2"}.fa-stumbleupon-circle:before{content:"\\f1a3"}.fa-stumbleupon:before{content:"\\f1a4"}.fa-delicious:before{content:"\\f1a5"}.fa-digg:before{content:"\\f1a6"}.fa-pied-piper-pp:before{content:"\\f1a7"}.fa-pied-piper-alt:before{content:"\\f1a8"}.fa-drupal:before{content:"\\f1a9"}.fa-joomla:before{content:"\\f1aa"}.fa-language:before{content:"\\f1ab"}.fa-fax:before{content:"\\f1ac"}.fa-building:before{content:"\\f1ad"}.fa-child:before{content:"\\f1ae"}.fa-paw:before{content:"\\f1b0"}.fa-spoon:before{content:"\\f1b1"}.fa-cube:before{content:"\\f1b2"}.fa-cubes:before{content:"\\f1b3"}.fa-behance:before{content:"\\f1b4"}.fa-behance-square:before{content:"\\f1b5"}.fa-steam:before{content:"\\f1b6"}.fa-steam-square:before{content:"\\f1b7"}.fa-recycle:before{content:"\\f1b8"}.fa-automobile:before,.fa-car:before{content:"\\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\\f1ba"}.fa-tree:before{content:"\\f1bb"}.fa-spotify:before{content:"\\f1bc"}.fa-deviantart:before{content:"\\f1bd"}.fa-soundcloud:before{content:"\\f1be"}.fa-database:before{content:"\\f1c0"}.fa-file-pdf-o:before{content:"\\f1c1"}.fa-file-word-o:before{content:"\\f1c2"}.fa-file-excel-o:before{content:"\\f1c3"}.fa-file-powerpoint-o:before{content:"\\f1c4"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:"\\f1c5"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:"\\f1c6"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:"\\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\f1c8"}.fa-file-code-o:before{content:"\\f1c9"}.fa-vine:before{content:"\\f1ca"}.fa-codepen:before{content:"\\f1cb"}.fa-jsfiddle:before{content:"\\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:"\\f1cd"}.fa-circle-o-notch:before{content:"\\f1ce"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:"\\f1d0"}.fa-ge:before,.fa-empire:before{content:"\\f1d1"}.fa-git-square:before{content:"\\f1d2"}.fa-git:before{content:"\\f1d3"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:"\\f1d4"}.fa-tencent-weibo:before{content:"\\f1d5"}.fa-qq:before{content:"\\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\\f1d7"}.fa-send:before,.fa-paper-plane:before{content:"\\f1d8"}.fa-send-o:before,.fa-paper-plane-o:before{content:"\\f1d9"}.fa-history:before{content:"\\f1da"}.fa-circle-thin:before{content:"\\f1db"}.fa-header:before{content:"\\f1dc"}.fa-paragraph:before{content:"\\f1dd"}.fa-sliders:before{content:"\\f1de"}.fa-share-alt:before{content:"\\f1e0"}.fa-share-alt-square:before{content:"\\f1e1"}.fa-bomb:before{content:"\\f1e2"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:"\\f1e3"}.fa-tty:before{content:"\\f1e4"}.fa-binoculars:before{content:"\\f1e5"}.fa-plug:before{content:"\\f1e6"}.fa-slideshare:before{content:"\\f1e7"}.fa-twitch:before{content:"\\f1e8"}.fa-yelp:before{content:"\\f1e9"}.fa-newspaper-o:before{content:"\\f1ea"}.fa-wifi:before{content:"\\f1eb"}.fa-calculator:before{content:"\\f1ec"}.fa-paypal:before{content:"\\f1ed"}.fa-google-wallet:before{content:"\\f1ee"}.fa-cc-visa:before{content:"\\f1f0"}.fa-cc-mastercard:before{content:"\\f1f1"}.fa-cc-discover:before{content:"\\f1f2"}.fa-cc-amex:before{content:"\\f1f3"}.fa-cc-paypal:before{content:"\\f1f4"}.fa-cc-stripe:before{content:"\\f1f5"}.fa-bell-slash:before{content:"\\f1f6"}.fa-bell-slash-o:before{content:"\\f1f7"}.fa-trash:before{content:"\\f1f8"}.fa-copyright:before{content:"\\f1f9"}.fa-at:before{content:"\\f1fa"}.fa-eyedropper:before{content:"\\f1fb"}.fa-paint-brush:before{content:"\\f1fc"}.fa-birthday-cake:before{content:"\\f1fd"}.fa-area-chart:before{content:"\\f1fe"}.fa-pie-chart:before{content:"\\f200"}.fa-line-chart:before{content:"\\f201"}.fa-lastfm:before{content:"\\f202"}.fa-lastfm-square:before{content:"\\f203"}.fa-toggle-off:before{content:"\\f204"}.fa-toggle-on:before{content:"\\f205"}.fa-bicycle:before{content:"\\f206"}.fa-bus:before{content:"\\f207"}.fa-ioxhost:before{content:"\\f208"}.fa-angellist:before{content:"\\f209"}.fa-cc:before{content:"\\f20a"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:"\\f20b"}.fa-meanpath:before{content:"\\f20c"}.fa-buysellads:before{content:"\\f20d"}.fa-connectdevelop:before{content:"\\f20e"}.fa-dashcube:before{content:"\\f210"}.fa-forumbee:before{content:"\\f211"}.fa-leanpub:before{content:"\\f212"}.fa-sellsy:before{content:"\\f213"}.fa-shirtsinbulk:before{content:"\\f214"}.fa-simplybuilt:before{content:"\\f215"}.fa-skyatlas:before{content:"\\f216"}.fa-cart-plus:before{content:"\\f217"}.fa-cart-arrow-down:before{content:"\\f218"}.fa-diamond:before{content:"\\f219"}.fa-ship:before{content:"\\f21a"}.fa-user-secret:before{content:"\\f21b"}.fa-motorcycle:before{content:"\\f21c"}.fa-street-view:before{content:"\\f21d"}.fa-heartbeat:before{content:"\\f21e"}.fa-venus:before{content:"\\f221"}.fa-mars:before{content:"\\f222"}.fa-mercury:before{content:"\\f223"}.fa-intersex:before,.fa-transgender:before{content:"\\f224"}.fa-transgender-alt:before{content:"\\f225"}.fa-venus-double:before{content:"\\f226"}.fa-mars-double:before{content:"\\f227"}.fa-venus-mars:before{content:"\\f228"}.fa-mars-stroke:before{content:"\\f229"}.fa-mars-stroke-v:before{content:"\\f22a"}.fa-mars-stroke-h:before{content:"\\f22b"}.fa-neuter:before{content:"\\f22c"}.fa-genderless:before{content:"\\f22d"}.fa-facebook-official:before{content:"\\f230"}.fa-pinterest-p:before{content:"\\f231"}.fa-whatsapp:before{content:"\\f232"}.fa-server:before{content:"\\f233"}.fa-user-plus:before{content:"\\f234"}.fa-user-times:before{content:"\\f235"}.fa-hotel:before,.fa-bed:before{content:"\\f236"}.fa-viacoin:before{content:"\\f237"}.fa-train:before{content:"\\f238"}.fa-subway:before{content:"\\f239"}.fa-medium:before{content:"\\f23a"}.fa-yc:before,.fa-y-combinator:before{content:"\\f23b"}.fa-optin-monster:before{content:"\\f23c"}.fa-opencart:before{content:"\\f23d"}.fa-expeditedssl:before{content:"\\f23e"}.fa-battery-4:before,.fa-battery:before,.fa-battery-full:before{content:"\\f240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\\f241"}.fa-battery-2:before,.fa-battery-half:before{content:"\\f242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\\f243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\\f244"}.fa-mouse-pointer:before{content:"\\f245"}.fa-i-cursor:before{content:"\\f246"}.fa-object-group:before{content:"\\f247"}.fa-object-ungroup:before{content:"\\f248"}.fa-sticky-note:before{content:"\\f249"}.fa-sticky-note-o:before{content:"\\f24a"}.fa-cc-jcb:before{content:"\\f24b"}.fa-cc-diners-club:before{content:"\\f24c"}.fa-clone:before{content:"\\f24d"}.fa-balance-scale:before{content:"\\f24e"}.fa-hourglass-o:before{content:"\\f250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\\f251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\\f252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\\f253"}.fa-hourglass:before{content:"\\f254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\\f255"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:"\\f256"}.fa-hand-scissors-o:before{content:"\\f257"}.fa-hand-lizard-o:before{content:"\\f258"}.fa-hand-spock-o:before{content:"\\f259"}.fa-hand-pointer-o:before{content:"\\f25a"}.fa-hand-peace-o:before{content:"\\f25b"}.fa-trademark:before{content:"\\f25c"}.fa-registered:before{content:"\\f25d"}.fa-creative-commons:before{content:"\\f25e"}.fa-gg:before{content:"\\f260"}.fa-gg-circle:before{content:"\\f261"}.fa-tripadvisor:before{content:"\\f262"}.fa-odnoklassniki:before{content:"\\f263"}.fa-odnoklassniki-square:before{content:"\\f264"}.fa-get-pocket:before{content:"\\f265"}.fa-wikipedia-w:before{content:"\\f266"}.fa-safari:before{content:"\\f267"}.fa-chrome:before{content:"\\f268"}.fa-firefox:before{content:"\\f269"}.fa-opera:before{content:"\\f26a"}.fa-internet-explorer:before{content:"\\f26b"}.fa-tv:before,.fa-television:before{content:"\\f26c"}.fa-contao:before{content:"\\f26d"}.fa-500px:before{content:"\\f26e"}.fa-amazon:before{content:"\\f270"}.fa-calendar-plus-o:before{content:"\\f271"}.fa-calendar-minus-o:before{content:"\\f272"}.fa-calendar-times-o:before{content:"\\f273"}.fa-calendar-check-o:before{content:"\\f274"}.fa-industry:before{content:"\\f275"}.fa-map-pin:before{content:"\\f276"}.fa-map-signs:before{content:"\\f277"}.fa-map-o:before{content:"\\f278"}.fa-map:before{content:"\\f279"}.fa-commenting:before{content:"\\f27a"}.fa-commenting-o:before{content:"\\f27b"}.fa-houzz:before{content:"\\f27c"}.fa-vimeo:before{content:"\\f27d"}.fa-black-tie:before{content:"\\f27e"}.fa-fonticons:before{content:"\\f280"}.fa-reddit-alien:before{content:"\\f281"}.fa-edge:before{content:"\\f282"}.fa-credit-card-alt:before{content:"\\f283"}.fa-codiepie:before{content:"\\f284"}.fa-modx:before{content:"\\f285"}.fa-fort-awesome:before{content:"\\f286"}.fa-usb:before{content:"\\f287"}.fa-product-hunt:before{content:"\\f288"}.fa-mixcloud:before{content:"\\f289"}.fa-scribd:before{content:"\\f28a"}.fa-pause-circle:before{content:"\\f28b"}.fa-pause-circle-o:before{content:"\\f28c"}.fa-stop-circle:before{content:"\\f28d"}.fa-stop-circle-o:before{content:"\\f28e"}.fa-shopping-bag:before{content:"\\f290"}.fa-shopping-basket:before{content:"\\f291"}.fa-hashtag:before{content:"\\f292"}.fa-bluetooth:before{content:"\\f293"}.fa-bluetooth-b:before{content:"\\f294"}.fa-percent:before{content:"\\f295"}.fa-gitlab:before{content:"\\f296"}.fa-wpbeginner:before{content:"\\f297"}.fa-wpforms:before{content:"\\f298"}.fa-envira:before{content:"\\f299"}.fa-universal-access:before{content:"\\f29a"}.fa-wheelchair-alt:before{content:"\\f29b"}.fa-question-circle-o:before{content:"\\f29c"}.fa-blind:before{content:"\\f29d"}.fa-audio-description:before{content:"\\f29e"}.fa-volume-control-phone:before{content:"\\f2a0"}.fa-braille:before{content:"\\f2a1"}.fa-assistive-listening-systems:before{content:"\\f2a2"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:"\\f2a3"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:"\\f2a4"}.fa-glide:before{content:"\\f2a5"}.fa-glide-g:before{content:"\\f2a6"}.fa-signing:before,.fa-sign-language:before{content:"\\f2a7"}.fa-low-vision:before{content:"\\f2a8"}.fa-viadeo:before{content:"\\f2a9"}.fa-viadeo-square:before{content:"\\f2aa"}.fa-snapchat:before{content:"\\f2ab"}.fa-snapchat-ghost:before{content:"\\f2ac"}.fa-snapchat-square:before{content:"\\f2ad"}.fa-pied-piper:before{content:"\\f2ae"}.fa-first-order:before{content:"\\f2b0"}.fa-yoast:before{content:"\\f2b1"}.fa-themeisle:before{content:"\\f2b2"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:"\\f2b3"}.fa-fa:before,.fa-font-awesome:before{content:"\\f2b4"}.fa-handshake-o:before{content:"\\f2b5"}.fa-envelope-open:before{content:"\\f2b6"}.fa-envelope-open-o:before{content:"\\f2b7"}.fa-linode:before{content:"\\f2b8"}.fa-address-book:before{content:"\\f2b9"}.fa-address-book-o:before{content:"\\f2ba"}.fa-vcard:before,.fa-address-card:before{content:"\\f2bb"}.fa-vcard-o:before,.fa-address-card-o:before{content:"\\f2bc"}.fa-user-circle:before{content:"\\f2bd"}.fa-user-circle-o:before{content:"\\f2be"}.fa-user-o:before{content:"\\f2c0"}.fa-id-badge:before{content:"\\f2c1"}.fa-drivers-license:before,.fa-id-card:before{content:"\\f2c2"}.fa-drivers-license-o:before,.fa-id-card-o:before{content:"\\f2c3"}.fa-quora:before{content:"\\f2c4"}.fa-free-code-camp:before{content:"\\f2c5"}.fa-telegram:before{content:"\\f2c6"}.fa-thermometer-4:before,.fa-thermometer:before,.fa-thermometer-full:before{content:"\\f2c7"}.fa-thermometer-3:before,.fa-thermometer-three-quarters:before{content:"\\f2c8"}.fa-thermometer-2:before,.fa-thermometer-half:before{content:"\\f2c9"}.fa-thermometer-1:before,.fa-thermometer-quarter:before{content:"\\f2ca"}.fa-thermometer-0:before,.fa-thermometer-empty:before{content:"\\f2cb"}.fa-shower:before{content:"\\f2cc"}.fa-bathtub:before,.fa-s15:before,.fa-bath:before{content:"\\f2cd"}.fa-podcast:before{content:"\\f2ce"}.fa-window-maximize:before{content:"\\f2d0"}.fa-window-minimize:before{content:"\\f2d1"}.fa-window-restore:before{content:"\\f2d2"}.fa-times-rectangle:before,.fa-window-close:before{content:"\\f2d3"}.fa-times-rectangle-o:before,.fa-window-close-o:before{content:"\\f2d4"}.fa-bandcamp:before{content:"\\f2d5"}.fa-grav:before{content:"\\f2d6"}.fa-etsy:before{content:"\\f2d7"}.fa-imdb:before{content:"\\f2d8"}.fa-ravelry:before{content:"\\f2d9"}.fa-eercast:before{content:"\\f2da"}.fa-microchip:before{content:"\\f2db"}.fa-snowflake-o:before{content:"\\f2dc"}.fa-superpowers:before{content:"\\f2dd"}.fa-wpexplorer:before{content:"\\f2de"}.fa-meetup:before{content:"\\f2e0"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}</style><script src=cordova.js></script><script src=packages/montage@15c0bd3/montage.js async=""></script><script type=text/montage-serialization>{"owner":{"prototype":"montage/ui/loader.reel"},"applicationDelegate":{"prototype":"core/app-delegate"},"application":{"prototype":"montage/core/application","values":{"delegate":{"@":"applicationDelegate"}}}}</script></head><body><span class=loading></span></body></html>'
}),montageDefine("a5e4c02","core/app-delegate",{dependencies:["montage","core/services/todo-service"],factory:function(e,t,n){var r=e("montage").Montage,i=e("core/services/todo-service").TodoService;t.AppDelegate=r.specialize({willFinishLoading:{value:function(e){window.cordova?e.dataServicePromise=new Promise(function(e,t){document.addEventListener("deviceready",function(){var t=new i;t.dataService.then(function(n){return n.openDatabase().then(function(){e(t)})})},!1)}):e.dataServicePromise=Promise.resolve(new i)}}})}}),montageDefine("a5e4c02","core/services/todo-service",{dependencies:[],factory:function(e,t,n){var r=function(){this._dataService=null};Object.defineProperty(r.prototype,"dataService",{get:function(){var t;return t=window.cordova?e.async("core/services/blackberry-service"):e.async("core/services/fake-service"),this._dataService||(this._dataService=t.then(function(e){return new e.DataService}))}}),r.prototype.fetchAll=function(){return this.dataService.then(function(e){return e.fetchAll()})},r.prototype.addTodo=function(e){return this.dataService.then(function(t){return t.addTodo(e)})},r.prototype.deleteTodo=function(e){return this.dataService.then(function(t){return t.deleteTodo(e)})},r.prototype.updateTodo=function(e,t){return this.dataService.then(function(n){return n.updateTodo(e,t)})},t.TodoService=r}}),montageDefine("15c0bd3","core/core",{dependencies:["collections/shim","./shim/object","./shim/array","./extras/object","./extras/date","./extras/element","./extras/function","./extras/regexp","./extras/string","proxy-polyfill/proxy.min","collections/map","collections/weak-map","collections/set","collections/listen/property-changes","frb","frb/parse","frb/evaluate","frb/assign","frb/bind","frb/compile-observer","frb/scope","frb/observers","./promise","./serialization/bindings"],factory:function(e,t,n){function r(e,t,n){var i=n||(t===x?q:g+t+m);return e!==Object.prototype?e.hasOwnProperty(i)?e[i]:Object.defineProperty(e,i,{enumerable:!1,configurable:!1,writable:!0,value:Object.create(r(Object.getPrototypeOf(e),t,i))})[i]:(V.has(t)||V.set(t,{}),V.get(t))}function i(e){var t=U.get(e);return t||U.set(e,t=new b),t}function o(e,t,n){var r,a,s,l=P,c=Object.getOwnPropertyDescriptor(e,t);if(c)if(typeof c.value===k&&typeof n.value===k)for(l["delete"](c.value),r=i(c.value),a=r.values();s=a.next().value;)l["delete"](s);else{if(typeof c.get===k&&typeof n.get===k)for(l["delete"](c.get),r=i(c.get),a=r.values();s=a.next().value;)l["delete"](s);if(typeof c.set===k&&typeof n.set===k)for(l["delete"](c.set),r=i(c.set),a=r.values();s=a.next().value;)l["delete"](s)}if(r=T.get(e))for(a=r.values();s=a.next().value;)o(s,t,n)}function a(e){var t=T.get(e);return t||T.set(e,t=new b),t}function s(e,t,n,r,i,o,s){var l,c,u,f,d,h,p,b,m,g,v=global.Object,y=i,_=o,w=s;for(p=m=n?t:t.prototype;!g&&null!==m;){if(h){if(f=v.getOwnPropertyDescriptor(m,h)){if(f.hasOwnProperty("value")){d=f.value,g=!0;break}if(_&&f.hasOwnProperty("get")){d=f.get,g=!0;break}if(w&&f.hasOwnProperty("set")){d=f.set,g=!0;break}}}else for(l=r?(W[0]=r)&&W:v.getOwnPropertyNames(m),c=0;u=l[c];c++)if(f=v.getOwnPropertyDescriptor(m,u))if(d=f.value,void 0!==d&&null!==d){if(d===e||d.deprecatedFunction===e){h=u,y=!0;break}}else{if(d=f.get,void 0!==d&&null!==d&&(d===e||d.deprecatedFunction===e)){h=u,_=!0;break}if(d=f.set,void 0!==d&&null!==d&&(d===e||d.deprecatedFunction===e)){h=u,w=!0;break}}b=m,(m=v.getPrototypeOf(m))&&a(m).add(b)}return g&&typeof d===k?d:Function.noop}function l(e,t,n,r,o){if(e||t){var a=P.get(e);if(!a){var l=typeof this===k;a=s(e,l?this:this.constructor,l,t,n,r,o),a&&(P.set(e,a),i(a).add(e))}return a}}function c(){var e=c&&c.caller?c.caller:arguments.callee.caller,t=l.call(this,e);return t?t.apply(this,arguments):void 0}function u(e){var t=u&&u.caller?u.caller:arguments.callee.caller,n=l.call(this,t,e,!0,!1,!1);return n?n.bind(this):Function.noop}function f(e){var t=f&&f.caller?f.caller:arguments.callee.caller,n=l.call(this,t,e,!1,!0,!1);return n?n.bind(this):Function.noop}function d(e){var t=d&&d.caller?d.caller:arguments.callee.caller,n=l.call(this,t,e,!1,!1,!0);return n?n.bind(this):Function.noop}e("collections/shim"),e("./shim/object"),e("./shim/array"),e("./extras/object"),e("./extras/date"),e("./extras/element"),e("./extras/function"),e("./extras/regexp"),e("./extras/string"),e("proxy-polyfill/proxy.min");var h=e("collections/map"),p=e("collections/weak-map"),b=e("collections/set"),m="AttributeProperties",g="_",v="__proto__",y="value",_="enumerable",w="distinct",x="serializable",k="function",j=95,O=Array.prototype,C=Object.prototype,E=C.hasOwnProperty,A={get:void 0,set:void 0,configurable:!1,enumerable:!1},D={value:void 0,configurable:!1,enumerable:!1,writable:!1},P=new p,T=new p;if(!Object.create.name){var S=/^[\S\s]*?function\s*/,L=/[\s\(\/][\S\s]+$/;Object.defineProperty(Function.prototype,"name",{get:function(){var e="";return this===Function||this===Function.prototype.constructor?e="Function":this!==Function.prototype&&(e=(""+this).replace(S,"").replace(L,"")),e}})}var z=t.Montage=function(){},R={}.__proto__===Object.prototype,M={_montage_metadata:1,__state__:1,_hasUserDefinedConstructor:1};if(z.defineValueProperty=function ae(e,t,n,r,i,o){ae.template.value=n,ae.template.configurable=r,ae.template.enumerable=i,ae.template.writable=o,this.defineProperty(e,t,ae.template)},z.defineValueProperty.template=D,z.defineAccessorProperty=function se(e,t,n,r,i,o){se.template.get=n,se.template.set=r,se.template.configurable=i,se.template.enumerable=o,this.defineProperty(e,t,se.template)},z.defineAccessorProperty.template=A,D.value=!1,Object.defineProperty(z,"_hasUserDefinedConstructor",D),D.value=function(e,t){var n,r,i,o,a,s,l,c=this,u="undefined"==typeof this.specialize;if(e=e||Object.empty,t=t||Object.empty,e.constructor&&e.constructor.value?(n=e.constructor.value,n._hasUserDefinedConstructor=!0):this._hasUserDefinedConstructor?n=function(){return this["super"]()||this}:(n=function(){return this},n.name=this.name+"Specialized"),R)n.__proto__=c;else{for(i=Object.getOwnPropertyNames(c),s=0,l=i.length;s<l;s++)o=i[s],M.hasOwnProperty(o)||(a=Object.getOwnPropertyDescriptor(n,o),a&&!a.configurable||z.defineProperty(n,o,Object.getOwnPropertyDescriptor(c,o)));n.__constructorProto__=c,z.defineProperty(n,"isPrototypeOf",{value:function(e){for(var t;null!==e;){if(t=Object.getPrototypeOf(e),t===this)return!0;e=t}return!1},enumerable:!1})}if(r=Object.create(this.prototype),u){for(i=Object.getOwnPropertyNames(z),s=0,l=i.length;s<l;s++)o=i[s],a=Object.getOwnPropertyDescriptor(n,o),a&&!a.configurable||z.defineProperty(n,o,Object.getOwnPropertyDescriptor(z,o));for(i=Object.getOwnPropertyNames(z.prototype),s=0,l=i.length;s<l;s++)o=i[s],a=Object.getOwnPropertyDescriptor(n,o),a&&!a.configurable||z.defineProperty(r,o,Object.getOwnPropertyDescriptor(z.prototype,o))}return"objectDescriptor"in e&&z.defineProperty(n,"objectDescriptor",e.objectDescriptor),"blueprint"in e&&z.defineProperty(n,"blueprint",e.blueprint),"objectDescriptorModuleId"in e&&z.defineProperty(n,"objectDescriptorModuleId",e.objectDescriptorModuleId),"blueprintModuleId"in e&&z.defineProperty(n,"blueprintModuleId",e.blueprintModuleId),z.defineProperties(r,e,!0),z.defineProperties(n,t,!0),z.defineProperty(n,"__isConstructor__",{value:!0,enumerable:!1}),n.prototype=r,z.defineValueProperty(r,"constructor",n,!0,!1,!0),z.defineValueProperty(n,"constructor",n,!0,!1,!0),n},D.writable=!1,D.configurable=!0,D.enumerable=!1,Object.defineProperty(z,"specialize",D),!R){var F=Object.getPrototypeOf;Object.getPrototypeOf=function(e){return typeof e===k&&e.__constructorProto__?e.__constructorProto__:F.apply(Object,arguments)}}var I={enumerable:!0,configurable:!0,serializable:!0},B={writable:!0,enumerable:!0,configurable:!0,serializable:"reference"},N={writable:!0,enumerable:!1,configurable:!0},q="_serializableAttributeProperties";Object.defineProperty(z.prototype,q,{enumerable:!1,configurable:!1,writable:!0,value:{}});var V=new h,U=new h;D.writable=D.configurable=D.enumerable=!1,D.value=function(e,t,n,i){if("object"!=typeof e&&typeof e!==k||null===e)throw new TypeError("Object must be an object, not '"+e+"'");var a=y in n;if(w in n&&!a)throw new TypeError("Cannot use distinct attribute on non-value property '"+t+"'");if(v in n)n.__proto__=a?typeof n.value===k?N:B:I;else{var s;s=a?typeof n.value===k?N:B:I;for(var l in s)E.call(s,l)&&(l in n||(n[l]=s[l]))}return E.call(n,_)||t.charCodeAt(0)!==j||(n.enumerable=!1),E.call(n,x)||(n.enumerable?n.get&&!n.set?n.serializable=!1:n.writable===!1&&(n.serializable=!1):n.serializable=!1),x in n&&(r(e,x)[t]=n.serializable),i||o(e,t,n),Object.defineProperty(e,t,n)},Object.defineProperty(z,"defineProperty",D),Object.defineProperty(z,"defineProperties",{value:function(e,t,n){if("object"!=typeof t||null===t)throw new TypeError("Properties must be an object, not '"+t+"'");for(var r,i=Object.getOwnPropertyNames(t),o=0;r=i[o];o++)"_bindingDescriptors"!==r&&this.defineProperty(e,r,t[r],n);return e}}),z.defineProperty(z,"didCreate",{value:Function.noop});var W=[];z.defineProperty(z,"super",{value:c,enumerable:!1}),z.defineProperty(z.prototype,"super",{value:c,enumerable:!1}),z.defineProperty(z,"superForValue",{value:u,enumerable:!1}),z.defineProperty(z.prototype,"superForValue",{value:u,enumerable:!1}),z.defineProperty(z,"superForGet",{value:f,enumerable:!1}),z.defineProperty(z.prototype,"superForGet",{value:f,enumerable:!1}),z.defineProperty(z,"superForSet",{value:d,enumerable:!1}),z.defineProperty(z.prototype,"superForSet",{value:d,enumerable:!1}),z.defineProperty(z,"getSerializablePropertyNames",{value:function(e){var t,n=r(e,x);if(n){t=[];for(var i in n)n[i]&&t.push(i);return t}return Array.empty}}),z.defineProperty(z,"getPropertyAttribute",{value:function(e,t,n){var i=r(e,n);if(i)return i[t]}}),z.defineProperty(z,"getPropertyAttributes",{value:function(e,t){var n,i=r(e,t);if(i){n={};for(var o in i)E.call(i,o)?n[o]=i[o]:n[o]=i[o];return n}}});var H={isInstance:{value:!0}},G={objectName:{value:"Function"},isInstance:{value:!0}};Object.defineProperty(z.prototype,"_montage_metadata",{enumerable:!1,writable:!0,value:void 0}),z.defineProperty(z,"getInfoForObject",{value:function(e){var t,n;if(E.call(e,"_montage_metadata")&&e._montage_metadata)return e._montage_metadata;if(t=e._montage_metadata||e.constructor&&e.constructor._montage_metadata||null,n=e.constructor===Function?G:H,e===Object.prototype)return Object.create(t,n);try{return e.constructor===Object?Object.defineProperty(e,"_montage_metadata",{enumerable:!1,writable:!0,value:Object.create(t,n)})._montage_metadata:("_montage_metadata"in e.constructor.prototype||hasOwnProperty.call(e.constructor.prototype,"_montage_metadata")||Object.defineProperty(e.constructor.prototype,"_montage_metadata",{enumerable:!1,writable:!0,value:void 0}),(e._montage_metadata=Object.create(t,n))||e._montage_metadata)}catch(r){return e._montage_metadata=Object.create(t,n)}}}),z.defineProperty(z,"identifier",{value:null,serializable:!0}),z.defineProperty(z.prototype,"identifier",{value:null,serializable:!0}),z.defineProperty(z.prototype,"version",{value:1,serializable:!1}),z.defineProperty(z.prototype,"equals",{value:function(e){return!!e&&(this===e||this.uuid&&this.uuid===e.uuid)}}),z.defineProperty(z,"equals",{value:z.prototype.equals}),z.defineProperty(z.prototype,"callDelegateMethod",{value:function(e){var t,n=this.delegate;if(n){var r=this.identifier+e.toCapitalized();if("string"==typeof this.identifier&&typeof n[r]===k?t=n[r]:typeof n[e]===k&&(t=n[e]),t)return 2===arguments.length?t.call(n,arguments[1]):3===arguments.length?t.call(n,arguments[1],arguments[2]):4===arguments.length?t.call(n,arguments[1],arguments[2],arguments[3]):5===arguments.length?t.call(n,arguments[1],arguments[2],arguments[3],arguments[4]):(O.shift.call(arguments),t.apply(n,arguments))}}});var $=e("collections/listen/property-changes");Object.addEach(z,$.prototype),Object.addEach(z.prototype,$.prototype);var J=t.Bindings=e("frb"),X={defineBinding:{value:function(e,t,n){return J.defineBinding(this,e,t,n)}},defineBindings:{value:function(e,t){return J.defineBindings(this,e,t)}},cancelBinding:{value:function(e){return J.cancelBinding(this,e)}},cancelBindings:{value:function(){return J.cancelBindings(this)}},getBinding:{value:function(e){return J.getBinding(this,e)}},getBindings:{value:function(){return J.getBindings(this)}}};z.defineProperties(z,X),z.defineProperties(z.prototype,X);var Q=e("frb/parse"),Y=e("frb/evaluate"),Z=e("frb/assign"),K=(e("frb/bind"),e("frb/compile-observer")),ee=e("frb/scope"),te=e("frb/observers"),ne=te.autoCancelPrevious,re=function(){return this._willChangeListeners=null,this._changeListeners=null,this};Object.defineProperties(re.prototype,{_willChangeListeners:{value:null,writable:!0},willChangeListeners:{get:function(){return this._willChangeListeners||(this._willChangeListeners=new h)}},_changeListeners:{value:null,writable:!0},changeListeners:{get:function(){return this._changeListeners||(this._changeListeners=new h)}}});var ie=new p,oe={getPath:{value:function(e,t,n,r){return Y(e,this,t||this,n,r)}},setPath:{value:function(e,t,n,r,i){return Z(this,e,t,n||this,r,i)}},observePath:{value:function(e,t){var n=Q(e),r=K(n);return r(ne(t),new ee(this))}},addRangeAtPathChangeListener:{value:function(e,t,n,r,i,o){function a(e,r,i){if(t[n])t[n](e,r,i);else{if(!t.call)throw new Error("Can't dispatch range change to "+t);t.call(null,e,r,i)}}n=n||"handleRangeChange";var s=[];return this.addPathChangeListener(e,function(e){return e&&e.toArray&&e.addRangeChangeListener?(a(e.toArray(),s.toArray(),0),s=e,e.addRangeChangeListener(a)):(e=[],a(e,s,0),void(s=e))},void 0,void 0,r,i,o)}},getPathChangeDescriptors:{value:function(){return ie.has(this)||ie.set(this,new h),ie.get(this)}},getPathChangeDescriptor:{value:function(e,t,n){var r=z.getPathChangeDescriptors.call(this);return r.has(e)||r.set(e,new re),r=r.get(e),r=n?r.willChangeListeners:r.changeListeners,r.has(t)||r.set(t,{path:e,handler:t,beforeChange:n,cancel:Function.noop}),r.get(t)}},addPathChangeListener:{value:function(e,t,n,r,i,o,a){var s=this;t=t||Function.noop;var l=z.getPathChangeDescriptor.call(this,e,t,r);l.cancel();var c,u,f,d=Q(e);if(t===Function.noop)f=function(t){if(u)throw new Error("Path change handler needs a handler because it emits new values when the source changes: "+JSON.stringify(e));u=!0,c=t};else if(n)f=function(r){return t[n].call(t,r,e,s)};else if(t.handlePathChange)f=function(n){return t.handlePathChange.call(t,n,e,s)};else{if(typeof t!==k)throw new Error("Can't recognize handler type: "+t+". Must be function or delegate implementing handlePathChange.");f=function(n){return t.call(s,n,e,s)}}var h=K(d),p=new ee(this);p.beforeChange=r,p.parameters=i,p.document=o,p.components=a;var b=h(ne(f),p);return l.cancel=b,u?c:b}},removePathChangeListener:{value:function(e,t,n){t=t||Function.noop;var r=z.getPathChangeDescriptors.call(this),i=n?"willChangeListeners":"changeListeners",o=r.get(e);if(!o)throw new Error("Can't find "+i+" for "+JSON.stringify(e));var a=o[i];if(!a.has(t))throw new Error("Can't find "+i+" for "+JSON.stringify(e));var s=a.get(t);s.cancel(),a["delete"](t),0===o.willChangeListeners.size&&0===o.changeListeners.size&&r["delete"](e),r.size<1&&ie["delete"](this)}},addBeforePathChangeListener:{value:function(e,t,n,r,i,o){return z.addPathChangeListener.call(this,e,t,n,!0,r,i,o)}},removeBeforePathChangeListener:{value:function(e,t,n){return z.removePathChangeListener.call(this,e,t,!0)}}};z.defineProperties(z,oe),z.defineProperties(z.prototype,oe),t._objectDescriptorModuleIdDescriptor={serializable:!1,enumerable:!1,get:function(){var e=z.getInfoForObject(this),t=e&&!e.isInstance?this:this.constructor;if(!Object.getOwnPropertyDescriptor(t,"_objectDescriptorModuleId")||!t._objectDescriptorModuleId){e=z.getInfoForObject(t);var n=e.moduleId,r=n.lastIndexOf("/"),i=n.lastIndexOf(".");r=r===-1?0:r+1,i=i===-1?n.length:i,i=i<r?n.length:i,z.defineProperty(t,"_objectDescriptorModuleId",{enumerable:!1,value:n.slice(0,i)+".mjson"})}return t._objectDescriptorModuleId}},t._blueprintModuleIdDescriptor={serializable:!1,enumerable:!1,get:function(){var e=z.getInfoForObject(this),t=e&&!e.isInstance?this:this.constructor;if(!Object.getOwnPropertyDescriptor(t,"_objectDescriptorModuleId")||!t._objectDescriptorModuleId){e=z.getInfoForObject(t);var n=e.moduleId,r=n.lastIndexOf("/"),i=n.lastIndexOf(".");r=r===-1?0:r+1,i=i===-1?n.length:i,i=i<r?n.length:i,z.defineProperty(t,"_objectDescriptorModuleId",{enumerable:!1,value:n.slice(0,i)+".meta"})}return t._objectDescriptorModuleId}},t._objectDescriptorDescriptor={serializable:!1,enumerable:!1,get:function(){var n=z.getInfoForObject(this),r=n&&!n.isInstance?this:this.constructor;if(!Object.getOwnPropertyDescriptor(r,"_objectDescriptor")||!r._objectDescriptor){var i=r.objectDescriptorModuleId||r.blueprintModuleId;if(!i)throw new TypeError("ObjectDescriptor moduleId undefined for the module '"+JSON.stringify(r)+"'");t._objectDescriptorDescriptor.ObjectDescriptorModulePromise||(t._objectDescriptorDescriptor.ObjectDescriptorModulePromise=e.async("core/meta/module-object-descriptor").get("ModuleObjectDescriptor")),z.defineProperty(r,"_objectDescriptor",{enumerable:!1,value:t._objectDescriptorDescriptor.ObjectDescriptorModulePromise.then(function(e){var t=z.getInfoForObject(r);return e.getObjectDescriptorWithModuleId(i,t.require)["catch"](function(t){if(t.message.indexOf("Can't XHR")!==-1)return e.createDefaultObjectDescriptorForObject(r).then(function(e){return e});throw t})})})}return r._objectDescriptor},set:function(t){var n,r=z.getInfoForObject(this),i=r&&!r.isInstance?this:this.constructor;if(null===t)n=null;else{if(typeof t.then===k)throw new TypeError("Object descriptor should not be a promise");t.objectDescriptorInstanceModule=i.objectDescriptorModule,n=e("./promise").Promise.resolve(t)}z.defineProperty(i,"_objectDescriptor",{enumerable:!1,value:n})}},t._blueprintDescriptor=t._objectDescriptorDescriptor,e("./serialization/bindings")}}),montageDefine("15c0bd3","core/event/event-manager",{dependencies:["../core","./mutable-event","../serialization/serializer/montage-serializer","../serialization/deserializer/montage-deserializer","collections/map","collections/weak-map","../environment"],factory:function(e,t,n){var r,i=e("../core").Montage,o=e("./mutable-event").MutableEvent,a=e("../serialization/serializer/montage-serializer").MontageSerializer,s=e("../serialization/deserializer/montage-deserializer").MontageDeserializer,l=e("collections/map"),c=e("collections/weak-map"),u=e("../environment").currentEnvironment;"undefined"!=typeof document&&"undefined"!=typeof window&&"undefined"!=typeof Event&&"function"!=typeof CustomEvent&&(CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},CustomEvent.prototype=Event.prototype,window.CustomEvent=CustomEvent),"undefined"!=typeof document&&"undefined"!=typeof window&&"undefined"==typeof Touch&&"ontouchstart"in window&&(Touch=function(){},function(){var e;document.addEventListener("touchstart",e=function t(e){window.Touch=e.touches[0].constructor,document.nativeRemoveEventListener?document.nativeRemoveEventListener("touchstart",t,!0):document.removeEventListener("touchstart",t,!0),r&&r.isStoringPointerEvents&&(r.isStoringPointerEvents=!1,r.isStoringPointerEvents=!0)},!0)}(),window.Touch=Touch);var f=i.specialize({_identifier:{enumerable:!1,writable:!0,value:null},initWithIdentifier:{value:function(e){return this._identifier=e,this}},clearCache:{value:function(){return this._data=this._x=this._y=this._speed=this._angle=null,this}},_data:{enumerable:!1,writable:!0,value:null},_x:{enumerable:!1,writable:!0,value:null},_y:{enumerable:!1,writable:!0,value:null},_speed:{enumerable:!1,writable:!0,value:null},_angle:{enumerable:!1,writable:!0,value:null},x:{get:function(){return null===this._x&&(null===this._data&&(this._data=r._getPointerVelocityData(this._identifier)),this._x=r._calculatePointerVelocity(this._data.time,this._data.x)),this._x},set:function(){}},y:{get:function(){return null===this._y&&(null===this._data&&(this._data=r._getPointerVelocityData(this._identifier)),this._y=r._calculatePointerVelocity(this._data.time,this._data.y)),this._y},set:function(){}},speed:{get:function(){return null===this._speed&&(this._speed=Math.sqrt(this.x*this.x+this.y*this.y)),this._speed},set:function(){}},angle:{get:function(){return null===this._angle&&(this._angle=Math.atan2(this.y,this.x)),this._angle},set:function(){}}}),d=(i.specialize({constructor:{value:function(e){return this.data=new Array(32),this.velocity={velocity:(new f).initWithIdentifier(e)},this}},data:{enumerable:!1,writable:!0,value:null},size:{enumerable:!1,writable:!0,value:0},pos:{enumerable:!1,writable:!0,value:0},velocity:{enumerable:!1,writable:!0,value:0}}),i.specialize({constructor:{value:function(e,t,n){return this.clientX=e,this.clientY=t,this.timeStamp=n,this}},clientX:{enumerable:!1,writable:!0,value:null},clientY:{enumerable:!1,writable:!0,value:0},timeStamp:{enumerable:!1,writable:!0,value:0}}),function(e,t,n,r,i){var o,a,s,l,c,u,f;for(f=n.keys();s=f.next().value;)if(l=n.get(s),c=l&&l.get(t),Array.isArray(c)&&c.length>0)for(o=0,a=c.length;o<a;o++)u=c[o],r.push({type:s,listener:e.addObjectReference(u),capture:i});else c&&r.push({type:s,listener:e.addObjectReference(c),capture:i})});a.defineSerializationUnit("listeners",function(e,t){var n=r,i=[];if(d(e,t,n._registeredCaptureEventListeners,i,!0),d(e,t,n._registeredBubbleEventListeners,i,!1),i.length>0)return i}),s.defineDeserializationUnit("listeners",function(e,t,n){for(var r,i=0;r=n[i];i++)t.addEventListener(r.type,r.listener,r.capture)});var h=t.EventManager=i.specialize({constructor:{value:function(){return this._trackingTouchStartList=new l,this._trackingTouchEndList=new l,this._findActiveTargetMap=new l,this._eventPathForTargetMap=new l,this._claimedPointers=new l,this._registeredCaptureEventListeners=new l,this._registeredBubbleEventListeners=new l,this._observedTarget_byEventType_=Object.create(null),this._currentDispatchedTargetListeners=new l,this._elementEventHandlerByElement=new c,this.environment=u,this._trackingTouchTimeoutIDs=new l,this}},spliceOne:{value:function(e,t){var n=e.length;if(n){for(;t<n;)e[t]=e[t+1],t++;e.length--}}},eventDefinitions:{value:{abort:{bubbles:!1,cancelable:!1},beforeunload:{bubbles:!1},blur:{bubbles:!1,cancelable:!1},change:{bubbles:!0,cancelable:!1},click:{bubbles:!0,cancelable:!0},close:{bubbles:!1,cancelable:!1},compositionend:{bubbles:!0,cancelable:!1},compositionstart:{bubbles:!0,cancelable:!0},compositionupdate:{bubbles:!0,cancelable:!1},contextmenu:{bubbles:!0,cancelable:!0},copy:{bubbles:!0,cancelable:!0},cut:{bubbles:!0,cancelable:!0},dblclick:{bubbles:!0,cancelable:!1},DOMActivate:{bubbles:!0,cancelable:!0,deprecated:!0},DOMMouseScroll:{bubbles:!0},drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!1},dragenter:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},dragover:{bubbles:!0,cancelable:!0},dragstart:{bubbles:!0,cancelable:!0},drop:{bubbles:!0,cancelable:!0},error:{bubbles:function(e){return!(XMLHttpRequest.prototype.isPrototypeOf(e)||e.tagName&&"VIDEO"===e.tagName.toUpperCase()||e.tagName&&"AUDIO"===e.tagName.toUpperCase())},cancelable:!1},focus:{bubbles:!1,cancelable:!1},focusin:{bubbles:!0,cancelable:!1},focusout:{bubbles:!0,cancelable:!1},input:{bubbles:!0,cancelable:!1},keydown:{bubbles:!0,cancelable:!1},keypress:{bubbles:!0,cancelable:!1},keyup:{bubbles:!0,cancelable:!1},load:{bubbles:!1,cancelable:!1},loadend:{bubbles:!1,cancelable:!1},loadstart:{bubbles:!1,cancelable:!1},message:{bubbles:!1,cancelable:!1},mousedown:{bubbles:!0,cancelable:!0},mouseenter:{bubbles:!1,cancelable:!1},mouseleave:{bubbles:!1,cancelable:!1},mousemove:{bubbles:!0,cancelable:!0},mouseout:{bubbles:!0,cancelable:!0},mouseover:{bubbles:!0,cancelable:!0},mouseup:{bubbles:!0,cancelable:!0},mousewheel:{bubbles:!0},orientationchange:{bubbles:!1},paste:{bubbles:!0,cancelable:!0},progress:{bubbles:!1,cancelable:!1},reset:{bubbles:!0,cancelable:!1},resize:{bubbles:!1,cancelable:!1},scroll:{bubbles:function(e){return!!e.defaultView},cancelable:!1},select:{bubbles:!0,cancelable:!1},submit:{bubbles:!0,cancelable:!0},touchcancel:{bubbles:!0,cancelable:!1},touchend:{bubbles:!0,cancelable:!0},touchmove:{bubbles:!0,cancelable:!0},touchstart:{bubbles:!0,cancelable:!0},unload:{bubbles:!1,cancelable:!1},wheel:{bubbles:!0,cancelable:!0},pointerdown:{bubbles:!0,cancelable:!0},pointerup:{bubbles:!0,cancelable:!0},pointerenter:{bubbles:!1,cancelable:!0},pointercancel:{bubbles:!0,cancelable:!0},pointerout:{bubbles:!0,cancelable:!0},pointerover:{bubbles:!0,cancelable:!0},pointerleave:{bubbles:!1,cancelable:!0},pointermove:{bubbles:!0,cancelable:!0},MSPointerDown:{bubbles:!0,cancelable:!0},MSPointerMove:{bubbles:!0,cancelable:!0},MSPointerUp:{bubbles:!0,cancelable:!0},MSPointerOver:{bubbles:!0,cancelable:!0},MSPointerOut:{bubbles:!0,cancelable:!0},MSPointerHover:{bubbles:!0,cancelable:!0}}},_DOMPasteboardElement:{value:null,enumerable:!1},_delegate:{value:null,enumerable:!1},delegate:{enumerable:!1,get:function(){return this._delegate},set:function(e){this._delegate=e}},_application:{value:null,enumerable:!1},application:{enumerable:!1,get:function(){return this._application},set:function(e){this._application=e}},_registeredWindows:{value:null,enumerable:!1},_windowsAwaitingFinalRegistration:{value:new c,enumerable:!1},initWithWindow:{enumerable:!1,value:function(e){if(this._registeredWindows)throw"EventManager has already been initialized";return this.registerWindow(e),this}},registerWindow:{enumerable:!1,value:function(e){if(e.defaultEventManager&&e.defaultEventManager!==this)throw Error("EventManager cannot register a window already registered to another EventManager");if(this._registeredWindows&&this._registeredWindows.indexOf(e)>=0)throw new Error("EventManager cannot register a window more than once");if(this._registeredWindows||(this._registeredWindows=[]),!this._windowsAwaitingFinalRegistration.has(e)){if(e.Element.prototype.nativeAddEventListener=e.Element.prototype.addEventListener,Object.defineProperty(e,"nativeAddEventListener",{configurable:!0,value:e.addEventListener}),e.document.nativeAddEventListener=e.document.addEventListener,e.XMLHttpRequest.prototype.nativeAddEventListener=e.XMLHttpRequest.prototype.addEventListener,e.DocumentFragment&&(e.DocumentFragment.prototype.nativeAddEventListener=e.DocumentFragment.prototype.addEventListener),e.ShadowRoot&&(e.ShadowRoot.prototype.nativeAddEventListener=e.ShadowRoot.prototype.addEventListener),e.Worker&&(e.Worker.prototype.nativeAddEventListener=e.Worker.prototype.addEventListener),e.MediaController&&(e.MediaController.prototype.nativeAddEventListener=e.MediaController.prototype.addEventListener),e.Element.prototype.nativeRemoveEventListener=e.Element.prototype.removeEventListener,Object.defineProperty(e,"nativeRemoveEventListener",{configurable:!0,value:e.removeEventListener}),e.document.nativeRemoveEventListener=e.document.removeEventListener,e.XMLHttpRequest.prototype.nativeRemoveEventListener=e.XMLHttpRequest.prototype.removeEventListener,e.DocumentFragment&&(e.DocumentFragment.prototype.nativeRemoveEventListener=e.DocumentFragment.prototype.removeEventListener),e.ShadowRoot&&(e.ShadowRoot.prototype.nativeRemoveEventListener=e.ShadowRoot.prototype.removeEventListener),e.Worker&&(e.Worker.prototype.nativeRemoveEventListener=e.Worker.prototype.removeEventListener),e.MediaController&&(e.MediaController.prototype.nativeRemoveEventListener=e.MediaController.prototype.removeEventListener),Object.defineProperty(e,"addEventListener",{configurable:!0,value:e.XMLHttpRequest.prototype.addEventListener=e.Element.prototype.addEventListener=e.document.addEventListener=function(t,n,r){return e.defaultEventManager.registerEventListener(this,t,n,!!r)}}),e.Worker&&(e.Worker.prototype.addEventListener=e.addEventListener),e.MediaController&&(e.MediaController.prototype.addEventListener=e.addEventListener),Object.defineProperty(e,"removeEventListener",{configurable:!0,value:e.XMLHttpRequest.prototype.removeEventListener=e.Element.prototype.removeEventListener=e.document.removeEventListener=function(t,n,r){return e.defaultEventManager.unregisterEventListener(this,t,n,!!r)}}),e.Worker&&(e.Worker.prototype.removeEventListener=e.removeEventListener),e.MediaController&&(e.MediaController.prototype.removeEventListener=e.removeEventListener),e.HTMLDivElement.prototype.addEventListener!==e.Element.prototype.nativeAddEventListener&&e.HTMLElement&&"addEventListener"in e.HTMLElement.prototype){var n,o,a=Object.getOwnPropertyNames(e),s=0,l=a.length;for(s;s<l;s++)n=a[s],n.match(/^HTML\w*Element$/)&&"function"==typeof n&&(o=n.prototype,o.nativeAddEventListener=o.addEventListener,o.addEventListener=e.Element.prototype.addEventListener,o.nativeRemoveEventListener=o.removeEventListener,o.removeEventListener=e.Element.prototype.removeEventListener)}i.defineProperty(e.Element.prototype,"component",{get:function(){return r._elementEventHandlerByElement.get(this)},enumerable:!1}),r=e.defaultEventManager=t.defaultEventManager=this,this._registeredWindows.push(e),this._windowsAwaitingFinalRegistration.set(e,e),/loaded|complete|interactive/.test(e.document.readyState)?this._finalizeWindowRegistration(e):e.document.addEventListener("DOMContentLoaded",this,!0),this._evaluateShouldDispatchEventCondition()}}},_finalizeWindowRegistration:{enumerable:!1,value:function(e){if(!this._windowsAwaitingFinalRegistration.has(e))throw"EventManager wasn't expecting to register this window";this._windowsAwaitingFinalRegistration["delete"](e),this._listenToWindow(e)}},unregisterWindow:{enumerable:!1,value:function(e){if(this._registeredWindows.indexOf(e)<0)throw"EventManager cannot unregister an unregistered window";if(this._registeredWindows=this._registeredWindows.filter(function(t){return e!==t}),delete e.defaultEventManager,e.Element.prototype.addEventListener=e.Element.prototype.nativeAddEventListener,Object.defineProperty(e,"addEventListener",{configurable:!0,value:e.nativeAddEventListener}),e.document.addEventListener=e.document.nativeAddEventListener,e.XMLHttpRequest.prototype.addEventListener=e.XMLHttpRequest.prototype.nativeAddEventListener,e.Worker&&(e.Worker.prototype.addEventListener=e.Worker.prototype.nativeAddEventListener),e.Element.prototype.removeEventListener=e.Element.prototype.nativeRemoveEventListener,Object.defineProperty(e,"removeEventListener",{configurable:!0,value:e.nativeRemoveEventListener}),e.document.removeEventListener=e.document.nativeRemoveEventListener,e.XMLHttpRequest.prototype.removeEventListener=e.XMLHttpRequest.prototype.nativeRemoveEventListener,e.Worker&&(e.Worker.prototype.removeEventListener=e.Worker.prototype.nativeRemoveEventListener),e.HTMLDivElement.prototype.nativeAddEventListener!==e.Element.prototype.addEventListener&&e.HTMLElement&&"addEventListener"in e.HTMLElement.prototype&&e.Components&&e.Components.interfaces){var t,n;for(t in Components.interfaces)t.match(/^nsIDOMHTML\w*Element$/)&&(t=t.replace(/^nsIDOM/,""),(t=window[t])&&(n=t.prototype,n.addEventListener=n.nativeAddEventListener,delete n.nativeAddEventListener,n.removeEventListener=n.nativeRemoveEventListener,delete n.nativeRemoveEventListener))}delete e.Element.prototype.nativeAddEventListener,delete e.nativeAddEventListener,delete e.document.nativeAddEventListener,delete e.XMLHttpRequest.prototype.nativeAddEventListener,e.Worker&&delete e.Worker.prototype.nativeAddEventListener,delete e.Element.prototype.nativeRemoveEventListener,delete e.nativeRemoveEventListener,delete e.document.nativeRemoveEventListener,delete e.XMLHttpRequest.prototype.nativeRemoveEventListener,e.Worker&&delete e.Worker.prototype.nativeRemoveEventListener,delete e.Element.prototype.component,this._stopListeningToWindow(e)}},unregisterWindows:{enumerable:!1,
value:function(){this._registeredWindows.forEach(this.unregisterWindow)}},registeredEventListeners:{enumerable:!1,value:{}},registeredEventListenersForEventType_:{value:function(e){var t=this._registeredCaptureEventListeners.get(e),n=this._registeredBubbleEventListeners.get(e),r=null;return t&&t.forEach(function(e,t,n){e&&e.length>0&&(r=r||[],e.forEach(function(e){r.push(e)}))}),n&&n.forEach(function(e,t,n){e&&e.length>0&&(r=r||[],e.forEach(function(e){r.push(e)}))}),r}},registeredEventListenersForEventType_onTarget_:{enumerable:!1,value:function(e,t){var n,r=this._registeredCaptureEventListeners.get(e),i=this._registeredBubbleEventListeners.get(e),o=null;return e&&t&&(r||i)?(n=r?r.get(t):null,n&&(o||(o=n)),n=i?i.get(t):null,n&&(o=o?o.union(n):n),o):null}},registeredEventListenersForEventType_onTarget_phase_:{enumerable:!1,value:function(e,t,n){return t?this._registeredEventListenersForEventType_onTarget_registeredEventListeners_(e,t,n?this._registeredCaptureEventListeners:this._registeredBubbleEventListeners):null}},_registeredEventListenersForEventType_onTarget_registeredEventListeners_:{value:function(e,t,n){var r=n.get(e);return r?r.get(t):null},enumerable:!1},registeredEventListenersOnTarget_:{value:function(e){var t,n,r,i=this._registeredCaptureEventListeners,o=this._registeredBubbleEventListeners,a=[];for(r=i.keys();t=r.next().value;)n=i.get(t),n.has(e)&&a.push(t);for(r=o.keys();t=r.next().value;)n=o.get(t),n.has(e)&&a.push(t);return a}},_registeredCaptureEventListeners:{value:null},_registeredBubbleEventListeners:{value:null},registerEventListener:{enumerable:!1,value:function(e,t,n,r){var i;return i=this._registerEventListener(e,t,n,r?this._registeredCaptureEventListeners:this._registeredBubbleEventListeners)}},_registerEventListener:{enumerable:!1,value:function(e,t,n,r){var i,o=r.get(t),a=!1,s=!1;return o?o.has(e)?(i=o.get(e),Array.isArray(i)?i.indexOf(n)!==-1?s=!0:(i.push(n),s=!0):(i!==n&&(i=[i,n],o.set(e,i)),s=!0)):(o.set(e,n),a=!0):(r.set(t,o=new l),o.set(e,n),a=!0,s=!0),a&&"function"==typeof e.nativeAddEventListener&&this._observeTarget_forEventType_(e,t),s}},unregisterEventListener:{enumerable:!1,value:function(e,t,n,r){return r?this._unregisterEventListener(e,t,n,this._registeredCaptureEventListeners,this._registeredBubbleEventListeners):this._unregisterEventListener(e,t,n,this._registeredBubbleEventListeners,this._registeredCaptureEventListeners)}},_unregisterEventListener:{enumerable:!1,value:function(e,t,n,r,i){var o,a,s=r.get(t);if(s&&(o=s.get(e)))return o===n?(s.set(e,null),void this._unregisterTargetForEventTypeIfNeeded(e,t,o,r,i)):void(Array.isArray(o)&&o.indexOf(n)!==-1&&(this._currentDispatchedTargetListeners.has(o)?(a=this._currentDispatchedTargetListeners.get(o),a||this._currentDispatchedTargetListeners.set(o,a=new l),a.set(n,!0)):(this.spliceOne(o,o.indexOf(n)),this._unregisterTargetForEventTypeIfNeeded(e,t,o,r,i))))}},_unregisterTargetForEventTypeIfNeeded:{value:function(e,t,n,r,i){if(!Array.isArray(n)||0===n.length){var o=r.get(t),a=i.get(t);o["delete"](e),0===o.size&&(!a||a&&0===a.size)&&this._stopObservingTarget_forEventType_(e,t)}}},actualDOMTargetForEventTypeOnTarget:{value:function(e,t){if(t.nativeAddEventListener){if(t.defaultView)return t;var n,r=this.eventDefinitions[e];if(!r)return t;if(n="function"==typeof r.bubbles?r.bubbles(t):r.bubbles){var i;return t.screen?t.document:(i=this.shawdowRootFromNode(t))?i:t.ownerDocument}return t}return null}},shawdowRootFromNode:{value:function(e){if(window.ShadowRoot)for(;e;){if("[object ShadowRoot]"===e.toString())return e;e=e.parentNode}}},_observedTarget_byEventType_:{value:null},_scrollBlockingEvents:{value:["wheel","mousewheel","touchstart","touchmove","scroll"]},_observeTarget_forEventType_:{enumerable:!1,value:function(e,t){var n;if((n=this.actualDOMTargetForEventTypeOnTarget(t,e))&&(!this._observedTarget_byEventType_[t]||!this._observedTarget_byEventType_[t].has(n))){this._observedTarget_byEventType_[t]||(this._observedTarget_byEventType_[t]=new l),this._observedTarget_byEventType_[t].set(n,this);var r=this._scrollBlockingEvents.indexOf(t)!==-1,i=!r||{passive:!0};n.nativeAddEventListener(t,this,i)}}},_stopObservingTarget_forEventType_:{enumerable:!1,value:function(e,t){var n;n=this.actualDOMTargetForEventTypeOnTarget(t,e),n&&(this._observedTarget_byEventType_[t]["delete"](n),n.nativeRemoveEventListener(t,this,!0))}},_activationHandler:{enumerable:!0,value:null},_listenToWindow:{enumerable:!1,value:function(e){if(!this._activationHandler){var t=this;this._activationHandler=function(e){var n,r=e.type,i="mouseenter"!==r&&"pointerenter"!==r;if(e.changedTouches){n=e.changedTouches.length;for(var o=0;o<n;o++)t._prepareComponentsForActivation(e.changedTouches[o].target,i)}else t._prepareComponentsForActivation(e.target,i)}}if(this.registerTargetForActivation(e),this.application){var n,r=this.registeredEventListenersOnTarget_(this.application);for(n in r)r.hasOwnProperty(n)&&this._observeTarget_forEventType_(e,n)}}},registerTargetForActivation:{value:function(e){var t=e instanceof Window?e.document:e;window.PointerEvent?(e.nativeAddEventListener("pointerdown",this._activationHandler,!0),t.nativeAddEventListener("pointerenter",this._activationHandler,!0)):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.nativeAddEventListener("MSPointerDown",this._activationHandler,!0),t.nativeAddEventListener("mouseenter",this._activationHandler,!0)):(e.nativeAddEventListener("touchstart",this._activationHandler,!0),e.nativeAddEventListener("mousedown",this._activationHandler,!0),t.nativeAddEventListener("mouseenter",this._activationHandler,!0)),e.nativeAddEventListener("focus",this._activationHandler,!0)}},_stopListeningToWindow:{enumerable:!1,value:function(e){var t,n,r=this.registeredEventListenersOnTarget_(this.application),i=this.registeredEventListenersOnTarget_(e);for(t in r)r.hasOwnProperty(t)&&this._stopObservingTarget_forEventType_(e,t);for(t in i)i.hasOwnProperty(t)&&this._stopObservingTarget_forEventType_(e,t);(n=this._listeningWindowOnTouchCancel.indexOf(e))>-1&&this.spliceOne(this._listeningWindowOnTouchCancel,n)}},_resetRegisteredEventListeners:{enumerable:!1,value:function(e){var t,n,r,i,o,a=this;for(i in e)if(e.hasOwnProperty(i)&&(o=e.get(i),o&&o.length>0))for(t=0,n=o.length;t<n;t++)r=o[t],a._stopObservingTarget_forEventType_(r,i)}},reset:{enumerable:!1,value:function(){this._resetRegisteredEventListeners(this._registeredCaptureEventListeners),this._resetRegisteredEventListeners(this._registeredBubbleEventListeners),this._claimedPointers=new l,this._registeredCaptureEventListeners=new l,this._registeredBubbleEventListeners=new l}},unload:{enumerable:!1,value:function(){this._stopListening()}},_bubbleMethodNameByEventType_:{value:new l},_bubbleMethodNameByEventTypeIdentifier_:{value:new l},methodNameForBubblePhaseOfEventType:{enumerable:!1,value:function(e,t,n,r){var i;return t?(i=this._bubbleMethodNameByEventTypeIdentifier_.get(e)||this._bubbleMethodNameByEventTypeIdentifier_.set(e,new l).get(e),i.get(t)||i.set(t,"handle"+(r||t.toCapitalized())+(n||e.toCapitalized())).get(t)):this._bubbleMethodNameByEventType_.get(e)||this._bubbleMethodNameByEventType_.set(e,"handle"+(n||e.toCapitalized())).get(e)}},_captureMethodNameByEventType_:{value:new l},_catptureMethodNameByEventTypeIdentifier_:{value:new l},methodNameForCapturePhaseOfEventType:{enumerable:!1,value:function(e,t,n,r){var i;return t?(i=this._catptureMethodNameByEventTypeIdentifier_.get(e)||this._catptureMethodNameByEventTypeIdentifier_.set(e,new l).get(e),i.get(t)||i.set(t,"capture"+(r||t.toCapitalized())+(n||e.toCapitalized())).get(t)):this._captureMethodNameByEventType_.get(e)||this._captureMethodNameByEventType_.set(e,"capture"+(n||e.toCapitalized())).get(e)}},_claimedPointers:{enumerable:!1,value:null},componentClaimingPointer:{value:function(e){return this._claimedPointers.get(e)}},isPointerClaimedByComponent:{value:function(e,t){if(!t)throw"Must specify a valid component to see if it claims the specified pointer, '"+t+"' is not valid.";return this._claimedPointers.get(e)===t}},claimPointer:{value:function(e,t){if(!e&&0!==e)throw"Must specify a valid pointer to claim, '"+e+"' is not valid.";if(!t)throw"Must specify a valid component to claim a pointer, '"+t+"' is not valid.";var n=this._claimedPointers.get(e);return n===t||(n?!!n.surrenderPointer(e,t)&&(this._claimedPointers.set(e,t),!0):(this._claimedPointers.set(e,t),!0))}},forfeitPointer:{value:function(e,t){if(t!==this._claimedPointers.get(e))throw"Not allowed to forfeit pointer '"+e+"' claimed by another component";this._claimedPointers["delete"](e)}},forfeitAllPointers:{value:function(e){for(var t,n,r=this._claimedPointers.keys();t=r.next().value;)n=this._claimedPointers.get(t),e===n&&this._claimedPointers["delete"](t)}},_isStoringPointerEvents:{enumerable:!1,value:!1},isStoringPointerEvents:{enumerable:!0,get:function(){return this._isStoringPointerEvents},set:function(e){e===!0?this._isStoringPointerEvents||(this._isStoringPointerEvents=!0,"undefined"!=typeof PointerEvent||"undefined"!=typeof MSPointerEvent&&"undefined"!=typeof navigator&&navigator.msPointerEnabled?Object.defineProperty(o.prototype,"velocity",{get:function(){return r.pointerMotion(this.pointerId).velocity}}):"undefined"!=typeof Touch&&Object.defineProperty(Touch.prototype,"velocity",{get:function(){return r.pointerMotion(this.identifier).velocity}})):(this._isStoringPointerEvents=!1,this._pointerStorage.memory={},this._isMouseDragging=!1)}},_isStoringMouseEventsWhileDraggingOnly:{enumerable:!1,value:!0},isStoringMouseEventsWhileDraggingOnly:{enumerable:!0,get:function(){return this._isStoringMouseEventsWhileDraggingOnly},set:function(e){this._isStoringMouseEventsWhileDraggingOnly=e===!0}},_isMouseDragging:{enumerable:!1,value:!1},_pointerStorage:{enumerable:!1,value:{memory:{},velocity:{},add:function(e,t){this.memory[e]||(this.memory[e]={data:new Array(32),size:0,pos:0}),this.memory[e].data[this.memory[e].pos]=t,this.memory[e].size<this.memory[e].data.length&&this.memory[e].size++,this.memory[e].pos=(this.memory[e].pos+1)%this.memory[e].data.length},remove:function(e){delete this.memory[e]},clear:function(e){this.memory[e]&&(this.memory[e].size=0)},getMemory:function(e){return this.memory[e]},isStored:function(e){return this.memory[e]&&this.memory[e].size>0},storeEvent:function(e){var t=u.isBrowserSupportPointerEvents,n=e instanceof o?e._event:e,i=n.pointerType;if(t&&("mouse"===i||window.MSPointerEvent&&i===window.MSPointerEvent.MSPOINTER_TYPE_MOUSE)||!t&&n instanceof MouseEvent)switch(e.type){case"pointerdown":case"MSPointerDown":case"mousedown":r._isMouseDragging=!0;case"pointermove":case"MSPointerMove":case"mousemove":r._isStoringMouseEventsWhileDraggingOnly?r._isMouseDragging&&this._storeMouse(e):this._storeMouse(e);break;case"pointerup":case"MSPointerUp":case"mouseup":this._storeMouse(e)}else if(t&&("touch"===i||window.MSPointerEvent&&i===window.MSPointerEvent.MSPOINTER_TYPE_TOUCH)||void 0!==window.TouchEvent&&!t&&n instanceof TouchEvent)switch(n.type){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":this._storeTouch(n.pointerId,n.clientX,n.clientY,n.timeStamp);break;case"touchstart":case"touchmove":this._storeTouches(n.touches,n.timeStamp);break;case"touchend":this._storeTouches(n.changedTouches,n.timeStamp)}},removeEvent:function(e){var t=u.isBrowserSupportPointerEvents,n=e instanceof o?e._event:e;if(t&&("mouse"===e.pointerType||window.MSPointerEvent&&e.pointerType===window.MSPointerEvent.MSPOINTER_TYPE_MOUSE)||!t&&n instanceof MouseEvent)"mouseup"!==e.type&&"pointerup"!==e.type&&"MSPointerUp"!==e.type||(r._isMouseDragging=!1,r._isStoringMouseEventsWhileDraggingOnly&&this.clear("mouse"));else if((t&&("touch"===e.pointerType||window.MSPointerEvent&&e.pointerType===window.MSPointerEvent.MSPOINTER_TYPE_TOUCH)||void 0!==window.TouchEvent&&!t&&n instanceof TouchEvent)&&("touchend"===e.type||"pointerup"===e.type||"MSPointerUp"===e.type))if(e.changedTouches)for(var i,a=0,s=e.changedTouches;i=s[a];a++)this.remove(i.identifier);else this.remove(e.pointerId)},_storeMouse:function(e){this.add("mouse",{clientX:e.clientX,clientY:e.clientY,timeStamp:e.timeStamp}),Object.defineProperty(e,"velocity",{get:function(){return r.pointerMotion("mouse").velocity}})},_storeTouches:function(e,t){for(var n,r=0;n=e[r];r++)this._storeTouch(n.identifier,n.clientX,n.clientY,t)},_storeTouch:function(e,t,n,r){this.add(e,{clientX:t,clientY:n,timeStamp:r})}}},_getPointerVelocityData:{enumerable:!1,value:function(e){var t,n,i,o,a,s,l,c,u,f=0,d=!0,h={x:[],y:[],time:[]};for(t=r._pointerStorage.getMemory(e),n=t.data.length,i=t.data[(t.pos-1+n)%n],o=a=s=i.timeStamp,l=i.clientX,c=i.clientY;d&&a>o-350&&f<t.size;)i=t.data[(t.pos-f-1+n)%n],a=i.timeStamp,u=l*l+c*c,u>2&&s-a<=50?(h.x.push(i.clientX),h.y.push(i.clientY),h.time.push(a),s=a,l=i.clientX,c=i.clientY,f++):d=!1;return h}},_fitPointerCurve:{enumerable:!1,value:function(e,t){var n,r,i,o,a,s,l,c,u,f,d,h,p,b,m,g,v,y,_,w,x,k,j,O,C,E,A,D,P,T,S,L,z,R,M,F,I,B,N=1e-4,q=t.length;do{for(d=h=p=b=m=g=y=_=w=x=k=j=C=E=A=D=P=T=L=z=R=M=F=I=0,f=0;f<q;f++)a=t[f],s=a.t,c=s*s,u=c*s,l=a.v,v=N*(6*(c-s)-u+2),O=6*N*(u-2*c+s),S=6*N*(c-u),B=2*N*u,g+=v*v,j+=O*O,T+=S*S,I+=B*B,d+=l*v,y+=l*O,C+=l*S,L+=l*B,p-=v,w-=O,A-=S,R-=B,h-=v*s,_-=O*s,E-=S*s,z-=B*s,b-=v*c,x-=O*c,D-=S*c,M-=B*c,m-=v*u,k-=O*u,P-=S*u,F-=B*u;N*=2}while(0===g||0===j||0===T||0===I);for(s=N/g,d*=s,h*=3*s,p*=s,b*=3*s,m*=s,s=N/j,y*=s,_*=3*s,w*=s,x*=3*s,k*=s,s=N/T,C*=s,E*=3*s,A*=s,D*=3*s,P*=s,s=N/I,L*=s,z*=3*s,R*=s,M*=3*s,F*=s,g=e[0],j=e[1],T=e[2],I=e[3],n=3*(j-T)+I-g,r=g+T-2*j,i=j-g,o=g,f=0;f<20;f++)s=d+o*p+i*h+r*b+n*m,g+=s,o+=s,n-=s,r+=s,i-=s,s=y+o*w+i*_+r*x+n*k,j+=s,n+=3*s,r-=s+s,i+=s,s=C+o*A+i*E+r*D+n*P,T+=s,n-=3*s,r+=s,s=L+o*R+i*z+r*M+n*F,I+=s,n+=s;e[0]=g,e[1]=j,e[2]=T,e[3]=I}},_pointerBezierValue:{enumerable:!1,value:function(e,t){var n=1-e;return n*n*n*t[0]+3*n*n*e*t[1]+3*n*e*e*t[2]+e*e*e*t[3]}},_calculatePointerVelocity:{enumerable:!1,value:function(e,t){var n,r,i=e.length,o=e[0],a=e[0],s=0;for(r=1;r<i;r++)e[r]<o&&(o=e[r],s=r);if(n=a-o){if(i>5){var l,c,u,f=[];for(r=0;r<i;r++)f[r]={v:t[r],t:(e[r]-o)/n};return l=f[s].v,c=f[0].v,u=[l,(2*l+c)/3,(l+2*c)/3,c],this._fitPointerCurve(u,f),5e3*(this._pointerBezierValue(.8,u)-this._pointerBezierValue(.6,u))/n}return i>1?1e3*(t[0]-t[s])/n:0}return 0}},pointerMotion:{value:function(e){return r._pointerStorage.isStored(e)?{velocity:(new f).initWithIdentifier(e)}:void 0}},monitorDOMModificationInEventHandling:{value:!1},domModificationEventHandler:{value:i.specialize({handleEvent:{value:function(e){throw"DOM Modified"}},captureDOMSubtreeModified:{value:function(e){throw"DOMSubtreeModified"}},captureDOMAttrModified:{value:function(e){throw"DOMAttrModified"}},captureDOMCharacterDataModified:{value:function(e){throw"DOMCharacterDataModified"}}})},_trackingTouchStartList:{value:null},_trackingTouchEndList:{value:null},_trackingTouchTimeoutIDs:{value:null},_wouldTouchTriggerSimulatedEvent:{value:function(e){switch(e.type){case"touchstart":case"touchend":return!0;default:return!1}}},_couldEventBeSimulated:{value:function(e){switch(e.type){case"mousedown":case"mouseup":case"click":return!0;default:return!1}}},_listeningWindowOnTouchCancel:{value:[]},_findWindowFromEvent:{value:function(e){var t,n=e.target;return n&&(t=n instanceof Window?n:n.defaultView instanceof Window?n.defaultView:n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:null),t}},_isWindowListeningOnTouchCancel:{value:function(e){return this._registeredWindows.indexOf(e)>-1&&this._listeningWindowOnTouchCancel.indexOf(e)>-1}},_listenToTouchCancelIfNeeded:{value:function(e){var t=this._findWindowFromEvent(e);if(t&&!this._isWindowListeningOnTouchCancel(t)){var n=this;t.addEventListener("touchcancel",function(e){for(var t,r=e.changedTouches,i=n._trackingTouchStartList,o=0,a=r.length;o<a;o++)t=r[o].identifier,i.has(t)&&i["delete"](t)},!0),this._listeningWindowOnTouchCancel.push(t)}}},_blocksEmulatedEvents:{value:!0},blocksEmulatedEvents:{get:function(){return this._blocksEmulatedEvents},set:function(e){e!==this._blocksEmulatedEvents&&(this._blocksEmulatedEvents=e,this._evaluateShouldDispatchEventCondition())}},_shouldDispatchEventCondition:{value:void 0},_evaluateShouldDispatchEventCondition:{value:function(){this._shouldDispatchEventCondition=this.blocksEmulatedEvents&&!window.PointerEvent&&!(window.MSPointerEvent&&window.navigator.msPointerEnabled)}},_shouldDispatchEvent:{value:function(e){if(this._shouldDispatchEventCondition){if(this.environment.isIOSDevice&&this.environment.isWKWebView){if(0===e.timeStamp)return!1;if(this._couldEventBeSimulated(e)&&!e.hasOwnProperty("movementX"))return!1}if(this.environment.isAndroidDevice&&this._couldEventBeSimulated(e))return!1;if(this._wouldTouchTriggerSimulatedEvent(e)){var t=e.changedTouches;this._listenToTouchCancelIfNeeded(e);for(var n=0,r=t.length;n<r;n++)this._trackTouch(e,t[n])}else if(this._couldEventBeSimulated(e))return!this._isEmulatedEvent(e)}return!0}},_trackTouch:{value:function(e,t){var n=this._trackingTouchTimeoutIDs,r=this._trackingTouchStartList,i=this._trackingTouchEndList,o=t.identifier;if(t.timeStamp=e.timeStamp,"touchstart"===e.type){var a=n.get(o);a&&(clearTimeout(a),n["delete"](o)),r.set(o,t)}else n.set(o,setTimeout(function(){i["delete"](o),delete n[o]},400)),r["delete"](o),i.set(o,t)}},_isEmulatedEvent:{value:function(e){var t=this._findEmulatedEventIdentifierWithEventAndTrackingTouchList(e,this._trackingTouchStartList)>-1;if(!t){var n=this._trackingTouchEndList,r=this._findEmulatedEventIdentifierWithEventAndTrackingTouchList(e,n);if((t=r>-1)&&"click"===e.type){var i=this._trackingTouchTimeoutIDs,o=i.get(r);o&&(clearTimeout(o),n["delete"](r),i["delete"](r))}}return t}},_emulatedEventTimestampThreshold:{value:20},_emulatedEventRadiusThreshold:{value:20},_findEmulatedEventIdentifierWithEventAndTrackingTouchList:{value:function(e,t){var n,r,i,o=e.target,a=-1;for(i=t.keys();n=i.next().value;)if(r=t.get(n),r.target===o||this._couldEmulatedEventHaveWrongTarget(r,e,this._emulatedEventRadiusThreshold,this._emulatedEventTimestampThreshold)){a=n;break}return a}},_couldEmulatedEventHaveWrongTarget:{value:function(e,t,n,r){if(t.timeStamp-e.timeStamp<=r){var i=e.clientX-t.clientX,o=e.clientY-t.clientY;return i*i+o*o<=n*n}return!1}},_currentDispatchedTargetListeners:{value:null},_processCurrentDispatchedTargetListenersToRemove:{value:function(e,t,n,r){var i,o,a=this._currentDispatchedTargetListeners.get(r);a&&a.size>0&&(r.removeObjects(a),i=n?this._registeredCaptureEventListeners:this._registeredBubbleEventListeners,o=n?this._registeredBubbleEventListeners:this._registeredCaptureEventListeners,this._unregisterTargetForEventTypeIfNeeded(e,t,r,i,o))}},handleEvent:{enumerable:!1,value:function(e){if(!(window.MontageElement&&e.target instanceof MontageElement||e instanceof UIEvent&&!this._shouldDispatchEvent(e))){this.monitorDOMModificationInEventHandling&&(document.body.addEventListener("DOMSubtreeModified",this.domModificationEventHandler,!0),document.body.addEventListener("DOMAttrModified",this.domModificationEventHandler,!0),document.body.addEventListener("DOMCharacterDataModified",this.domModificationEventHandler,!0));var t,n,r,i,a,s,l,c,u,f,d,h,p,b,m=e.type,g=m.toCapitalized(),v=e.bubbles,y=this._currentDispatchedTargetListeners,_=this._registeredCaptureEventListeners,w=this._registeredBubbleEventListeners;for("DOMContentLoaded"===m&&(t=e.target.defaultView,t&&this._windowsAwaitingFinalRegistration.has(t)&&(this._finalizeWindowRegistration(t),e.target.removeEventListener("DOMContentLoaded",this,!0))),p="boolean"!=typeof e.propagationStopped?o.fromEvent(e):e,b=p.target,l=Element.isElement(b)||b instanceof Document||b===window?this._eventPathForDomTarget(b):this._eventPathForTarget(b),b.identifier?(h=b.identifier.toCapitalized(),f=this.methodNameForCapturePhaseOfEventType(m,b.identifier,g,h),d=this.methodNameForBubblePhaseOfEventType(m,b.identifier,g,h)):(f=null,d=null),c=this.methodNameForCapturePhaseOfEventType(m,null,g),u=this.methodNameForBubblePhaseOfEventType(m,null,g),this.delegate&&"function"==typeof this.delegate.willDistributeEvent&&this.delegate.willDistributeEvent(p),this._isStoringPointerEvents&&this._pointerStorage.storeEvent(p),p.eventPhase=Event.CAPTURING_PHASE,n=l.length-1;!p.propagationStopped&&(i=l[n]);n--)if(p.currentTarget=i,a=this._registeredEventListenersForEventType_onTarget_registeredEventListeners_(m,i,_))if(Array.isArray(a)){for(r=0,y.set(a,null);(s=a[r++])&&!p.immediatePropagationStopped;)this._invokeTargetListenerForEvent(i,s,p,f,c);this._processCurrentDispatchedTargetListenersToRemove(i,m,!0,a),y["delete"](a)}else this._invokeTargetListenerForEvent(i,a,p,f,c);if(!p.propagationStopped){if(p.eventPhase=Event.AT_TARGET,p.currentTarget=i=b,a=this._registeredEventListenersForEventType_onTarget_registeredEventListeners_(m,i,_))if(Array.isArray(a)){for(r=0,y.set(a,null);(s=a[r++])&&!p.immediatePropagationStopped;)this._invokeTargetListenerForEvent(i,s,p,f,c);this._processCurrentDispatchedTargetListenersToRemove(i,m,!0,a),y["delete"](a)}else this._invokeTargetListenerForEvent(i,a,p,f,c);if(a=this._registeredEventListenersForEventType_onTarget_registeredEventListeners_(m,i,w))if(Array.isArray(a)){for(r=0,y.set(a,null);(s=a[r++])&&!p.immediatePropagationStopped;)this._invokeTargetListenerForEvent(i,s,p,d,u);this._processCurrentDispatchedTargetListenersToRemove(i,m,!1,a),y["delete"](a)}else this._invokeTargetListenerForEvent(i,a,p,d,u)}for(p.eventPhase=Event.BUBBLING_PHASE,n=0;v&&!p.propagationStopped&&(i=l[n]);n++)if(p.currentTarget=i,a=this._registeredEventListenersForEventType_onTarget_registeredEventListeners_(m,i,w))if(Array.isArray(a)){for(r=0,y.set(a,null);(s=a[r++])&&!p.immediatePropagationStopped;)this._invokeTargetListenerForEvent(i,s,p,d,u);this._processCurrentDispatchedTargetListenersToRemove(i,m,!1,a),y["delete"](a)}else this._invokeTargetListenerForEvent(i,a,p,d,u);p.eventPhase=Event.NONE,p.currentTarget=null,this._isStoringPointerEvents&&this._pointerStorage.removeEvent(e),this.monitorDOMModificationInEventHandling&&(document.body.removeEventListener("DOMSubtreeModified",this.domModificationEventHandler,!0),document.body.removeEventListener("DOMAttrModified",this.domModificationEventHandler,!0),document.body.removeEventListener("DOMCharacterDataModified",this.domModificationEventHandler,!0))}}},_invokeTargetListenerForEvent:{value:function(e,t,n,r,i){var o="function";typeof t===o?t.call(e,n):r&&typeof t[r]===o?t[r](n):typeof t[i]===o?t[i](n):typeof t.handleEvent===o&&t.handleEvent(n)}},_prepareComponentsForActivation:{value:function(e,t){var n,r,i=e,o=i&&i.defaultView?i.defaultView:window,a=o.document?o.document:document,s=!1,l=null;do switch(i&&(r=this.eventHandlerForElement(i),r&&(s||(s=!0,l=this._findActiveTarget(r)),r.preparedForActivationEvents||r._prepareForActivationEvents())),n=i,i){case o:i=null;break;case a:i=o;break;case a.documentElement:i=a;break;default:i=i.parentNode}while(i&&n!==i);t&&(this.activeTarget=l)}},_findActiveTargetMap:{value:void 0},_findActiveTarget:{value:function(e){var t=null,n=this._findActiveTargetMap;for(n.clear();!t&&e&&!n.has(e);)n.set(e,!0),e.acceptsActiveTarget?t=e:e=e.nextTarget;return t}},_eventPathForTargetMap:{value:void 0},_eventPathForTarget:{enumerable:!1,value:function(e){if(!e)return[];var t=e,n=this.application,r=[],i=this._eventPathForTargetMap;i.clear(),i.set(e,!0);do i.has(t)||(r.push(t),i.set(t,!0)),t=t.nextTarget,t&&!i.has(t)||(t=n),t&&i.has(t)&&(t=null);while(t);return r}},_eventPathForDomTarget:{enumerable:!1,value:function(e){if(!e)return[];var t,n=e,r=n&&n.defaultView?n.defaultView:window,i=r.document?r.document:document,o=this.application,a=[];do switch(n!==e&&a.push(n),t=n,n){case o:n=n.parentApplication,n&&(o=n);break;case r:n=o;break;case i:n=r;break;case i.documentElement:n=i;break;default:n=n.parentNode,n||(n=o)}while(n&&t!==n);return a}},_elementEventHandlerByElement:{enumerable:!1,value:null},registerEventHandlerForElement:{enumerable:!1,value:function(e,t){var n=this.eventHandlerForElement(t);n&&this.unregisterEventHandlerForElement(t),this._elementEventHandlerByElement.set(t,e)}},unregisterEventHandlerForElement:{enumerable:!1,value:function(e){this._elementEventHandlerByElement["delete"](e)}},eventHandlerForElement:{enumerable:!1,value:function(e){return this._elementEventHandlerByElement.get(e)}},_activeTarget:{value:null},activeTarget:{get:function(){return this._activeTarget||this.application},set:function(e){e||(e=this.application),e===this._activeTarget||this.activeTarget&&!this.activeTarget.surrendersActiveTarget(e)||e&&(e.willBecomeActiveTarget(this.activeTarget),this._activeTarget=e,e.didBecomeActiveTarget())}}});Object.defineProperty(t,"defaultEventManager",{get:function(){return"undefined"==typeof r&&(r=new h,"undefined"!=typeof window&&r.initWithWindow(window)),r}})}}),montageDefine("15c0bd3","core/serialization/deserializer/montage-reviver",{dependencies:["../../core","./values-deserializer","./self-deserializer","./unit-deserializer","../../module-reference","../alias","../bindings","../../promise","../../deprecate","../../converter/camel-case-converter","../../converter/kebab-case-converter","../../shim/string"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("./values-deserializer").ValuesDeserializer,o=e("./self-deserializer").SelfDeserializer,a=e("./unit-deserializer").UnitDeserializer,s=e("../../module-reference").ModuleReference,l=e("../alias").Alias,c=e("../bindings"),u=e("../../promise").Promise,f=e("../../deprecate"),d=e("../../converter/camel-case-converter").singleton,h=e("../../converter/kebab-case-converter").singleton,p="=",b="<-",m="<->";e("../../shim/string");var g=new WeakMap,v=new Map,y=r.specialize({_require:{value:null},_objectRequires:{value:null},init:{value:function(e,t){if("function"!=typeof e)throw new Error("Function 'require' missing.");if("string"!=typeof e.location)throw new Error("Function 'require' location is missing");if("object"!=typeof t&&"undefined"!=typeof t)throw new Error("Parameter 'objectRequires' should be an object.");return this._require=e,this._objectRequires=t,this}},getExports:{value:function(e,t){for(var n=e.getModuleDescriptor(e.resolve(t));void 0!==n.redirect;)n=e.getModuleDescriptor(n.redirect);return void 0!==n.mappingRedirect?this.getExports(n.mappingRequire,n.mappingRedirect):n.exports}},getModule:{value:function(e,t){var n,r,i=this._objectRequires;return n=i&&t in i?i[t]:this._require,r=this.getExports(n,e),r||(r=n.async(e)),r}}}),_=t.MontageReviver=r.specialize({moduleLoader:{value:null},init:{value:function(e,t,n){return this.moduleLoader=(new y).init(e,t),this._require=e,this._deserializerConstructor=n,this}},getTypeOf:{value:function(e){var t=typeof e;if(null===e)return"null";if(Array.isArray(e))return"array";if("object"===t&&1===Object.keys(e).length){if("@"in e)return"reference";if("/"in e)return"regexp";if("#"in e)return"Element";if("%"in e)return"Module";if(b in e||m in e||p in e)return"binding"}return t}},_checkLabel:{value:function(e,t){return t&&":"!==e[0]?new Error('Aliases can only be defined in template values (start with a colon (:)), "'+e+'".'):t||":"!==e[0]?void 0:new Error('Only aliases are allowed as template values (start with a colon (:), "'+e+'".')}},setProxyForDatasetOnElement:{value:function(e,t){var n=e.dataset;if(null!==Object.getPrototypeOf(n)){var r,i,o=Object.keys(n),a=Object.create(null);if(Proxy.prototype){i=t.values?Object.keys(t.values):Object.keys(t.properties).concat(Object.keys(t.bindings)),o=o.concat(i.filter(function(e){return e.startsWith("dataset.")}));for(var s=0,l=o.length;s<l;s++)r=o[s],n[r]?a[r]=n[r]:a[r.replace(/^dataset\./,"")]=void 0}Object.defineProperty(e,"dataset",{value:new Proxy(a,{set:function(t,r,i){return t[r]=i,n[r]=i,e.nativeSetAttribute(v.get(r)||v.set(r,"data-"+h.convert(r)).get(r),i),!0},get:function(e,t){return e[t]}})})}}},setProxyOnElement:{value:function(e,t){if(!g.has(e)){var n=Object.create(null);if(Proxy.prototype){var r,i;for(i in e)e.hasOwnProperty(i)&&(n[i]=void 0);r=t.values?Object.keys(t.values):Object.keys(t.properties).concat(Object.keys(t.bindings));for(var o=0,a=r.length;o<a;o++)i=r[o],i in e||i.indexOf(".")!==-1||(n[i]=void 0)}g.set(e,new Proxy(n,{set:function(t,n,r){return n in Object.getPrototypeOf(e)||void 0===Object.getOwnPropertyDescriptor(e,n)&&Object.defineProperty(e,n,{set:function(r){t[n]=r,null===r||void 0===r?e.removeAttribute(n):e.nativeSetAttribute(n,r)},get:function(){return t[n]}}),t[n]!==r&&(e[n]=r),!0},get:function(t,n){return t[n]||e[n]}}))}return g.get(e)}},wrapSetAttributeForElement:{value:function(e){if(e.setAttribute===e.nativeSetAttribute){var t=g.get(e);e.setAttribute=function(n,r){var i;n.startsWith("data-")?(i=d.convert(n.replace("data-","")),t.dataset[i]=r):(i=d.convert(n),t[i]=r),e.nativeSetAttribute(n,r)}}}},reviveRootObject:{value:function(e,t,n){var r,i,o="alias"in e;if(r=this._checkLabel(n,o))return u.reject(r);if(e["debugger"],"value"in e){if(t.hasUserObject(n))return i=t.getUserObject(n),t.setObjectLabel(i,n),i;var a=this.reviveValue(e.value,t,n),s=this.getTypeOf(e.value);if("Element"===s){if(!u.is(a)){var l=this.setProxyOnElement(a,e);this.setProxyForDatasetOnElement(a,e),this.wrapSetAttributeForElement(a),t.setBindingsToDeserialize(l,e),this.deserializeMontageObjectValues(l,e.values||e.properties,t)}}else"object"===s&&(t.setBindingsToDeserialize(a,e),this.deserializeMontageObjectValues(a,e.values||e.properties,t),t.setUnitsToDeserialize(a,e,_._unitNames));return a}return 0===Object.keys(e).length?t.hasUserObject(n)?(i=t.getUserObject(n),t.setObjectLabel(i,n),i):this.reviveExternalObject(e,t,n):"alias"in e?this.reviveAlias(e,t,n):this.reviveMontageObject(e,t,n)}},reviveElement:{value:function(e,t,n){var r=e["#"],i=t.getElementById(r);return i?(n&&t.setObjectLabel(i,n),i):u.reject(new Error("Element with id '"+r+"' was not found."))}},reviveModule:{value:function(e,t,n){var r=e["%"],i=t.getRequire();r=i.resolve(r);var o=i.getModuleDescriptor(r);return(new s).initWithIdAndRequire(o.id,o.require)}},reviveAlias:{value:function(e,t,n){var r=new l;return r.value=e.alias,t.setObjectLabel(r,n),r}},reviveMontageObject:{value:function(e,t,n){var r,i,o,a=this,s=e.prototype||e.object;return s&&(i=_.parseObjectLocationId(s),r=this.moduleLoader.getModule(i.moduleId,n),o=i.objectName),u.is(r)?r.then(function(r){return a.instantiateObject(r,i,e,o,t,n)},function(t){throw t.stack&&console.error(t.stack),new Error('Error deserializing "'+n+'" when loading module "'+i.moduleId+"' from '"+e.prototype+"' cause: "+t.message)}):this.instantiateObject(r,i,e,o,t,n)}},instantiateObject:{value:function(e,t,n,r,i,o){var a,s=this,l=n.prototype||n.object;return l&&(l.endsWith(".mjson")||l.endsWith(".meta"))?this.getMjsonObject(n,e,l,i).then(function(e){return i.setObjectLabel(e,o),s.instantiateMjsonObject(n,e,r,i,o)}):(a=this.getMontageObject(n,e,r,i,o),i.setObjectLabel(a,o),this.instantiateMontageObject(n,a,r,i,o))}},getMjsonObject:{value:function(e,t,n,r){var i=(new this._deserializerConstructor).init(t,this._deserializerConstructor.getModuleRequire(this._require,n),void 0,n);return u.resolve(i).then(function(e){return e.deserializeObject()}).then(function(t){return"prototype"in e?Object.create(t):t})}},getMontageObject:{value:function(e,t,n,r,i){var o;if(r.hasUserObject(i))return r.getUserObject(i);if("prototype"in e){if(!(n in t))throw new Error('Error deserializing "'+i+'": object named "'+n+'" was not found in "'+e.prototype+'". Available objects are: '+Object.keys(t)+".");return o=t[n],o="function"==typeof o?new o:Object.create(o),o.isDeserializing=!0,o}if("object"in e){if(e.object.endsWith(".json"))return t;if(!(n in t))throw new Error('Error deserializing "'+i+'": object named "'+o+"' was not found given '"+e.object+"'");return t[n]}throw new Error("Error deserializing "+JSON.stringify(e)+', might need "prototype" or "object" on label '+JSON.stringify(i))}},instantiateMjsonObject:{
value:function(e,t,n,r,i){var o,a=this;return null!==t&&void 0!==t&&(t.isDeserializing=!0),r.setBindingsToDeserialize(t,e),o=this.reviveObjectLiteral(e,r),u.is(o)?o.then(function(e){return a.deserializeMontageObject(e,t,r,i)}):this.deserializeMontageObject(o,t,r,i)}},instantiateMontageObject:{value:function(e,t,n,r,i){var o,a=this;return null!==t&&void 0!==t&&(t.isDeserializing=!0),e.bindings&&f.deprecationWarningOnce("'bindings' block is deprecated, use 'values' instead"),e.properties&&f.deprecationWarningOnce("'properties' block is deprecated, use 'values' instead"),r.setBindingsToDeserialize(t,e),o=this.reviveObjectLiteral(e,r),u.is(o)?o.then(function(e){return"function"==typeof t.deserializeSelf?a.deserializeCustomMontageObject(t,e,r,i):a.deserializeMontageObject(e,t,r,i)}):"function"==typeof t.deserializeSelf?this.deserializeCustomMontageObject(t,o,r,i):this.deserializeMontageObject(o,t,r,i)}},deserializeMontageObject:{value:function(e,t,n,r){var i;return n.setUnitsToDeserialize(t,e,_._unitNames),i=this.deserializeMontageObjectValues(t,e.values||e.properties,n),t}},deserializeMontageObjectProperties:{value:f.deprecateMethod(void 0,function(e,t,n){return this.deserializeMontageObjectValues(e,t,n)},"deserializeMontageObjectProperties","deserializeMontageObjectValues")},deserializeMontageObjectValues:{value:function(e,t,n){var r;if("function"==typeof e.deserializeProperties||"function"==typeof e.deserializeValues){var o=(new i).initWithReviverAndObjects(this,n);r=e.deserializeValues?e.deserializeValues(o):e.deserializeProperties(o)}else for(var a in t)e[a]=t[a];return r}},deserializeCustomMontageObject:{value:function(e,t,n,r){var i,a=(new o).initWithObjectAndObjectDescriptorAndContextAndUnitNames(e,t,n,_._unitNames);return i=e.deserializeSelf(a),u.is(i)?i.then(function(e){return n.setObjectLabel(e,r),e}):"undefined"!=typeof i?(n.setObjectLabel(i,r),i):e}},didReviveObjects:{value:function(e,t){var n=this;return u.all([this._deserializeBindings(t),this._deserializeUnits(t)]).then(function(){n._invokeDeserializedFromSerialization(e,t)})}},_invokeDeserializedFromSerialization:{value:function(e,t){var n;for(var r in e)n=e[r],null!==n&&void 0!==n&&delete n.isDeserializing,t.hasUserObject(r)||n&&"function"==typeof n.deserializedFromSerialization&&n.deserializedFromSerialization(r)}},_deserializeBindings:{value:function(e){var t,n=e.getBindingsToDeserialize(),r=new a;if(n)try{for(var i=0,o=n.length;i<o;i++)t=n[i],c.deserializeObjectBindings(r.initWithContext(e),t.object,t.bindings)}catch(s){return u.reject(s)}}},_deserializeUnits:{value:function(e){var t,n=e.getUnitsToDeserialize(),r=new a;try{for(var i,o=0;i=n[o];o++){t=i.unitNames;for(var s,l=0;s=t[l];l++)s in i.objectDesc&&(r.initWithContext(e),_._unitRevivers.get(s)(r,i.object,i.objectDesc[s]))}}catch(c){return u.reject(c)}}},_createAssignValueFunction:{value:function(e,t){return function(n){e[t]=n}}},getCustomObjectTypeOf:{writable:!0,value:function(){}},reviveValue:{value:function(e,t,n){var r=this.getTypeOf(e);return"string"===r||"number"===r||"boolean"===r||"null"===r||"undefined"===r?this.reviveNativeValue(e,t,n):"regexp"===r?this.reviveRegExp(e,t,n):"reference"===r?this.reviveObjectReference(e,t,n):"array"===r?this.reviveArray(e,t,n):"object"===r?this.reviveObjectLiteral(e,t,n):"Element"===r?this.reviveElement(e,t,n):"binding"===r?e:this._callReviveMethod("revive"+r,e,t,n)}},reviveNativeValue:{value:function(e,t,n){return n&&t.setObjectLabel(e,n),e}},reviveObjectLiteral:{value:function(e,t,n){var r,i=[];n&&t.setObjectLabel(e,n);for(var o in e)if(e.hasOwnProperty(o)){if(e[o]===e)return e;r=this.reviveValue(e[o],t),u.is(r)?i.push(r.then(this._createAssignValueFunction(e,o))):e[o]=r}return 0===i.length?e:u.all(i).then(function(){return e})}},reviveRegExp:{value:function(e,t,n){var r=e["/"],i=new RegExp(r.source,r.flags);return n&&t.setObjectLabel(i,n),i}},reviveObjectReference:{value:function(e,t,n){var r=e["@"],i=t.getObject(r);return i}},reviveArray:{value:function(e,t,n){var r,i=[];n&&t.setObjectLabel(e,n);for(var o=0,a=e.length;o<a;o++)r=this.reviveValue(e[o],t),u.is(r)?i.push(r.then(this._createAssignValueFunction(e,o))):e[o]=r;return 0===i.length?e:u.all(i).then(function(){return e})}},reviveExternalObject:{value:function(e,t,n){return u.reject(new Error("External object '"+n+"' not found in user objects."))}},_callReviveMethod:{value:function(e,t,n,r){return this[e](t,n,r)}}},{_unitRevivers:{value:new Map},_unitNames:{value:[]},_findObjectNameRegExp:{value:/([^\/]+?)(\.reel)?$/},_toCamelCaseRegExp:{value:/(?:^|-)([^-])/g},_replaceToCamelCase:{value:function(e,t){return t.toUpperCase()}},_locationDescCache:{value:new Map},customObjectRevivers:{value:new Map},parseObjectLocationId:{value:function(e){return this._locationDescCache.get(e)||this.createObjectLocationDesc(e)}},createObjectLocationDesc:{value:function(e){var t,n,r=e.indexOf("[");r>0?(t=e.substr(0,r),n=e.slice(r+1,-1)):(t=e,this._findObjectNameRegExp.test(e),n=RegExp.$1.replace(this._toCamelCaseRegExp,this._replaceToCamelCase));var i={moduleId:t,objectName:n};return this._locationDescCache.set(e,i),i}},defineUnitReviver:{value:function(e,t){this._unitRevivers.set(e,t),this._unitNames.push(e)}},getTypeOf:{value:function(e){return this.prototype.getTypeOf.call(this,e)}},addCustomObjectReviver:{value:function(e){var t=this.customObjectRevivers;for(var n in e)if("getTypeOf"!==n&&"function"==typeof e[n]&&"revive"===n.substr(0,5)){if("undefined"!=typeof t.get(n))return new Error("Reviver '"+n+"' is already registered.");t.set(n,e[n].bind(e))}this.prototype.getCustomObjectTypeOf=this.makeGetCustomObjectTypeOf(e.getTypeOf)}},resetCustomObjectRevivers:{value:function(){this.customObjectRevivers.clear(),this.prototype.getCustomObjectTypeOf=function(){}}},makeGetCustomObjectTypeOf:{value:function(e){var t=this.prototype.getCustomObjectTypeOf;return function(n){return e(n)||t(n)}}}});_.findProxyForElement=function(e){return g.get(e)},"undefined"!=typeof t&&(t.MontageReviver=_)}}),montageDefine("15c0bd3","core/logger",{dependencies:["./extras/console","./core"],factory:function(e,t,n){function r(e){var t,n=r.caller.caller;return t=n.name,""===t&&(t="anonymous"),t}function i(e){if(e.getHours){var t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return(1===t.length?"0"+t:t)+":"+(1===n.length?"0"+n:n)+":"+(1===r.length?"0"+r:r)+"."+e.getMilliseconds()}}function o(e){var t=function(e){return this._color=e,this},n=function(t){return function(){return e.color(c[t])}};for(var r in c)c.hasOwnProperty(r)&&(t[r]=n(r));e.color=t}var a=e("./extras/console").console,s=e("./core").Montage,l=t.loggers={},c={base03:"#002b36",base02:"#073642",base01:"#586e75",base00:"#657b83",base0:"#839496",base1:"#93a1a1",base2:"#eee8d5",base3:"#fdf6e3",yellow:"#b58900",orange:"#cb4b16",red:"#dc322f",magenta:"#d33682",violet:"#6c71c4",blue:"#268bd2",cyan:"#2aa198",green:"#859900"},u=t.Logger=s.specialize({constructor:{value:function(){this.debug=Function.noop,this.error=Function.noop,o(this)}},init:{value:function(e,t,n){var r;return this.name=e,this._onStateChange=t,this._storeState=!n,this._storeState&&"undefined"!=typeof localStorage&&(r=localStorage.getItem("_montage_logger_"+e),r&&(this.isDebug="true"===r)),t&&this._onStateChange("true"===r),this.isError=!0,this}},name:{value:null},_buffer:{value:null},buffer:{get:function(){return this._buffer||(this._buffer=[])}},buffered:{value:!1},flush:{value:function(){var e,t,n=this.buffer;for(t=0;e=n[t];t++)this._formattedLog(e);this.buffer.length=0}},isDebug:{get:function(){return this.debug!==Function.noop},set:function(e){e?this.debug=this._consoleLogMontage:this.debug=Function.noop}},isError:{get:function(){return this.error!==Function.noop},set:function(e){e?this.error=this._consoleLogMontage:this.error=Function.noop}},_consoleLogMontage:{value:function(){var e=arguments[0],t=e._montage_metadata;new Date,t?(Array.prototype.shift.call(arguments),Array.prototype.unshift.call(arguments,t.objectName+"."+r(e)+"()"),this.buffered?this.buffer.push(arguments):this._formattedLog(arguments)):this.buffered?this.buffer.push(arguments):this._formattedLog(arguments)}},_formattedLog:{value:function(e){var n=e[0];t.colors.isDebug&&"string"==typeof n&&Array.prototype.splice.call(e,0,1,"%c"+n,this._logCss),a.log.apply(a,e)}},__logCss:{value:null},_logCss:{get:function(){return null===this.__logCss&&(this.__logCss="",this._color?this.__logCss+="color:"+this._color+";":this.__logCss+="color:black;"),this.__logCss}},debug:{value:null},error:{value:null},toTimeString:{value:i},_storeState:{value:null},_onStateChange:{value:null}});t.logger=function(e,t,n){var r;return(r=l[e])||(r=(new u).init(e,t,n),s.defineProperty(l,e,{value:r})),r},t.colors=t.logger("colors");var f=s.specialize({init:{value:function(){return document.nativeAddEventListener?(document.nativeAddEventListener("keyup",this,!1),document.nativeAddEventListener("keydown",this,!1)):(document.addEventListener("keyup",this,!1),document.addEventListener("keydown",this,!1)),this}},inspectorElement:{value:null},m_dontRemove:{value:null},titleHeader:{value:null},shown:{value:!1},isCtrl:{value:!1},isAlt:{value:!1},keyup:{value:function(e){17===e.which&&(this.isCtrl=!1),18===e.which&&(this.isAlt=!1)}},keydown:{value:function(e){if(17===e.which&&(this.isCtrl=!0),18===e.which&&(this.isAlt=!0),76===e.which&&this.isCtrl===!0&&this.isAlt===!0)return this.shown?this.hideInspector():this.showInspector(),!1}},change:{value:function(e){var t=e.target.checked,n=e.target.value,r=l[n];r.isDebug=t,r._onStateChange&&r._onStateChange(t),r._storeState&&"undefined"!=typeof localStorage&&localStorage.setItem("_montage_logger_"+n,t)}},mouseup:{value:function(e){this.hideInspector()}},showInspector:{value:function(){if(!this.inspectorElement){var e,t,n,r,i,o,a,s,c,u,f,d=0;for(this.m_dontRemove=document.getElementsByTagName("body")[0],this.inspectorElement=document.createElement("div"),this.inspectorElement.id="_montage_logger_inspector",t=document.createElement("div"),this.inspectorElement.appendChild(t),r=document.createElement("div"),t.appendChild(r),n=document.createElement("h1"),n.className="_montage_logger_inspector-title",n.textContent="Logger Inspector",this.titleHeader=n,r.appendChild(n),c=Object.keys(l),d=0;e=l[c[d]];d++)i=document.createElement("label"),o=document.createElement("input"),f=document.createElement("span"),i.className="_montage_logger_inspector-content",f.textContent=e.name,i.appendChild(o),i.appendChild(f),o.value=e.name,o.type="checkbox",o.checked=!!e.isDebug,s="_montage_logger_"+e.name,e._storeState&&"undefined"!=typeof localStorage&&(a=localStorage.getItem(s),a||localStorage.setItem(s,e.isDebug)),r.appendChild(i);u=document.createElement("style");var h="#_montage_logger_inspector {";h+="    border: 1px solid rgba(15,15,15,0.4);",h+="    position: fixed;",h+="    right: 25px;",h+="    top: 25px;",h+="    -webkit-border-radius: 5px;",h+="    color: #dddddd;",h+='    font: 10px "Lucida Grande","Lucida Sans", sans;',h+="    background:-webkit-gradient(linear, left top, left bottom, from(rgba(15,15,15,0.75)), to(rgba(15,15,15,0.95)) );",h+="    -webkit-box-shadow: 0 0 15px rgba(0,0,0,.3);",h+="    width: 250px;",h+="}",h+="#_montage_logger_inspector div {",h+="    -webkit-border-radius: 5px;",h+="    background: -webkit-gradient(radial, 100 -60, 0, 125 -50, 125, from(rgba(255,255,255,0.00)), to(rgba(0,0,0,.2)), color-stop(1, rgba(0,0,0,.2)));",h+="}",h+="#_montage_logger_inspector div div {",h+="    background: -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,0.2)), to(rgba(0,0,0,.1)), color-stop(0.33, rgba(255,255,255,.01)), color-stop(0.33, rgba(50,50,50,1)) );",h+="    padding: 7px 10px;",h+="    -webkit-border-radius: 3px;",h+="    overflow-x: hidden;",h+="}",h+="._montage_logger_inspector-title {",h+="    color: rgba(255,255,255,0.9);",h+="    font-size: 13px;",h+="    margin: 0 0 11px 0;",h+="    padding: 0 0 0 5px;",h+="}",h+="._montage_logger_inspector-content {",h+="    padding: 0 0 0 20px;",h+="    margin: 0;",h+="    display: block;",h+="}",u.textContent=h,document.head.appendChild(u)}this.shown=!0,this.m_dontRemove.appendChild(this.inspectorElement),this.titleHeader.nativeAddEventListener("mouseup",this,!1),this.inspectorElement.nativeAddEventListener("change",this,!1)}},hideInspector:{value:function(){document.getElementById("_montage_logger_inspector")&&(this.shown=!1,this.m_dontRemove.removeChild(this.inspectorElement),this.titleHeader.nativeRemoveEventListener("mouseup",this,!1),this.inspectorElement.nativeRemoveEventListener("change",this,!1))}},handleEvent:{enumerable:!1,value:function(e){this[e.type]&&this[e.type](e)}}});"undefined"!=typeof window&&(window.loggers=l,"undefined"!=typeof localStorage&&(new f).init())}}),montageDefine("15c0bd3","core/serialization/deserializer/values-deserializer",{dependencies:["../../core","../../deprecate"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("../../deprecate"),o=r.specialize({_object:{value:null},_objectDescriptor:{value:null},_context:{value:null},initWithObjectAndObjectDescriptorAndContext:{value:function(e,t,n){return this._object=e,this._objectDescriptor=t,this._context=n,this}},get:{value:function(e){return this._objectDescriptor.values?this._objectDescriptor.values[e]:this._objectDescriptor.properties?this._objectDescriptor.properties[e]:void 0}},deserializeProperties:{value:i.deprecateMethod(void 0,function(e){return this.deserializeValues(e)},"deserializeProperties","deserializeValues")},deserializeValues:{value:function(e){var t,n=this._object,i=this._objectDescriptor.values||this._objectDescriptor.properties;if(i){e||(e=r.getSerializablePropertyNames(n));for(var o=0,a=e.length;o<a;o++)t=e[o],n[t]=i[t]}}},getObjectByLabel:{value:function(e){this._context.getObject(e)}}});t.ValuesDeserializer=o}}),montageDefine("15c0bd3","core/serialization/deserializer/self-deserializer",{dependencies:["../../core","../../deprecate"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("../../deprecate"),o=r.specialize({_object:{value:null},_objectDescriptor:{value:null},_context:{value:null},_unitNames:{value:null},_objectUnitNames:{value:null},create:{value:function(){return new this}},initWithObjectAndObjectDescriptorAndContextAndUnitNames:{value:function(e,t,n,r){return this._object=e,this._objectDescriptor=t,this._context=n,this._unitNames=r,this}},getProperty:{value:function(e){return this._objectDescriptor.values?this._objectDescriptor.values[e]:this._objectDescriptor.properties?this._objectDescriptor.properties[e]:void 0}},getType:{value:function(){return"prototype"in this._objectDescriptor?"prototype":"object"in this._objectDescriptor?"object":void 0}},getTypeValue:{value:function(){return this._objectDescriptor.prototype||this._objectDescriptor.object}},getObjectByLabel:{value:function(e){return this._context.getObject(e)}},deserializeProperties:{value:i.deprecateMethod(void 0,function(e){return this.deserializeValues(e)},"deserializeProperties","deserializeValues")},deserializeValues:{value:function(e){var t,n=this._object,i=this._objectDescriptor.values||this._objectDescriptor.properties;if(i){e||(e=r.getSerializablePropertyNames(n));for(var o=0,a=e.length;o<a;o++)t=e[o],n[t]=i[t]}}},deserializeUnit:{value:function(e){var t=this._objectUnitNames;t?t.indexOf(e)===-1&&t.push(e):(t=this._objectUnitNames=[e],this._context.setUnitsToDeserialize(this._object,this._objectDescriptor,t))}},deserializeUnits:{value:function(){var e=this._objectUnitNames;if(e)for(var t,n=0;t=e[n];n++)e.indexOf(t)===-1&&e.push(t);else e=this._objectUnitNames=this._unitNames,this._context.setUnitsToDeserialize(this._object,this._objectDescriptor,e)}}});t.SelfDeserializer=o}}),montageDefine("15c0bd3","core/serialization/deserializer/unit-deserializer",{dependencies:["../../core"],factory:function(e,t,n){var r=e("../../core").Montage,i=r.specialize({_context:{value:null},create:{value:function(){return new this}},initWithContext:{value:function(e){return this._context=e,this}},_templatePropertyRegExp:{value:/^([^:]+)(:.*)$/},isValidTemplatePropertyReference:{value:function(e){var t=this._templatePropertyRegExp.exec(e);if(t){var n=t[1];return!!this._context.hasObject(n)}return!1}},getObjectByLabel:{value:function(e){if(this._context.hasObject(e))return this._context.getObject(e);if(this.isValidTemplatePropertyReference(e))return null;throw new Error("Object with label '"+e+"' was not found.")}}});t.UnitDeserializer=i}}),montageDefine("15c0bd3","core/module-reference",{dependencies:["./core"],factory:function(e,t,n){var r=e("./core").Montage;t.ModuleReference=r.specialize({initWithIdAndRequire:{value:function(e,t){if(!e||!t)throw new Error("Module ID and require required");return this.id=e,this.require=t,this}},id:{value:null},require:{value:null},_exports:{value:null},exports:{get:function(){return this._exports?this._exports:this._exports=this.require.async(this.id)}},resolve:{value:function(e){return e.identify(this.id,this.require)}},isModuleReference:{writable:!1,configurable:!1,value:!0}})}}),montageDefine("15c0bd3","core/serialization/alias",{dependencies:["../core"],factory:function(e,t,n){var r=e("../core").Montage;t.Alias=r.specialize({_value:{value:null},_aliasRegExp:{value:/@([_a-zA-Z$][0-9_a-zA-Z$]*):([_a-zA-Z$][0-9_a-zA-Z$]*)$/},value:{get:function(){return this._value},set:function(e){var t=this._aliasRegExp.exec(e);if(!t)throw new Error("Invalid alias syntax: "+e);this._value=e,this._componentLabel=t[1],this._propertyName=t[2]}},_componentLabel:{value:null},componentLabel:{get:function(){return this._componentLabel}},_propertyName:{value:null},propertyName:{get:function(){return this._propertyName}},init:{value:function(e){return this.value=e,this}}})}}),montageDefine("15c0bd3","core/serialization/bindings",{dependencies:["frb","frb/stringify","frb/assign","frb/evaluate","frb/expand","frb/scope","../serialization/serializer/montage-serializer","../serialization/deserializer/montage-deserializer"],factory:function(e,t,n){var r=e("frb"),i=e("frb/stringify"),o=e("frb/assign"),a=e("frb/evaluate"),s=e("frb/expand"),l=e("frb/scope"),c=e("../serialization/serializer/montage-serializer").MontageSerializer,u=e("../serialization/deserializer/montage-deserializer").MontageDeserializer,f="=",d="<-",h="<->",p=t.serializeObjectBindings=function(e,t){for(var n,o,a=r.getBindings(t),c={},u=a.keys();o=u.next().value;){var f=a.get(o),p={};if((!("serializable"in f)||f.serializable)&&f.sourceSyntax){var b,m=f.sourcePath,g=f.sourceSyntax;if(f.source&&f.source!==t){var v=e.getObjectLabel(f.source);b=new l({type:"component",label:v}),b.components=e,g=s(g,b)}b=new l,b.components=e,m=i(g,b),f.twoWay?p[h]=m:p[d]=m,f.converter?p.converter=f.converter:(p.convert=f.convert,p.revert=f.revert),f.trace&&(p.trace=!0),c[o]=p,n=!0}}return n?c:void 0};c.defineSerializationUnit("bindings",p);var b=t.deserializeObjectBindings=function(e,t,n){var i,s,l={components:e};for(i in n){if(s=n[i],"object"!=typeof s){if(i.indexOf(".")===-1)throw new Error("Binding descriptor must be an object, not "+typeof s);s={"=":""+s}}if(f in s){var c=s[f];o(t,i,"string"==typeof c?a(c,t,null,null,e):c,null,null,e)}else r.defineBinding(t,i,s,l)}};u.defineDeserializationUnit("bindings",b)}}),montageDefine("15c0bd3","core/deprecate",{dependencies:["./core","collections/map"],factory:function(e,t,n){function r(e,t){return t?e+"_"+t:e}var i=e("./core").Montage;Map=e("collections/map");var o=new Map,a=t.deprecationWarning=function(e,t,n){n=n===!0?2:n;var r;if(n&&(r=Error.stackTraceLimit,Error.stackTraceLimit=n),"undefined"!=typeof console&&"function"==typeof console.warn){var i=n?new Error("").stack:"";t?console.warn(e+" is deprecated, use "+t+" instead.",i):console.warn(e,i)}n&&(Error.stackTraceLimit=r)};t.deprecationWarningOnce=function(e,n,i){var a=r(e,n);o.has(a)||(t.deprecationWarning(e,n,i),o.set(a,!0))},t.deprecateMethod=function(e,t,n,r){var i=function(){return a(n,r,3),t.apply(e?e:this,arguments)};return i.deprecatedFunction=t,i},t.callDeprecatedFunction=function(e,t,n,r){var o,a,s=Error.stackTraceLimit;return Error.stackTraceLimit=2,"undefined"!=typeof console&&"function"==typeof console.warn&&(o=i.getInfoForObject(e).objectName,r?console.warn(n+" is deprecated, use "+r+" instead.",o):console.warn(n,o)),Error.stackTraceLimit=s,a=Array.prototype.slice.call(arguments,4),t.apply(e?e:this,a)}}}),montageDefine("15c0bd3","core/converter/camel-case-converter",{dependencies:["./converter","lodash.camelcase"],factory:function(e,t,n){var r,i=e("./converter").Converter,o=e("lodash.camelcase"),a=t.CamelCaseConverter=i.specialize({constructor:{value:function(){return this.constructor===a?(r||(r=this),r):this}},convert:{value:o}});Object.defineProperty(t,"singleton",{get:function(){return r||(r=new a),r}})}}),montageDefine("15c0bd3","core/converter/kebab-case-converter",{dependencies:["./converter","lodash.kebabcase"],factory:function(e,t,n){var r,i=e("./converter").Converter,o=e("lodash.kebabcase"),a=t.KebabCaseConverter=i.specialize({constructor:{value:function(){return this.constructor===a?(r||(r=this),r):this}},convert:{value:o}});Object.defineProperty(t,"singleton",{get:function(){return r||(r=new a),r}})}}),montageDefine("15c0bd3","core/shim/string",{dependencies:[],factory:function(e,t,n){String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e){return this.length>=e.length&&this.slice(0,e.length)===e},writable:!0,configurable:!0}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e){var t=this.length,n=e.length;return t>=n&&this.indexOf(e,t-n)!==-1},writable:!0,configurable:!0})}}),montageDefine("15c0bd3","core/extras/console",{dependencies:[],factory:function(e,t,n){"undefined"!=typeof window&&(document._montageTiming=document._montageTiming||{},document._montageTiming.loadStartTime=Date.now(),console._groupTime=Object.create(null),console.groupTime=function(e){var t=this._groupTime[e];t||(t={count:0,start:0,sum:0},this._groupTime[e]=t),t.start=performance.now()},console.groupTimeEnd=function(e){var t=performance.now(),n=this._groupTime[e],r=t-n.start;n.count=n.count+1,n.sum=n.sum+r},console.groupTimeAverage=function(e){var t=this._groupTime[e];return t.sum/t.count},console.groupTimeTotal=function(e){var t=this._groupTime[e];return t.sum},console.groupTimeCount=function(e){var t=this._groupTime[e];return t.count}),n.exports.console=global.console}}),montageDefine("15c0bd3","core/shim/object",{dependencies:[],factory:function(e,t,n){Object.create||(Object._creator=function r(){this.__proto__=r.prototype},Object.create=function(e,t){return this._creator.prototype=e||Object.prototype,new this._creator},Object.getPrototypeOf=function(e){return e.__proto__}),Object.isSealed||Object.defineProperty(Object,"isSealed",{value:function(){return!1},writable:!0,configurable:!0}),Object.seal||Object.defineProperty(Object,"seal",{value:function(e){return e},writable:!0,configurable:!0})}}),montageDefine("15c0bd3","core/shim/array",{dependencies:[],factory:function(e,t,n){Array.isArray||Object.defineProperty(Array,"isArray",{value:function(e){return"[object Array]"===Object.prototype.toString.call(e)},writable:!0,configurable:!0}),Object.defineProperty(Array.prototype,"compact",{value:function(){for(var e,t=-1,n=-1,r=this.length;++n<r;)this[n]!==e&&(this[++t]=this[n]);this.length=++t},writable:!0,configurable:!0}),Object.defineProperty(Array.prototype,"removeObjects",{value:function(e,t){var n,r,i=-1,o=-1,a=this.length,s=0;if(t=2!==arguments.length||t,"function"==typeof e.has)for(;++o<a;)e.has(this[o])?t&&e["delete"](this[o]):this[++i]=this[o];else if("function"==typeof e.hasOwnProperty)for(;++o<a;)e.hasOwnProperty(this[o])?t&&delete e[this[o]]:this[++i]=this[o];else if("function"==typeof e.indexOf){for(;++o<a;)(r=e.indexOf(this[o]))===-1?this[++i]=this[o]:(e[r]=n,s++);e.length===s?e.length=0:e.compact()}this.length=++i},writable:!0,configurable:!0})}}),montageDefine("15c0bd3","core/extras/object",{dependencies:["frb"],factory:function(e,t,n){Object.defineProperty(Object,"getPropertyDescriptor",{value:function(e,t){var n,r=e;do n=Object.getOwnPropertyDescriptor(r,t);while(!n&&(r=r.__proto__||Object.getPrototypeOf(r)));return n},writable:!0,configurable:!0}),Object.defineProperty(Object,"getPrototypeAndDescriptorDefiningProperty",{value:function(e,t){var n,r=e;if(t){do n=Object.getOwnPropertyDescriptor(r,t);while(!n&&(r=r.__proto__||Object.getPrototypeOf(r)));return{prototype:r,propertyDescriptor:n}}},writable:!0,configurable:!0}),Object.defineProperty(Object.prototype,"clear",{value:function(){for(var e=Object.keys(this),t=e.length;t;)t--,delete this[e[t]];return this},writable:!0,configurable:!0}),Object.hasOwnProperty("deleteBinding")===!1&&Object.defineProperty(Object,"deleteBinding",{value:function(t,n){var r=e("frb");r.cancelBinding(t,n)},writable:!0,configurable:!0})}}),montageDefine("15c0bd3","core/extras/date",{dependencies:[],factory:function(e,t,n){Object.defineProperty(Date.prototype,"clone",{value:function(){return new Date(this)},writable:!0,configurable:!0})}}),montageDefine("15c0bd3","core/extras/element",{dependencies:[],factory:function(e,t,n){"undefined"==typeof Element||Element.isElement||(Object.defineProperty(Element,"isElement",{value:function(e){return!(!e||1!==e.nodeType)},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"nativeSetAttribute",{value:Element.prototype.setAttribute,writable:!0,configurable:!0}))}}),montageDefine("15c0bd3","core/extras/function",{dependencies:["./object"],factory:function(e,t,n){e("./object"),Object.defineProperty(Function,"identity",{value:function(e){return e},writable:!0,configurable:!0}),Object.defineProperty(Function,"noop",{value:function(){},writable:!0,configurable:!0}),Object.defineProperty(Function,"by",{value:function(e,t){t=t||Object.compare,e=e||Function.identity;var n=function(n,r){return t(e(n),e(r))};return n.compare=t,n.by=e,n},writable:!0,configurable:!0})}}),montageDefine("15c0bd3","core/extras/regexp",{dependencies:[],factory:function(e,t,n){if(!RegExp.isRegExp){var r=Object.prototype.toString;Object.defineProperty(RegExp,"isRegExp",{value:function(e){return"[object RegExp]"===r.call(e)},writable:!0,configurable:!0})}}}),montageDefine("15c0bd3","core/extras/string",{dependencies:["collections/map"],factory:function(e,t,n){var r=e("collections/map");Object.defineProperty(String.prototype,"equals",{value:function(e){return this.valueOf()===Object.getValueOf(e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"contains",{value:function(e){return this.indexOf(e)!==-1},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"toCapitalized",{value:function i(){var e;return i.cache.get(String(this))||(i.cache.set(String(this),e=this[0].toUpperCase()+this.slice(1))?e:null)},writable:!0,configurable:!0}),String.prototype.toCapitalized.cache=new r}}),montageDefine("15c0bd3","core/event/mutable-event",{dependencies:["../core"],factory:function(e,t,n){var r=e("../core").Montage,i=function(e,t){return function(){return this.hasOwnProperty(t)?this[t]:this._event[e]}},o=function(e){return function(t){this[e]=t}};if("undefined"!=typeof window){var a={},s=function(e,t){var n="_"+t;r.defineProperty(e,n,{value:void 0}),r.defineProperty(e,t,{get:i(t,n),set:o(n)})};t.MutableEvent=r.specialize({_initPrototypeWithEvent:{value:function(e){var t,n=this.__proto__||Object.getPrototypeOf(this);for(t in e)t in this||Object.getOwnPropertyDescriptor(n,t)||s(this,t);return s(this,"replayed"),this}},_initWithEvent:{value:function(e){return this._event=e,this}},preventDefault:{value:function(){this._event.preventDefault()}},getPreventDefault:{value:function(){return this._event.getPreventDefault?this._event.getPreventDefault():this._event.defaultPrevented}},stopImmediatePropagation:{value:function(){this._event.stopImmediatePropagation(),this.propagationStopped=!0,this.immediatePropagationStopped=!0}},propagationStopped:{value:!1},immediatePropagationStopped:{value:!1},mutable:{value:!0},stopPropagation:{value:function(){this._event.stopPropagation(),this.propagationStopped=!0}},stop:{value:function(){this.preventDefault(),this.stopPropagation()}},_eventPhase:{value:void 0},eventPhase:{get:function(){return void 0!==this._eventPhase?this._eventPhase:this._event.eventPhase},set:function(e){this._eventPhase=e}},_target:{value:void 0},target:{get:function(){return void 0!==this._target?this._target:this._event.target},set:function(e){this._target=e}},_currentTarget:{value:void 0},currentTarget:{get:function(){return void 0!==this._currentTarget?this._currentTarget:this._event.currentTarget},set:function(e){this._currentTarget=e}},_type:{value:void 0},type:{get:function(){return void 0!==this._type?this._type:this._event.type},set:function(e){this._type=e}},_bubbles:{value:void 0},bubbles:{get:function(){return void 0!==this._bubbles?this._bubbles:this._event.bubbles},set:function(e){this._bubbles=e}},touches:{get:function(){return this._event.touches}},changedTouches:{get:function(){return this._event.changedTouches}},targetTouches:{get:function(){return this._event.targetTouches}},_defaultPrevented:{value:void 0},defaultPrevented:{get:function(){return void 0!==this._defaultPrevented?this._defaultPrevented:this._event.defaultPrevented},set:function(e){this._defaultPrevented=e}},_timeStamp:{value:void 0},timeStamp:{get:function(){return void 0!==this._timeStamp?this._timeStamp:this._event.timeStamp},set:function(e){this._timeStamp=e}}},{fromEvent:{value:function(e){var n,r=e.type,i=a[r];return i||(i=function(){},i.prototype=(new t.MutableEvent)._initPrototypeWithEvent(e),a[r]=i),n=new i,n._initWithEvent(e),n}},fromType:{value:function(e,t,n,r){return this.fromEvent(new CustomEvent(e,{bubbles:t,cancelable:n,detail:r}))}}})}}}),montageDefine("15c0bd3","core/serialization/serializer/montage-serializer",{dependencies:["../../core","./montage-malker","./montage-builder","./montage-labeler","./montage-visitor","../../logger"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("./montage-malker").MontageWalker,o=e("./montage-builder").MontageBuilder,a=e("./montage-labeler").MontageLabeler,s=e("./montage-visitor").MontageVisitor,l=(e("../../logger").logger("montage-serializer"),r.specialize({_require:{value:null},_visitor:{value:null},_labeler:{value:null},_builder:{value:null},_serializationIndentation:{value:2},_malker:{value:null},legacyMode:{value:!1},constructor:{value:function(e){this.legacyMode=!!e}},initWithRequire:{value:function(e){return this._require=e,this._builder=new o,this._labeler=new a,this._visitor=(new s).initWithBuilderAndLabelerAndRequireAndUnits(this._builder,this._labeler,this._require,this.constructor._units),this._malker=new i(this._visitor,this.legacyMode),this}},getExternalObjects:{value:function(){return this._visitor.getExternalObjects()}},getExternalElements:{value:function(){return this._visitor.getExternalElements()}},setSerializationIndentation:{value:function(e){this._serializationIndentation=e}},serialize:{value:function(e){var t;this._labeler.initWithObjects(e);for(var n in e)Object.hasOwnProperty.call(e,n)&&this._malker.visit(e[n]);return t=this._formatSerialization(this._builder.getSerialization(this._serializationIndentation))}},serializeObject:{value:function(e){return this.serialize({root:e})}},_formatSerializationBindingsRegExp:{value:/\{\s*("(?:<->?)")\s*:\s*("[^"]+"\s*(?:,\s*"converter"\s*:\s*\{\s*"@"\s*:\s*"[^"]+"\s*\}\s*|,\s*"deferred"\s*:\s*(true|false)\s*)*)\}/gi},_formatSerializationBindingsReplacer:{value:function(e,t,n){return"{"+t+": "+n.replace(/\n\s*/g,"").replace(/,\s*/g,", ")+"}"}},_formatSerializationBindings:{value:function(e){return e.replace(this._formatSerializationBindingsRegExp,this._formatSerializationBindingsReplacer)}},_formatSerializationReferencesRegExp:{value:/\{\s*("[#@]")\s*:\s*("[^"]+")\s*\}/gi},_formatSerializationReferences:{value:function(e){return e.replace(this._formatSerializationReferencesRegExp,"{$1: $2}");
}},_formatSerialization:{value:function(e){return this._formatSerializationBindings(this._formatSerializationReferences(e))}}},{_units:{value:Object.create(null)},defineSerializationUnit:{value:function(e,t){this._units[e]=t}},_toCamelCaseRegExp:{value:/(?:^|-)([^-])/g},_replaceToCamelCase:{value:function(e,t){return t.toUpperCase()}},_findObjectNameRegExp:{value:/([^\/]+?)(\.reel)?$/},getDefaultObjectNameForModuleId:{value:function(e){return this._findObjectNameRegExp.test(e),RegExp.$1.replace(this._toCamelCaseRegExp,this._replaceToCamelCase)}}}));t.MontageSerializer=l,t.serialize=function(e,t,n){return new l(n).initWithRequire(t).serializeObject(e)}}}),montageDefine("15c0bd3","core/serialization/deserializer/montage-deserializer",{dependencies:["../../core","./montage-interpreter","./montage-reviver","collections/map","../../deprecate"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("./montage-interpreter").MontageContext,o=e("./montage-reviver").MontageReviver,a=e("collections/map").Map,s=e("../../deprecate"),l=t.MontageDeserializer=r.specialize({_serializationString:{value:null},_serialization:{value:null},serialization:{value:{get:function(){return this._serialization}}},init:{value:function(e,t,n,r){return"string"==typeof e?this._serializationString=e:this._serializationString=JSON.stringify(e),this._require=t,this._locationId=r,this._reviver=(new o).init(t,n,this.constructor),this}},deserialize:{value:function(e,t){var n=this._locationId&&l.moduleContexts.get(this._locationId);if(n)return n._objects.root?Promise.resolve(n._objects):Promise.reject(new Error('Unable to deserialize because a circular dependency was detected. Module "'+this._locationId+'" has already been loaded but its root could not be resolved.'));try{var r=JSON.parse(this._serializationString);return n=(new i).init(r,this._reviver,e,t,this._require),this._locationId&&l.moduleContexts.set(this._locationId,n),n.getObjects()}catch(o){return this._formatSerializationSyntaxError(this._serializationString)}}},deserializeObject:{value:function(e){return this.deserialize(e).then(function(e){return e.root})}},preloadModules:{value:function(){var e,t,n,r,i,a,s,l=JSON.parse(this._serializationString),c=this._reviver,u=c.moduleLoader,f=[];if(null!==l)for(t=Object.keys(l),e=0;n=t[e];++e)if(r=l[n],i=r.prototype||r.object){if("string"!=typeof i)throw new Error("Property 'object' of the object with the label '"+n+"' must be a module id");a=o.parseObjectLocationId(i),s=u.getModule(a.moduleId,n),Promise.is(s)&&f.push(s)}if(f.length>0)return Promise.all(f)}},getExternalObjectLabels:{value:function(){var e=this._serialization,t=[];for(var n in e)0===Object.keys(e[n]).length&&t.push(n);return t}},_formatSerializationSyntaxError:{value:function(t){var n,r,i,o,a,s="   ",l=this._origin;return e.async("jshint/dist/jshint").then(function(e){if(e.JSHINT(t))n="Syntax error in the serialization but not able to find it!\n"+t;else{r=e.JSHINT.errors[0],i=t.split("\n"),o=(s+i.length).length,a=r.line-1;for(var c=0,u=i.length;c<u;c++)i[c]=new Array(o-(c+1+"").length+1).join(c===a?">":" ")+(c+1)+" "+i[c];n="Syntax error at line "+r.line+(l?" from "+l:"")+":\n"+r.evidence+"\n"+r.reason+"\n"+i.join("\n")}throw new Error(n)})}},initWithObject:{value:s.deprecateMethod(void 0,function(e,t,n,r,i){return this.init(e,t,n,r,i)},"initWithObject","init")},initWithObjectAndRequire:{value:s.deprecateMethod(void 0,function(e,t,n){return this.init(e,t,n)},"initWithObjectAndRequire","init")}},{getModuleRequire:{value:function(e,t){for(var n=e.resolve(t),r=e.getModuleDescriptor(n);r.redirect||r.mappingRedirect;)r.redirect?n=r.redirect:(e=r.mappingRequire,n=r.mappingRedirect),r=e.getModuleDescriptor(n);return r.require}},_cache:{value:null},moduleContexts:{get:function(){return this._cache||(this._cache=new a),this._cache}}});l.defineDeserializationUnit=function(e,t){o.defineUnitReviver(e,t)},t.deserialize=function(e,t){return(new l).init(e,t).deserializeObject()}}}),montageDefine("15c0bd3","core/environment",{dependencies:["./core"],factory:function(e,t,n){var r=e("./core").Montage,i="trident",o="msie",a="unknown",s="crios",l="fxios",c="cros",u="opr",f=t.Environment=r.specialize({constructor:{value:function(e){this.userAgent=e?e:global.navigator?global.navigator.userAgent:""}},_userAgent:{value:null},userAgent:{set:function(e){e=e.toLowerCase(),e!==this._userAgent&&(this._userAgent=e)},get:function(){return this._userAgent}},_device:{value:null},device:{get:function(){if(!this._device){var e=this.userAgent.match(/iphone|ipod|ipad/i);e&&e.length?this._device=e[0]:this._device=a}return this._device}},_supportsPointerEvents:{value:null},supportsPointerEvents:{get:function(){return"boolean"!=typeof this._supportsPointerEvents?this._supportsPointerEvents=!!(global.PointerEvent||global.MSPointerEvent&&global.navigator.msPointerEnabled):this._supportsPointerEvents}},_isIOSDevice:{value:null},isIOSDevice:{get:function(){return"boolean"!=typeof this._isIOSDevice?this._isIOSDevice=/iphone|ipad|ipod/.test(this.device):this._isIOSDevice}},_isAndroidDevice:{value:null},isAndroidDevice:{get:function(){return"boolean"!=typeof this._isAndroidDevice?this._isAndroidDevice=this.platformName===f.Platform.ANDROID:this._isAndroidDevice}},isCordova:{value:!!global.cordova},_isMobileDevice:{value:null},isMobileDevice:{get:function(){return"boolean"!=typeof this._isMobileDevice?this._isMobileDevice=/mobile/gi.test(this.userAgent):this._isMobileDevice}},isAndroidTablet:{get:function(){return this.isAndroidDevice&&!this.isMobileDevice}},_isStandalone:{value:null},isStandalone:{get:function(){return"boolean"!=typeof this._isStandalone?this._isStandalone=!!("standalone"in navigator&&navigator.standalone):this._isStandalone}},_platformName:{value:null},platformName:{get:function(){if("string"!=typeof this._platformName){var e=this.userAgent.match(/android|windows\sphone|windows|macintosh|linux|cros/gi);if(e&&e.length){var t=e[0];t===f.Platform.LINUX&&e[1]===f.Platform.ANDROID?t=f.Platform.ANDROID:t===c&&(t=f.Platform.CHROME_OS),this._platformName=t}else this.isIOSDevice?this._platformName=f.Platform.IOS:this._platformName=a}return this._platformName}},_browserVersion:{value:null},browserVersion:{get:function(){return"string"!=typeof this._browserVersion&&this._analyzeBrowser(),this._browserVersion}},_browserName:{value:null},browserName:{get:function(){return"string"!=typeof this._browserName&&this._analyzeBrowser(),this._browserName}},_isWKWebView:{value:null},isWKWebView:{get:function(){return"boolean"!=typeof this._isWKWebView?this._isWKWebView=this.isIOSDevice&&!!global.indexedDB:this._isWKWebView}},_isUIWebView:{value:null},isUIWebView:{get:function(){return"boolean"!=typeof this._isUIWebView?this._isUIWebView=!this.isWKWebView:this._isUIWebView}},_analyzeBrowser:{value:function(){var e,t=this.userAgent,n="",r="";e=t.indexOf(u)>-1?t.match(/(opr(?=\/))\/?\s*([\d+\.?]+)/i):t.indexOf(f.Browser.EDGE)>-1?t.match(/(edge(?=\/))\/?\s*([\d+\.?]+)/i):t.match(/(opera|chrome|safari|firefox|msie|trident|crios|fxios(?=\/))\/?\s*([\d+\.?]+)/i),e&&e.length>1&&(n=e[1],n===f.Browser.SAFARI?r=t.match(/version\/([\d+\.?]+)/i)[1]:n===f.Browser.CHROME||n===f.Browser.FIREFOX||n===l||n===o||n===f.Browser.OPERA||n===s||n===f.Browser.EDGE?r=e[2]:n===i&&(e=/\brv[ :]+(\d+)/g.exec(t),r=e&&e.length>1?e[1]:""),n===i||n===o?n=f.Browser.IE:n===u?n=f.Browser.OPERA:n===s?n=f.Browser.CHROME:n===l&&(n=f.Browser.FIREFOX)),this._browserName=n,this._browserVersion=r}}},{Device:{value:{IPHONE:"iphone",IPAD:"ipad",IPOD:"ipod"}},Platform:{value:{IOS:"ios",ANDROID:"android",WINDOWS_PHONE:"windows phone",MACINTOSH:"macintosh",WINDOWS:"windows",LINUX:"linux",CHROME_OS:"chrome os"}},Browser:{value:{SAFARI:"safari",FIREFOX:"firefox",CHROME:"chrome",OPERA:"opera",IE:"ie",EDGE:"edge"}}});t.currentEnvironment=new f}}),montageDefine("15c0bd3","core/converter/converter",{dependencies:["../core"],factory:function(e,t,n){var r=e("../core"),i=r.Montage,o=r._objectDescriptorModuleIdDescriptor,a=r._objectDescriptorDescriptor,s="[object Number]",l=Object.prototype.toString,c=function(e){return l.call(e)===s};t.isNumber=c;var u=function(e){return e&&"undefined"!=typeof e};t.isDef=u,t.Validator=i.specialize({validate:{value:null}}),t.Converter=i.specialize({allowPartialConversion:{value:!0},convert:{enumerable:!1,value:null},revert:{enumerable:!1,value:null}},{objectDescriptorModuleId:o,objectDescriptor:a})}}),montageDefine("15c0bd3","core/serialization/serializer/montage-malker",{dependencies:["../../core"],factory:function(e,t,n){var r=e("../../core").Montage,i=t.MontageWalker=r.specialize({_visitHandler:{value:null},_enteredObjects:{value:null},legacyMode:{value:!1},constructor:{value:function(e,t){this._visitHandler=e,this.legacyMode=!!t,this._enteredObjects={}}},_isObjectEntered:{value:function(e){return Object.hash(e)in this._enteredObjects}},_markObjectAsEntered:{value:function(e){this._enteredObjects[Object.hash(e)]=!0}},visit:{value:function(e,t){this._visitValue(e,t)},enumerable:!0},_getTypeOf:{value:function(e){return Array.isArray(e)?"array":RegExp.isRegExp(e)?"regexp":null===e?"null":"object"==typeof e||"function"==typeof e?this._getObjectType(e):typeof e}},_getObjectType:{value:function(e){var t,n=this._visitHandler;return"function"==typeof n.getTypeOf&&(t=n.getTypeOf(e)),"undefined"==typeof t?typeof e:t}},_visitValue:{value:function(e,t){var n=this._getTypeOf(e);"object"===n?this._visitObject(e,t):"array"===n?this._visitArray(e,t):"regexp"===n?this._visitRegExp(e,t):"number"===n?this._visitNumber(e,t):"string"===n?this._visitString(e,t):"boolean"===n?this._visitBoolean(e,t):"null"===n?this._visitNull(t):"undefined"===n?this._visitUndefined(t):this._visitCustomType(n,e,t)}},_visitCustomType:{value:function(e,t,n){this._callVisitorMethod("visit"+e,t,n)}},_enterCustomObject:{value:function(e,t,n){this._callVisitorMethod("enter"+e,t,n),this._callVisitorMethod("exit"+e,t,n)}},_visitObject:{value:function(e,t){var n;this._isObjectEntered(e)?this._callVisitorMethod("visitObject",e,t):(n=this._callVisitorMethod("willEnterObject",e,t),n!==!1&&(this._markObjectAsEntered(e),this._enterObject(e,t)))}},_enterObject:{value:function(e,t){var n,r=Object.keys(e);this._callVisitorMethod("enterObject",e,t);for(var i=0,o=r.length;i<o;i++)n=r[i],this._visitValue(e[n],n);this._callVisitorMethod("exitObject",e,t)}},_visitArray:{value:function(e,t){var n;this._isObjectEntered(e)?this._callVisitorMethod("visitArray",e,t):(n=this._callVisitorMethod("willEnterArray",e,t),n!==!1&&(this._markObjectAsEntered(e),this._enterArray(e,t)))}},_enterArray:{value:function(e,t){this._callVisitorMethod("enterArray",e,t);for(var n=0,r=e.length;n<r;n++)this._visitValue(e[n],""+n);this._callVisitorMethod("exitArray",e,t)}},_visitRegExp:{value:function(e,t){this._callVisitorMethod("visitRegExp",e,t)}},_visitString:{value:function(e,t){this._callVisitorMethod("visitString",e,t)}},_visitNumber:{value:function(e,t){this._callVisitorMethod("visitNumber",e,t)}},_visitBoolean:{value:function(e,t){this._callVisitorMethod("visitBoolean",e,t)}},_visitNull:{value:function(e){this._callVisitorMethod("visitNull",e)}},_visitUndefined:{value:function(e){this._callVisitorMethod("visitUndefined",e)}},_callVisitorMethod:{value:function(e){var t,n=this._visitHandler;if("function"==typeof n[e])return t=Array.prototype.slice.call(arguments,1),t.unshift(this),n[e].apply(n,t)}}});t.visit=function(e,t,n){var r=new i(t,n);r.visit(e)}}}),montageDefine("15c0bd3","core/serialization/serializer/montage-builder",{dependencies:["../../core","./montage-ast"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("./montage-ast"),o=r.specialize({_root:{value:null},_stack:{value:null},_references:{value:null},_placeholderProperty:{value:Object.create(null)},constructor:{value:function(){this.init()}},createElementReference:{value:function(e){return(new i.ElementReference).initWithRootAndId(this._root,e)}},createModuleReference:{value:function(e){return(new i.ModuleReference).initWithRootAndModuleId(this._root,e)}},init:{value:function(){return this._references=Object.create(null),this._root=new i.Root,this._stack=[this._root],this}},cleanup:{value:function(){this._references=null,this._root=null,this._stack=null}},getExternalReferences:{value:function(e,t){var n=this._references,r=this._root,i=[];for(var o in n)r.hasProperty(o)&&r.getProperty(o)!==this._placeholderProperty||i.push(o);return i}},relabelReferences:{value:function(e,t){var n=this._references[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;r++)n[r].value=t}}},_registerReference:{value:function(e){var t=this._references,n=e.value;t[n]?t[n].push(e):t[n]=[e]}},_unregisterReference:{value:function(e){var t,n=e.label,r=this._references[n];if(1===r.length)delete this._references[n];else{if(t=r.indexOf(e),t===-1)throw new Error("Reference '"+n+"' not found in registry.");r.splice(t,1)}}},_createPlaceholdersForReferences:{value:function(){var e=this._references,t=this._root;for(var n in e)Object.hasOwnProperty.call(e,n)&&(t.hasProperty(n)||t.setProperty(n,this._placeholderProperty))}},getSerialization:{value:function(e){return this._createPlaceholdersForReferences(),this._root.serialize(e)}},root:{get:function(){return this._root}},top:{get:function(){return this._stack[0]}},push:{value:function(e){return this._stack.unshift(e)}},pop:{value:function(){return this._stack.shift()}},createObjectLiteral:{value:function(){return new i.ObjectLiteral(this._root,Object.create(null))}},createArray:{value:function(){return new i.ObjectLiteral(this._root,[])}},createObjectReference:{value:function(e){var t=new i.ObjectReference(this._root,e);return this._registerReference(t),t}},createRegExp:{value:function(e){return new i.RegExpObject(this._root,e)}},createString:{value:function(e){return new i.Value(this._root,e)}},createNumber:{value:function(e){return new i.Value(this._root,e)}},createBoolean:{value:function(e){return new i.Value(this._root,e)}},createNull:{value:function(e){return new i.Value(this._root,null)}},createCustomObject:{value:function(){return new i.CustomObject(this._root)}}});t.MontageBuilder=o}}),montageDefine("15c0bd3","core/serialization/serializer/montage-labeler",{dependencies:["../../core"],factory:function(e,t,n){var r=e("../../core").Montage;t.MontageLabeler=r.specialize({_labelRegexp:{value:/^[a-zA-Z_$][0-9a-zA-Z_$]*$/},_labels:{value:null},_objectsLabels:{value:null},_objects:{value:null},_INITIAL_LABEL_NUMBER:{value:2},_baseNamesIndex:{value:null},_userDefinedLabels:{value:null},constructor:{value:function(){this._labels=Object.create(null),this._objectsLabels=Object.create(null),this._objects=Object.create(null),this._baseNamesIndex=Object.create(null),this._userDefinedLabels=Object.create(null)}},getTemplatePropertyLabel:{value:function(e){var t=this._getObjectLabel(e);if(":"!==t[0])throw new Error("Template property's labels need to start with a colon (:), (\""+t+'").');return t}},_getObjectLabel:{value:function(e){var t,n=Object.hash(e);return n in this._objectsLabels?Object.hasOwnProperty.call(this._objectsLabels,n)&&(t=this._objectsLabels[n]):(t=this.generateObjectLabel(e),this.setObjectLabel(e,t)),t}},getObjectLabel:{value:function(e){var t=this._getObjectLabel(e);if(":"===t[0])throw new Error('Labels starting with colon (:) can only be used for template values, ("'+t+'").');return t}},getObjectName:{value:function(e){var t,n=e.identifier;return n&&this._labelRegexp.test(n)?t=e.identifier:e&&"object"==typeof e&&"getInfoForObject"in e||"getInfoForObject"in e.constructor?(t=r.getInfoForObject(e).objectName,t=t.toLowerCase()):t=Array.isArray(e)?"array":RegExp.isRegExp(e)?"regexp":typeof e,t}},initWithObjects:{value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.setObjectLabel(e[t],t),this._userDefinedLabels[t]=!0)}},cleanup:{value:function(){this._labels=null,this._objectsLabels=null,this._objects=null,this._baseNamesIndex=null,this._userDefinedLabels=null}},generateLabel:{value:function(e){var t,n=this._baseNamesIndex[e];do n?(t=e+n,this._baseNamesIndex[e]=n+=1):(t=e,this._baseNamesIndex[e]=n=this._INITIAL_LABEL_NUMBER);while(t in this._labels);return t}},getLabelBaseName:{value:function(e){return e.replace(/\d*$/,"")}},addLabel:{value:function(e){this._labels[e]=!0}},addLabels:{value:function(e){for(var t=0,n=e.length;t<n;t++)this.addLabel(e[t])}},isLabelDefined:{value:function(e){return e in this._labels}},isUserDefinedLabel:{value:function(e){return e in this._userDefinedLabels}},generateObjectLabel:{value:function(e){var t=this.getObjectName(e);return this.generateLabel(t)}},setObjectLabel:{value:function(e,t){if("undefined"!=typeof e){var n=Object.hash(e);this.addLabel(t),this._objectsLabels[n]=t,this._objects[t]=e}}},getObjectByLabel:{value:function(e){return this._objects[e]}}})}}),montageDefine("15c0bd3","core/serialization/serializer/montage-visitor",{dependencies:["../../core","./montage-serializer","./values-serializer","./self-serializer","./unit-serializer","../alias","../bindings","../../deprecate"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("./montage-serializer"),o=e("./values-serializer").ValuesSerializer,a=e("./self-serializer").SelfSerializer,s=e("./unit-serializer").UnitSerializer,l=e("../alias").Alias,c=e("../bindings"),u=e("../../deprecate"),f=r.specialize({_MONTAGE_ID_ATTRIBUTE:{value:"data-montage-id"},_require:{value:null},_units:{value:null},_elements:{value:null},builder:{value:null},labeler:{value:null},_objectsSerialization:{value:null},initWithBuilderAndLabelerAndRequireAndUnits:{value:function(e,t,n,r){return this.builder=e,this.labeler=t,this._objectsSerialization=Object.create(null),this._require=n,this._units=r,this._elements=[],this}},getTypeOf:{value:function(e){return e.isModuleReference?"Module":e instanceof l?"Alias":"getInfoForObject"in e||"getInfoForObject"in e.constructor?"MontageObject":e.thisIsAReferenceCreatedByMontageSerializer?"MontageReference":"undefined"!=typeof Element&&Element.isElement(e)?"Element":void 0}},visitMontageReference:{value:function(e,t,n){this.builder.top.setProperty(n,t.reference)}},visitElement:{value:function(e,t,n){var r,i;if(i=t.getAttribute(this._MONTAGE_ID_ATTRIBUTE),!i)throw new Error("Not possible to serialize a DOM element with no "+this._MONTAGE_ID_ATTRIBUTE+" assigned: "+t.outerHTML);r=this.builder.createElementReference(i),this.storeValue(r,t,n),this._elements.push(t)}},visitModule:{value:function(e,t,n){var r,i;try{i=t.resolve(this._require)}catch(o){throw new Error("Not possible to serialize module reference "+t.id+" from package "+t.require.location+" inside package "+this._require.location)}r=this.builder.createModuleReference(i),this.storeValue(r,t,n)}},visitAlias:{value:function(e,t){var n=this.labeler.getTemplatePropertyLabel(t),r=this.builder.createCustomObject();r.setProperty("alias",t.value),this.builder.top.setProperty(n,r)}},visitMontageObject:{value:function(e,t,n){this.isObjectSerialized(t)?this.serializeReferenceToMontageObject(e,t,n):this.handleMontageObject(e,t,n)}},handleMontageObject:{value:function(e,t,n){var r,i=this.builder.createCustomObject();this.setObjectSerialization(t,i),r=this.serializeMontageObject(e,t,i),r?this.serializeSubstituteObject(e,t,n,i,r):(i.setLabel(this.labeler.getObjectLabel(t)),this.builder.top.setProperty(n,i))}},serializeReferenceToMontageObject:{value:function(e,t,n){var r=this.labeler.getObjectLabel(t),i=this.builder.createObjectReference(r);this.builder.top.setProperty(n,i)}},serializeSubstituteObject:{value:function(e,t,n,r,i){var o,a,s,l;o=this.labeler.getObjectLabel(t),this.labeler.isUserDefinedLabel(o)?(a=this.labeler.getObjectLabel(i),this.labeler.setObjectLabel(i,o),this.builder.relabelReferences(a,o),l=this.getObjectSerialization(i),l&&(l.setLabel(o),this.labeler.isUserDefinedLabel(a)&&this.builder.createObjectReference(o).setLabel(a)),e.visit(i,n)):(e.visit(i,n),s=this.labeler.getObjectLabel(i),this.labeler.setObjectLabel(t,s),this.builder.relabelReferences(o,s))}},serializeMontageObject:{value:function(e,t,n){var r,i,o=this.builder.createObjectLiteral();return this.setObjectType(t,n),n.setProperty("values",o),this.builder.push(n),"function"==typeof t.serializeSelf?(r=(new a).initWithMalkerAndVisitorAndObject(e,this,t,n),i=t.serializeSelf(r)):(this.setObjectValues(e,t),this.setObjectBindings(e,t),this.setObjectCustomUnits(e,t)),this.builder.pop(),0===o.getPropertyNames().length&&n.clearProperty("values"),i}},setObjectType:{value:function(e,t){var n=r.getInfoForObject(e).isInstance,i=this.getObjectLocationId(e),o=this.builder.createString(i);n?t.setProperty("prototype",o):t.setProperty("object",o)}},getObjectModuleId:{value:function(e){var t=r.getInfoForObject(e);return this._require.identify(t.moduleId,t.require)}},getObjectLocationId:{value:function(e){var t,n=this.getObjectModuleId(e),o=r.getInfoForObject(e),a=o.objectName;return t=i.MontageSerializer.getDefaultObjectNameForModuleId(n),t===a?n:n+"["+a+"]"}},setObjectBindings:{value:function(e,t){if(!e.legacyMode){var n=(new s).initWithMalkerAndVisitorAndObject(e,this,t),r=c.serializeObjectBindings(n,t);if(r){var i=this.builder.top.getProperty("values");this.builder.push(i);for(var o in r)this.builder.top.setProperty(o,r[o]);this.builder.pop()}}}},setObjectProperties:{value:u.deprecateMethod(void 0,function(e,t){return this.setObjectValues(e,t)},"setObjectProperties","setObjectValues")},setObjectValues:{value:function(e,t){var n,r=this.builder.top.getProperty("values");this.builder.push(r),"function"==typeof t.serializeProperties||"function"==typeof t.serializeValues?(n=(new o).initWithMalkerAndVisitorAndObject(e,this,t),t.serializeValues?t.serializeValues(n):t.serializeProperties(n)):this.setSerializableObjectValues(e,t),this.builder.pop()}},setSerializableObjectProperties:{value:u.deprecateMethod(void 0,function(e,t){return this.setSerializableObjectValues(e,t)},"setSerializableObjectProperties","setSerializableObjectValues")},setSerializableObjectValues:{value:function(e,t){for(var n,i,o=r.getSerializablePropertyNames(t),a=o.length,s=0;s<a;s++)i=o[s],n=r.getPropertyAttribute(t,i,"serializable"),this.setProperty(e,i,t[i],n)}},hackIsReferenceAllowedForValue:{value:function(e){return"object"==typeof e&&null!==e&&void 0!==e&&!("undefined"!=typeof Element&&Element.isElement(e))}},setProperty:{value:function(e,t,n,r){var i;if("reference"===r&&this.hackIsReferenceAllowedForValue(n)){i=this.labeler.getObjectLabel(n);var o=this.builder.createObjectReference(i);this.builder.top.setProperty(t,o)}else e.visit(n,t)}},setObjectCustomUnits:{value:function(e,t){for(var n in this._units)if(Object.hasOwnProperty.call(this._units,n)){if("bindings"===n&&!e.legacyMode)continue;this.setObjectCustomUnit(e,t,n)}}},setObjectCustomUnit:{value:function(e,t,n){var r,i,o=this._units[n];o&&(i=(new s).initWithMalkerAndVisitorAndObject(e,this,t),r=o(i,t),null!==r&&void 0!==r&&e.visit(r,n))}},getExternalObjects:{value:function(){for(var e,t={},n=this.builder.getExternalReferences(),r=0;e=n[r];r++)t[e]=this.labeler.getObjectByLabel(e);return t}},getExternalElements:{value:function(){return this._elements}},getCustomObjectTypeOf:{value:function(){},writable:!0},isCustomObject:{value:function(e){var t=this.getCustomObjectTypeOf(e);return"string"==typeof t}},setObjectSerialization:{value:function(e,t){this._objectsSerialization[Object.hash(e)]=t}},getObjectSerialization:{value:function(e){return this._objectsSerialization[Object.hash(e)]}},isObjectSerialized:{value:function(e){return Object.hash(e)in this._objectsSerialization}},enterObject:{value:function(e,t,n){var r=this.builder.createObjectLiteral();this.setObjectSerialization(t,r),this.builder.push(r)}},exitObject:{value:function(e,t,n){this.storeValue(this.builder.pop(),t,n)}},visitObject:{value:function(e,t,n){var r=this.labeler.getObjectLabel(t),i=this.builder.createObjectReference(r);this.getObjectSerialization(t).setLabel(r),this.builder.top.setProperty(n,i)}},enterArray:{value:function(e,t,n){var r=this.builder.createArray();this.setObjectSerialization(t,r),this.builder.push(r)}},exitArray:{value:function(e,t,n){this.storeValue(this.builder.pop(),t,n)}},visitArray:{value:function(e,t,n){var r=this.labeler.getObjectLabel(t),i=this.builder.createObjectReference(r);this.getObjectSerialization(t).setLabel(r),this.builder.top.setProperty(n,i)}},visitRegExp:{value:function(e,t,n){this.storeValue(this.builder.createRegExp(t),t,n)}},visitString:{value:function(e,t,n){this.storeValue(this.builder.createString(t),t,n)}},visitNumber:{value:function(e,t,n){this.storeValue(this.builder.createNumber(t),t,n)}},visitBoolean:{value:function(e,t,n){this.storeValue(this.builder.createBoolean(t),t,n)}},visitNull:{value:function(e,t){this.storeValue(this.builder.createNull(),null,t)}},visitCustomObject:{value:function(e,t,n){var r=this.getCustomObjectTypeOf(t),i=f.customObjectVisitors["visit"+r];if(r)return i.call(global,e,this,t,n);throw new Error("Object's type is unknown: "+t)}},storeValue:{value:function(e,t,n){"undefined"==typeof n?e.setLabel(this.labeler.getObjectLabel(t)):this.builder.top.setProperty(n,e)}}},{customObjectVisitors:{value:Object.create(null)},makeGetCustomObjectTypeOf:{value:function(e){var t=this.prototype.getCustomObjectTypeOf;return function(n){return e(n)||t(n)}}},addCustomObjectVisitor:{value:function(e){var t=this.customObjectVisitors;for(var n in e)if(Object.hasOwnProperty.call(e,n)){if("getTypeOf"===n)continue;if("function"==typeof e[n]&&"visit"===n.substr(0,5)){if("undefined"!=typeof t[n])return new Error("Visitor '"+n+"' is already registered.");t[n]=e[n].bind(e)}}this.prototype.getCustomObjectTypeOf=this.makeGetCustomObjectTypeOf(e.getTypeOf)}},resetCustomObjectVisitors:{value:function(){this.customObjectVisitors=Object.create(null),this.prototype.getCustomObjectTypeOf=function(){}}}});t.MontageVisitor=f}}),montageDefine("15c0bd3","core/serialization/deserializer/montage-interpreter",{dependencies:["../../core","./montage-reviver","../../promise","../../deprecate"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("./montage-reviver").MontageReviver,o=e("../../promise").Promise,a=e("../../deprecate"),s="=",l="<-",c="<->",u=r.specialize({_require:{value:null},_reviver:{value:null},init:{value:function(e,t){if(a.deprecationWarningOnce("MontageInterpreter","MontageDeserializer"),"function"!=typeof e)throw new Error("Function 'require' missing.");return this._reviver=t,this._require=e,this}},instantiate:{value:function(e,n,r){var i;return i=(new t.MontageContext).init(e,this._reviver,n,r,this._require),i.getObjects()}},preloadModules:{value:function(e){var t,n,r,a,s=this._reviver,l=s.moduleLoader,c=[];for(var u in e)if(e.hasOwnProperty(u)&&(t=e[u],n=t.prototype||t.object)){if("string"!=typeof n)throw new Error("Property 'object' of the object with the label '"+u+"' must be a module id");r=i.parseObjectLocationId(n),a=l.getModule(r.moduleId,u),o.is(a)&&c.push(a)}if(c.length>0)return o.all(c)}}}),f=r.specialize({_ELEMENT_ID_ATTRIBUTE:{value:"data-montage-id"},_unitsToDeserialize:{value:null},_element:{value:null},_require:{value:null},_objects:{value:null},_userObjects:{value:null},_serialization:{value:null},_reviver:{value:null},_bindingsToDeserialize:{value:null},constructor:{value:function(){this._unitsToDeserialize=[]}},init:{value:function(e,t,n,r,i){if(this._reviver=t,this._serialization=e,this._objects=Object.create(null),n){this._userObjects=Object.create(null);for(var o in n)this._userObjects[o]=n[o]}return this._element=r,this._require=i,this}},setObjectLabel:{value:function(e,t){this._objects[t]=e}},getObject:{value:function(e){var t,n=this._serialization,r=this._reviver,i=this._objects;return e in i?i[e]:e in n?(t=r.reviveRootObject(n[e],this,e),e in i||(i[e]=t),t):o.reject(new Error("Object with label '"+e+"' was not found."))}},getObjects:{value:function(){var e,t=this,n=this._serialization,r=[];for(var i in n)n.hasOwnProperty(i)&&(e=this.getObject(i),o.is(e)&&r.push(e));return 0===r.length?o.resolve(this._invokeDidReviveObjects()):o.all(r).then(function(){return t._invokeDidReviveObjects()})}},hasUserObject:{value:function(e){var t=this._userObjects;return!!t&&e in t}},getUserObject:{value:function(e){var t=this._userObjects;if(t)return t[e]}},_invokeDidReviveObjects:{value:function(){var e,t=this,n=this._reviver;return"function"==typeof n.didReviveObjects&&(e=n.didReviveObjects(this._objects,this),o.is(e))?e.then(function(){return t._objects}):this._objects}},hasObject:{value:function(e){return e in this._serialization}},getRequire:{value:function(){return this._require}},getElement:{value:function(){return this._element}},getElementById:{value:function(e){var t="*["+this._ELEMENT_ID_ATTRIBUTE+'="'+e+'"]';return this._element.querySelector(t)}},_extractBindingsToDeserialize:{value:function(e,t){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],("object"==typeof n&&n&&1===Object.keys(n).length&&(l in n||c in n||s in n)||r.indexOf(".")>-1)&&(t[r]=n,delete e[r]));return t}},getBindingsToDeserialize:{value:function(){return this._bindingsToDeserialize}},setBindingsToDeserialize:{value:function(e,t){var n=Object.create(null);t.values?this._extractBindingsToDeserialize(t.values,n):t.properties&&this._extractBindingsToDeserialize(t.properties,n),Object.keys(n).length>0&&(this._bindingsToDeserialize||(this._bindingsToDeserialize=[]),this._bindingsToDeserialize.push({object:e,bindings:n}))}},setUnitsToDeserialize:{value:function(e,t,n){this._unitsToDeserialize.push({object:e,objectDesc:t,unitNames:n})}},getUnitsToDeserialize:{value:function(){return this._unitsToDeserialize}}});t.MontageInterpreter=u,t.MontageContext=f}}),montageDefine("15c0bd3","core/serialization/serializer/montage-ast",{dependencies:["../../core"],factory:function(e,t,n){var r=e("../../core").Montage,i=(t.Root=r.specialize({constructor:{value:function(){this.object=Object.create(null)}},object:{value:null},setProperty:{value:function(e,t){null!==e&&void 0!==e&&(this.object[e]=t)}},getProperty:{value:function(e){return this.object[e]}},clearProperty:{value:function(e){delete this.object[e]}},hasProperty:{value:function(e){return e in this.object}},serialize:{value:function(e){return JSON.stringify(this,null,e)}},toJSON:{value:function(){var e,t=Object.create(null);for(var n in this.object)Object.hasOwnProperty.call(this.object,n)&&(e=this.object[n],e.toJSON?t[n]=e.toJSON(n,1):t[n]=e);return t}}}),t.Value=r.specialize({root:{value:null},label:{value:null},value:{value:null},constructor:{value:function(e,t){this.root=e,this.value=t}},setLabel:{value:function(e){this.label&&this.root.clearProperty(this.label),this.label=e,this.root.setProperty(e,this)}},getLabel:{value:function(){return this.label}},clearLabel:{value:function(){this.root.clearProperty(this.label),this.label=null}},_getSerializationValue:{value:function(){return this.value}},toJSON:{value:function(e,t){var n=this._getSerializationValue();return 1===t?{value:n}:n}}})),o=(t.ElementReference=i.specialize({initWithRootAndId:{value:function(e,t){return i.call(this,e,t),this}},_getSerializationValue:{value:function(){return{"#":this.value}}}}),t.ModuleReference=i.specialize({initWithRootAndModuleId:{value:function(e,t){return i.call(this,e,t),this}},_getSerializationValue:{value:function(){return{"%":this.value}}}}),t.ObjectReference=i.specialize({constructor:{value:function(e,t){i.call(this,e,t)}},_getSerializationValue:{value:function(){return{"@":this.value}}}})),a=(t.CustomObject=i.specialize({constructor:{value:function(e){i.call(this,e,Object.create(null))}},setProperty:{value:function(e,t){null!==e&&void 0!==e&&(this.value[e]=t)}},getProperty:{value:function(e){return this.value[e]}},clearProperty:{value:function(e){delete this.value[e]}},toJSON:{value:function(e,t){var n,r=this._getSerializationValue();return 1===t?r:(n=new o(this.root,this.label),n.toJSON())}}}),t.ReferenceableValue=i.specialize({constructor:{value:function(e,t){i.call(this,e,t)}},toJSON:{value:function(e,t){var n,r=this._getSerializationValue();return 1===t?{
value:r}:this.label?(n=new o(this.root,this.label),n.toJSON()):r}}}));t.ObjectLiteral=a.specialize({constructor:{value:function(e,t){i.call(this,e,t)}},setProperty:{value:function(e,t){null!==e&&void 0!==e&&(this.value[e]=t)}},getProperty:{value:function(e){return this.value[e]}},clearProperty:{value:function(e){delete this.value[e]}},getPropertyNames:{value:function(){return Object.keys(this.value)}}}),t.RegExpObject=a.specialize({constructor:{value:function(e,t){i.call(this,e,t)}},_getSerializationValue:{value:function(){var e=this.value;return{"/":{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")}}}}})}}),montageDefine("15c0bd3","core/serialization/serializer/values-serializer",{dependencies:["../../core"],factory:function(e,t,n){var r=e("../../core").Montage,i={thisIsAReferenceCreatedByMontageSerializer:!0,reference:null},o=r.specialize.call(Object,{_malker:{value:null},_visitor:{value:null},_object:{value:null},initWithMalkerAndVisitorAndObject:{value:function(e,t,n){return this._malker=e,this._visitor=t,this._object=n,this}},addObject:{value:function(e){if("object"==typeof e)return this._malker.visit(e),e}},addObjectReference:{value:function(e){var t=this._visitor.builder,n=this._visitor.labeler,r=n.getObjectLabel(e),o=Object.create(i);return o.reference=t.createReference(r),o}},set:{value:function(e,t,n){this._visitor.setProperty(this._malker,e,t,n)}},setAll:{value:function(){this._visitor.setSerializableObjectValues(this._malker,this._object)}}});t.ValuesSerializer=o}}),montageDefine("15c0bd3","core/serialization/serializer/self-serializer",{dependencies:["../../core","../../deprecate"],factory:function(e,t,n){var r=e("../../core").Montage,i=e("../../deprecate"),o=r.specialize.call(Object,{_malker:{value:null},_visitor:{value:null},_object:{value:null},initWithMalkerAndVisitorAndObject:{value:function(e,t,n){return this._malker=e,this._visitor=t,this._object=n,this}},getObjectLabel:{value:function(e){return this._visitor.labeler.getObjectLabel(e)}},addObject:{value:function(e){if("object"==typeof e)return this._malker.visit(e),e}},addObjectReference:{value:function(e){var t=this._visitor.builder,n=this._visitor.labeler,r=n.getObjectLabel(e);return{thisIsAReferenceCreatedByMontageSerializer:!0,reference:t.createObjectReference(r)}}},setProperty:{value:function(e,t,n){var r=this._visitor.builder,i=r.top.getProperty("values");r.push(i),this._visitor.setProperty(this._malker,e,t,n),r.pop()}},setAllProperties:{value:i.deprecateMethod(void 0,function(){return this.setAllValues()},"setAllProperties","setAllValues")},setAllValues:{value:function(){var e=this._visitor.builder,t=e.top.getProperty("values");e.push(t),this._visitor.setSerializableObjectValues(this._malker,this._object),e.pop()}},setUnit:{value:function(e){this._visitor.setObjectCustomUnit(this._malker,this._object,e)}},setAllUnits:{value:function(e){this._visitor.setObjectCustomUnits(this._malker,this._object)}}});t.SelfSerializer=o}}),montageDefine("15c0bd3","core/serialization/serializer/unit-serializer",{dependencies:["../../core"],factory:function(e,t,n){var r=e("../../core").Montage,i=r.specialize.call(Object,{_malker:{value:null},_visitor:{value:null},_object:{value:null},initWithMalkerAndVisitorAndObject:{value:function(e,t,n){return this._malker=e,this._visitor=t,this._object=n,this}},getObjectLabel:{value:function(e){return this.addObjectReference(e),this._visitor.labeler.getObjectLabel(e)}},addObject:{value:function(e){if("object"==typeof e)return this._malker.visit(e),e}},addObjectReference:{value:function(e){var t=this._visitor.builder,n=this._visitor.labeler,r=n.getObjectLabel(e);return{thisIsAReferenceCreatedByMontageSerializer:!0,reference:t.createObjectReference(r)}}}});t.UnitSerializer=i}}),montageDefine("15c0bd3","core/application",{dependencies:["./target","./template","../window-loader/montage-window","./dom"],factory:function(e,t,n){var r,i=e("./target").Target,o=e("./template"),a=e("../window-loader/montage-window").MontageWindow;e("./dom");var s="-is-first-load";t.Application=i.specialize({eventManager:{value:null},parentApplication:{value:null},name:{value:null},_isFirstLoad:{value:null},isFirstLoad:{get:function(){return this._isFirstLoad}},mainApplication:{get:function(){for(var e=this;e.parentApplication;)e=e.parentApplication;return e}},_windowsSortOrder:{value:"reverse-z-order"},windowsSortOrder:{get:function(){return null===this.parentApplication?this._windowsSortOrder:this.mainApplication.windowsSortOrder},set:function(e){null===this.parentApplication?["z-order","reverse-z-order","z-order","reverse-open-order"].indexOf(e)!==-1&&(this._windowsSortOrder=e):this.mainApplication.windowsSortOrder=e}},windows:{get:function(){if(null===this.parentApplication){if(!this._windows){var e=new a;e.application=this,e.window=window,this.window=e,this._windows=[this.window],this._multipleWindow=!0}return this._windows}return this.mainApplication.windows}},_window:{value:null},window:{get:function(){if(!this._window&&this===this.mainApplication){var e=new a;e.application=this,e.window=window,this._window=e}return this._window},set:function(e){this._window||(this._window=e)}},attachedWindows:{value:[]},eventManagerForWindow:{value:function(e){return e.defaultEventMananger}},focusWindow:{get:function(){var e=this.windows,t=this.windowsSortOrder;if("z-order"===t)return e[0];if("reverse-z-order"===t)return e[e.length-1];for(var n in e)if(e[n].focused)return e[n]}},delegate:{value:null},nextTarget:{get:function(){return this.delegate}},openWindow:{value:function(e,t,n){var r,i,o=this,s=new a,l={location:!1,menubar:!1,resizable:!0,scrollbars:!0,status:!1,titlebar:!0,toolbar:!1},c={module:e,name:t,parent:window,callback:function(e,t){var n;r=e.document.application,s.window=e,s.application=r,s.component=t,r.window=s,o.attachedWindows.push(s),n=o.mainApplication.windowsSortOrder,"z-order"===n||"reverse-open-order"===n?o.windows.unshift(s):o.windows.push(s),i=document.createEvent("CustomEvent"),i.initCustomEvent("load",!0,!0,null),s.dispatchEvent(i)}};this!==this.mainApplication||this._multipleWindow||this.window;var u,f,d="",h="";if("object"==typeof n)for(u in n)n.hasOwnProperty(u)&&(l[u]=n[u]);var p=["name"];for(u in l)p.indexOf(u)===-1&&(f=l[u],"boolean"==typeof f?f=f?"yes":"no":(f=String(f),f.match(/[ ,"]/)&&(f='"'+f.replace(/"/g,'\\"')+'"')),h+=d+u+"="+f,d=",");return global.require.loadPackage({name:"montage"}).then(function(e){var t=window.open(e.location+"window-loader/index.html","_blank",h);t.loadInfo=c}),s}},attachWindow:{value:function(e){var t,n=e.application.parentApplication;return n!==this&&(n&&n.detachWindow(e),e.parentApplication=this,this.attachedWindows.push(e),t=this.mainApplication.windowsSortOrder,"z-order"===t||"reverse-open-order"===t?this.windows.unshift(e):this.windows.push(e),e.focus()),e}},detachWindow:{value:function(e){var t,n,r=this.windows;return void 0===e&&(e=this.window),n=e.application.parentApplication,n===this?(t=this.attachedWindows.indexOf(e),t!==-1&&this.attachedWindows.splice(t,1),t=r.indexOf(e),t!==-1&&r.splice(t,1),e.application.parentApplication=null):n&&n.detachWindow(e),e}},constructor:{value:function(){"undefined"!=typeof window&&window.loadInfo&&!this.parentApplication&&(this.parentApplication=window.loadInfo.parent.document.application)}},_load:{value:function(n,r){var i,a=this;return this.name=n.packageDescription.name,this._loadApplicationContext(),t.application=a,e.async("ui/component").then(function(e){if(i=e.__root__,"undefined"!=typeof document)return i.element=document,o.instantiateDocument(document,n)}).then(function(e){return a.callDelegateMethod("willFinishLoading",a),i.needsDraw=!0,r&&r(a),a})}},_loadApplicationContext:{value:function(){if(null===this._isFirstLoad){var e,t=this.name+s;if("undefined"!=typeof localStorage&&(localStorage.getItem(t),null===e))try{localStorage.setItem(t,!0)}catch(n){}this._isFirstLoad=!e}}},_alertPopup:{value:null,enumerable:!1},_confirmPopup:{value:null,enumerable:!1},_notifyPopup:{value:null,enumerable:!1},_zIndex:{value:null},_isSystemPopup:{value:function(e){return"alert"===e||"confirm"===e||"notify"===e}},_createPopupSlot:{value:function(e){var t=document.createElement("div");document.body.appendChild(t),t.style.zIndex=e,t.style.position="absolute";var n=new r;return n.element=t,n.attachToParentComponent(),n}},getPopupSlot:{value:function(t,n,i){var o=this;e.async("ui/slot.reel/slot").then(function(e){r=r||e.Slot,t=t||"custom";var a,s,l=o._isSystemPopup(t);if(o.popupSlots=o.popupSlots||{},l)switch(t){case"alert":a=19004;break;case"confirm":a=19003;break;case"notify":a=19002}else o._zIndex?o._zIndex=o._zIndex+1:o._zIndex=17e3,a=o._zIndex;s=o.popupSlots[t],s||(s=o.popupSlots[t]=o._createPopupSlot(a)),l||(s.element.style.zIndex=a),s.content=n,i.call(this,s)})}},returnPopupSlot:{value:function(e){var t=this;if(t.popupSlots&&t.popupSlots[e]){var n=t.popupSlots[e];n.content=null}}},_getActivePopupSlots:{value:function(){var e=[];if(this.popupSlots){var t=Object.keys(this.popupSlots);if(t&&t.length>0){var n,r,i=t.length;for(n=0;n<i;n++)r=this.popupSlots[t[n]],r&&null!==r.content&&e.push(r)}}return e}}})}}),montageDefine("15c0bd3","ui/loader.reel/loader",{dependencies:["../component","../../core/logger","../../core/event/event-manager"],factory:function(e,t,n){var r=e("../component"),i=r.Component,o=r.__root__,a=e("../../core/logger").logger("loader"),s=e("../../core/event/event-manager").defaultEventManager,l="montage-app-loader",c="montage-app-bootstrapping",u="montage-app-loading",f="montage-app-first-load",d="montage-app-loaded",h=0,p=1,b=2;t.Loader=i.specialize({mainModule:{value:"ui/main.reel"},mainName:{value:"Main"},includeFrameworkModules:{value:!1},minimumBootstrappingDuration:{value:0},minimumLoadingDuration:{value:0},minimumFirstLoadingDuration:{value:null},minimumFirstBootstrappingDuration:{value:null},_initializedModules:{value:null},element:{get:function(){if(!this._element){var e=document.getElementsByClassName("loading")[0];e||(e=document.createElement("div"),document.body.appendChild(e)),this.element=e}return this._element},set:function(e){Object.getOwnPropertyDescriptor(i.prototype,"element").set.call(this,e)}},initializedModules:{dependencies:["includeFrameworkModules"],enumerable:!1,get:function(){return!this._initializedModules||this.includeFrameworkModules?this._initializedModules:this._initializedModules.slice(this._frameworkModuleCount-1)},set:function(e){this._initializedModules=e}},_requiredModules:{value:null},requiredModules:{dependencies:["includeFrameworkModules"],enumerable:!1,get:function(){return!this._requiredModules||this.includeFrameworkModules?this._requiredModules:this._requiredModules.slice(this._frameworkModuleCount-1)},set:function(e){this._requiredModules=e}},_currentStage:{value:h},currentStage:{get:function(){return this._currentStage},set:function(e){e!==this._currentStage&&(a.isDebug&&a.debug(this,"CURRENT STAGE: "+e),this._currentStage=e,p===e?(o.classList.remove(c),o.classList.add(u)):b===e&&(o.classList.remove(c),o.classList.remove(u),o.classList.add(d),this.needsDraw=!0))}},_readyToShowLoader:{value:!1},isLoadingMainComponent:{value:null},readyToShowLoader:{get:function(){return this._readyToShowLoader},set:function(e){e===this._readyToShowLoader&&(this._readyToShowLoader=e,this.needsDraw=!0)}},readyToShowMainComponent:{get:function(){return!!this._mainComponent}},_frameworkModuleCount:{enumerable:!1,value:null},hasTemplate:{enumerable:!1,value:!1},_mainComponent:{value:null},_mainComponentEnterDocument:{value:null},_showLoadingTimeout:{enumerable:!1,value:null},_showMainComponentTimeout:{enumerable:!1,value:null},enterDocument:{value:function(){a.isDebug&&a.debug(this,"enterDocument"),this._loadLoaderContext(),this._loadMainComponent(),this.readyToShowLoader=!0;var e=document._montageTiming,t=Date.now(),n=this.minimumBootstrappingDuration-(t-e.bootstrappingStartTime);if(n>0){a.isDebug&&a.debug(this,"still need to show bootstrapper for another "+n+"ms");var r=this;this._showLoadingTimeout=setTimeout(function(){e.bootstrappingEndTime=Date.now(),r._showLoadingTimeout=null,r._revealLoader()},n)}else e.bootstrappingEndTime=t,this._revealLoader()}},_loadLoaderContext:{value:function(){this.application.isFirstLoad&&(o.classList.add(f),null!==this.minimumFirstLoadingDuration&&(this.minimumLoadingDuration=this.minimumFirstLoadingDuration),null!==this.minimumFirstBootstrappingDuration&&(this.minimumBootstrappingDuration=this.minimumFirstBootstrappingDuration))}},_revealLoader:{value:function(){a.isDebug&&a.debug(this,"_revealLoader"),document._montageTiming.loadingStartTime=Date.now(),this.currentStage=p,this._waitForLoadingIndicatorIfNeeded();var e,t,n,r,i=document.getElementById(l);if(i)for(t=i.children,e=0;n=t[e];e++)(r=n.component)&&(r.attachToParentComponent(),r.needsDraw=!0)}},_revealMainComponent:{value:function(){a.isDebug&&a.debug(this,"_revealMainComponent"),this.currentStage=b}},_loadMainComponent:{value:function(){a.isDebug&&a.debug(this,"_loadMainComponent"),this.isLoadingMainComponent=!0;var e=this;return global.require.async(this.mainModule).then(function(t){if(!(e.mainName in t))throw new Error(e.mainName+" was not found in "+e.mainModule);return e._mainLoadedCallback(t)})}},_mainLoadedCallback:{value:function(e){return a.isDebug&&a.debug(this,"_mainLoadedCallback"),this._mainComponent=new e[this.mainName],this._mainComponentEnterDocument=this._mainComponent.enterDocument,this._mainComponent.enterDocument=this.mainComponentEnterDocument.bind(this),this._mainComponent.setElementWithParentComponent(document.createElement("div"),this),this._mainComponent.attachToParentComponent(),this._mainComponent._canDrawOutsideDocument=!0,this._mainComponent.needsDraw=!0,this}},mainComponentEnterDocument:{value:function(){var e=this._mainComponent;if(a.isDebug&&a.debug(this,"main preparing to draw"),this.isLoadingMainComponent=!1,this.childComponents=[this._mainComponent],this.element.parentElement.appendChild(this._mainComponent.element),this._waitForLoadingIndicatorIfNeeded(),s.unregisterEventHandlerForElement(this.element),e.attachToParentComponent(),e.enterDocument=this._mainComponentEnterDocument,e.enterDocument)return e.enterDocument.apply(e,arguments)}},_waitForLoadingIndicatorIfNeeded:{value:function(){if(!this._showMainComponentTimeout&&!this.isLoadingMainComponent&&!this._showLoadingTimeout){var e=document._montageTiming,t=Date.now(),n=this,r=this.minimumLoadingDuration-(t-e.loadingStartTime);r>0?(a.isDebug&&a.debug(this,"show loader for another "+r+"ms"),this._showMainComponentTimeout=setTimeout(function(){a.isDebug&&a.debug(this,"ok, shown loader long enough"),e.loadingEndTime=Date.now(),n._revealMainComponent()},r)):(e.loadingEndTime=t,this._revealMainComponent())}}},draw:{value:function(){b===this._currentStage&&(this._dispatchLoadEvent(),this.detachFromParentComponent(),this.element.parentElement.removeChild(this.element))}},_dispatchLoadEvent:{value:function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("componentLoaded",!0,!0,this._mainComponent),this.dispatchEvent(e,!0,!0)}}})}}),montageDefine("15c0bd3","core/target",{dependencies:["./core","./event/event-manager","./event/mutable-event"],factory:function(e,t,n){var r=e("./core").Montage,i=e("./event/event-manager").defaultEventManager,o=e("./event/mutable-event").MutableEvent;t.Target=r.specialize({acceptsActiveTarget:{serializable:!1,value:!1},isActiveTarget:{get:function(){return this===i.activeTarget}},willBecomeActiveTarget:{value:Function.noop},didBecomeActiveTarget:{value:Function.noop},surrendersActiveTarget:{value:function(e){return!0}},nextTarget:{serializable:!1,value:null},dispatchEvent:{value:function(e){var t=e instanceof o?e:o.fromEvent(e);return t.target=this,i.handleEvent(t),!e.defaultPrevented}},dispatchEventNamed:{value:function(e,t,n,r){var a=o.fromType(e,t,n,r);return a.target=this,i.handleEvent(a),!a.defaultPrevented}},addEventListener:{value:function(e,t,n){t&&i.registerEventListener(this,e,t,n)}},removeEventListener:{value:function(e,t,n){t&&i.unregisterEventListener(this,e,t,n)}},loadComposer:{value:function(e){e&&!e._isLoaded&&(e._resolveDefaults(),e.load(),e._isLoaded=!0)}},unloadComposer:{value:function(e){e&&e._isLoaded&&(e.unload(),e._isLoaded=!1)}}})}}),montageDefine("15c0bd3","core/template",{dependencies:["./core","core/serialization/deserializer/montage-deserializer","./document-part","./document-resources","./serialization/serialization","./serialization/serializer/montage-labeler","./promise","./mini-url","./logger","./event/event-manager","./application"],factory:function(e,t,n){function r(e,t,n){var r,i,o=new h,a=e.documentElement.outerHTML,l=new s,c=e.documentElement;return r=o.createHtmlDocumentWithHtml(a,e.location.href),o.initWithDocument(r,t).then(function(){return o.setBaseUrl(e.location.href),i=o._createTemplateObjects(n),l.initWithTemplateAndFragment(o),o._instantiateObjects(i,c).then(function(e){return l.objects=e,o._invokeDelegates(l),l})})}var i,o=e("./core").Montage,a=e("core/serialization/deserializer/montage-deserializer").MontageDeserializer,s=e("./document-part").DocumentPart,l=e("./document-resources").DocumentResources,c=e("./serialization/serialization").Serialization,u=e("./serialization/serializer/montage-labeler").MontageLabeler,f=e("./promise").Promise,d=e("./mini-url"),h=(e("./logger").logger("template"),e("./event/event-manager").defaultEventManager,o.specialize({_SERIALIZATION_SCRIPT_TYPE:{value:"text/montage-serialization"},_ELEMENT_ID_ATTRIBUTE:{value:"data-montage-id"},PARAM_ATTRIBUTE:{value:"data-param"},_require:{value:null},_resources:{value:null},_baseUrl:{value:null},_instances:{value:null},_metadata:{value:null},_objectsString:{value:null},objectsString:{get:function(){return this._objectsString},set:function(e){this._objectsString=e,this._serialization&&this._serialization.initWithString(e),this.__deserializer=null}},__deserializer:{value:null},_deserializer:{get:function(){var e,t,n=this.__deserializer;if(!n){if(e=this._metadata){t=Object.create(null);for(var r in e)t[r]=e[r].require}n=(new a).init(this.objectsString,this._require,t),this.__deserializer=n}return n}},getDeserializer:{value:function(){return this._deserializer}},_serialization:{value:null},getSerialization:{value:function(){var e=this._serialization;return e||(e=this._serialization=new c,e.initWithString(this.objectsString)),e}},_isDirty:{value:!1},isDirty:{get:function(){return this._isDirty},set:function(e){this._isDirty!==e&&(this._isDirty=e,this.clearTemplateFromElementContentsCache())}},refresher:{value:null},_document:{value:null},document:{get:function(){return this._isDirty&&this.refresh(),this._document},set:function(e){this._document=e}},initWithRequire:{value:function(e){return this._require=e,this.document=this.createHtmlDocumentWithHtml(""),this.objectsString="",this}},initWithDocument:{value:function(e,t){var n=this;return this._require=t,this.setDocument(e),this.getObjectsString(e).then(function(e){return n.objectsString=e,n})}},initWithHtml:{value:function(e,t){var n=this;return this._require=t,this.document=this.createHtmlDocumentWithHtml(e),this.getObjectsString(this.document).then(function(e){return n.objectsString=e,n})}},initWithObjectsAndDocumentFragment:{value:function(e,t,n){return this._require=n,this.document=this.createHtmlDocumentWithHtml(""),this.document.body.appendChild(this.document.importNode(t,!0)),this.setObjects(e),this}},initWithModuleId:{value:function(e,t){var n=this;return this._require=t,this.createHtmlDocumentWithModuleId(e,t).then(function(r){var i=t(e).directory;return n.document=r,n.setBaseUrl(i),n.getObjectsString(r).then(function(e){return n.objectsString=e,n})})}},clone:{value:function(){var e=new h;return e._require=this._require,e._baseUrl=this._baseUrl,e.setDocument(this.document),e.objectsString=this.objectsString,e._instances=Object.clone(this._instances,1),e}},instantiate:{value:function(e){return this.instantiateWithInstances(null,e)}},instantiateWithInstances:{value:function(e,t){var n,r,i,o=this,a=new s;return e=e||this._instances,n=this._createMarkupDocumentFragment(t),i=this._getParameters(n),a.initWithTemplateAndFragment(this,n),a.startActingAsTopComponent(),a.parameters=i,r=this._createTemplateObjects(e),this._instantiateObjects(r,n).then(function(n){var r=o.getResources();return!r.resourcesLoaded()&&r.hasResources()&&r.loadResources(t),a.objects=n,o._invokeDelegates(a,e),a.stopActingAsTopComponent(),a})}},_objectsInstantiationOptimized:{value:!1},_optimizeObjectsInstantiationPromise:{value:null},_optimizeObjectsInstantiation:{value:function(){var e,t=this;if(!this._objectsInstantiationOptimized)return this._optimizeObjectsInstantiationPromise||(e=this._deserializer.preloadModules(),e?this._optimizeObjectsInstantiationPromise=e.then(function(){t._objectsInstantiationOptimized=!0}):this._objectsInstantiationOptimized=!0),this._optimizeObjectsInstantiationPromise}},setBaseUrl:{value:function(e){this._baseUrl=e}},getBaseUrl:{value:function(){return this._baseUrl}},getResources:{value:function(){var e=this._resources;return e||(e=this._resources=new t.TemplateResources,e.initWithTemplate(this)),e}},_createTemplateObjects:{value:function(t){var n=Object.create(t||null);return"undefined"==typeof i&&(i=e("./application").application),n.application=i,n.template=this,n}},_instantiateObjects:{value:function(e,t){var n,r=this._deserializer;return f.is(r)?r:(n=this._optimizeObjectsInstantiation(),n?n.then(function(){return r.deserialize(e,t)}):r.deserialize(e,t))}},_createMarkupDocumentFragment:{value:function(e){for(var t=e.createDocumentFragment(),n=this.document.body.childNodes,r=0,i=n.length;r<i;r++)t.appendChild(e.importNode(n[r],!0));return t}},getParameterName:{value:function(e){return e.getAttribute(this.PARAM_ATTRIBUTE)}},getParameters:{value:function(){return this._getParameters(this.document.body)}},_getParameters:{value:function(e){for(var t,n,r=e.querySelectorAll("*["+this.PARAM_ATTRIBUTE+"]"),i=r.length,o={},a=0;a<i;a++){if(t=r[a],n=this.getParameterName(t),n in o)throw new Error('The parameter "'+n+'" is declared more than once in '+this.getBaseUrl()+".");o[n]=t}return o}},hasParameters:{value:function(){return!!this.document.querySelector("*["+this.PARAM_ATTRIBUTE+"]")}},_invokeDelegates:{value:function(e,t){var n,r,i,o=e.objects,a=o.owner||t&&t.owner;for(var s in o)t&&s in t||(n=o[s],r=this._getObjectOwner(s,a),i=this._getObjectLabel(s),n&&("function"==typeof n._deserializedFromTemplate&&n._deserializedFromTemplate(r,i,e),"function"==typeof n.deserializedFromTemplate&&n.deserializedFromTemplate(r,i,e)));if(a){var l=this.getSerialization();l.isExternalObject("owner")||("function"==typeof a._templateDidLoad&&a._templateDidLoad(e),"function"==typeof a.templateDidLoad&&a.templateDidLoad(e))}}},setInstances:{value:function(e){this._instances=e}},getInstances:{value:function(){return this._instances}},setObjects:{value:function(e){this.objectsString=JSON.stringify(e,null,4)}},setObjectMetadata:{value:function(e,t,n,r){var i=this._metadata;i||(this._metadata=i=Object.create(null)),i[e]={require:t,label:n,owner:r},this.__deserializer=null}},getObjectMetadata:{value:function(e){var t=this._metadata;return t&&e in t?t[e]:{require:this._require,label:e}}},_getObjectOwner:{value:function(e,t){var n,r=this._metadata;return n=r&&e in r?r[e].owner:t}},_getObjectLabel:{value:function(e){var t,n=this._metadata;return t=n&&e in n?n[e].label:e}},setDocument:{value:function(e){this.document=this.cloneHtmlDocument(e),this.clearTemplateFromElementContentsCache()}},getObjectsString:{value:function(e){var t;return t=this.getInlineObjectsString(e),null===t?this.getExternalObjectsString(e):f.resolve(t)}},getInlineObjectsString:{value:function(e){var t="script[type='"+this._SERIALIZATION_SCRIPT_TYPE+"']",n=e.querySelector(t);return n?n.textContent:null}},getExternalObjectsString:{value:function(e){var t,n=e.querySelector('link[rel="serialization"]');return n?t=new f(function(e,t){var r=new XMLHttpRequest,i=n.getAttribute("href");r.open("GET",i),r.addEventListener("load",function(n){var r=n.target;200===r.status?e(r.responseText):t(new Error("Unable to retrive '"+i+"', code status: "+r.status))},!1),r.addEventListener("error",function(e){t(new Error("Unable to retrive '"+i+"' with error: "+e.error+"."))},!1),r.send()}):f.resolve(null)}},createHtmlDocumentWithHtml:{value:function(e,t){var n=document.implementation.createHTMLDocument("");return e&&(n.documentElement.innerHTML=e,t&&this.normalizeRelativeUrls(n,t)),n}},cloneHtmlDocument:{value:function(e){var t=document.implementation.createHTMLDocument(""),n=e.baseURI||e.URL;return t.replaceChild(t.importNode(e.documentElement,!0),t.documentElement),this.normalizeRelativeUrls(t,n),t}},createHtmlDocumentWithModuleId:{value:function(e,t){var n=this;return"function"!=typeof t?f.reject(new Error("Missing 'require' function to load module '"+e+"'.")):t.async(e).then(function(e){return n.createHtmlDocumentWithHtml(e.content,e.directory)})}},_removeObjects:{value:function(e){var t="script[type='"+this._SERIALIZATION_SCRIPT_TYPE+"'], link[rel='serialization']";Array.prototype.forEach.call(e.querySelectorAll(t),function(e){e.parentNode.removeChild(e)})}},_addObjects:{value:function(e,t){if(t){var n=e.createElement("script");n.setAttribute("type",this._SERIALIZATION_SCRIPT_TYPE),n.textContent=JSON.stringify(JSON.parse(t),null,4),e.head.appendChild(n)}}},_templateFromElementContentsCache:{value:null},clearTemplateFromElementContentsCache:{value:function(){this._templateFromElementContentsCache=null}},createTemplateFromElementContents:{value:function(e){var t,n,r,i=this._templateFromElementContentsCache;return i||(i=Object.create(null),this._templateFromElementContentsCache=i),e in i?Object.create(i[e]):(t=this.getElementById(e),r=this.document.createRange(),r.selectNodeContents(t),n=this.createTemplateFromRange(r),i[e]=n,Object.create(n))}},createTemplateFromElement:{value:function(e){var t,n;return t=this.getElementById(e),n=this.document.createRange(),n.selectNode(t),this.createTemplateFromRange(n)}},createTemplateFromRange:{value:function(e){var t,n,r,i,o,a=new c;return t=e.cloneContents(),n=this._getChildrenElementIds(t),a.initWithString(this.objectsString),r=a.getSerializationLabelsWithElements(n),o=a.extractSerialization(r,["owner"]),i=new h,i.initWithObjectsAndDocumentFragment(null,t,this._require),i.objectsString=o.getSerializationString(),i._resources=this.getResources(),i}},_createSerializationWithElementIds:{value:function(e){var t,n,r=new c;return r.initWithString(this.objectsString),t=r.getSerializationLabelsWithElements(e),n=r.extractSerialization(t,["owner"])}},expandParameters:{value:function(e){var t,n,r,i,o,a,s,l=[],c={},u=this.getSerialization(),f={};t=this.getParameters();for(var d in t)if(t.hasOwnProperty(d)&&(i=t[d],o=e.getTemplateArgumentElement(d),l.push.apply(l,this._getElementIds(o)),n=this.replaceNode(o,i)))for(var h in n)c[h]=n[h];return f.elementIds=l,f.elementIdsCollisions=c,a=e.getTemplateArgumentSerialization(l),a.renameElementReferences(c),s=function(t){if(t.indexOf(":")>0)return e.resolveTemplateArgumentTemplateProperty(t)},r=u.mergeSerialization(a,{willMergeObjectWithLabel:s}),this.objectsString=u.getSerializationString(),f.labels=a.getSerializationLabels(),f.labelsCollisions=r,f}},_resolveElementIdCollisions:{value:function(e,t){var n,r,i,o,a,s;t=t||new u,o=this.getElementIds();for(var l=0;i=o[l];l++)t.addLabel(i);r=this._getElements(e);for(i in r)this.getElementById(i)&&(a=r[i],s=t.generateLabel(t.getLabelBaseName(i)),this.setElementId(a,s),n||(n=Object.create(null)),n[i]=s);return n}},replaceNode:{value:function(e,t,n){var r;return r=this._resolveElementIdCollisions(e,n),this.normalizeRelativeUrls(e,this.getBaseUrl()),t.parentNode.replaceChild(e,t),r}},insertNodeBefore:{value:function(e,t,n){var r;return r=this._resolveElementIdCollisions(e,n),this.normalizeRelativeUrls(e,this.getBaseUrl()),t.parentNode.insertBefore(e,t),r}},appendNode:{value:function(e,t,n){var r;return r=this._resolveElementIdCollisions(e,n),this.normalizeRelativeUrls(e,this.getBaseUrl()),t.appendChild(e),r}},getElementId:{value:function(e){if(e.getAttribute)return e.getAttribute(this._ELEMENT_ID_ATTRIBUTE)}},setElementId:{value:function(e,t){e.setAttribute(this._ELEMENT_ID_ATTRIBUTE,t)}},getElementIds:{value:function(){return this._getElementIds(this.document.body)}},_getElements:{value:function(e){var t,n,r="*["+this._ELEMENT_ID_ATTRIBUTE+"]",i={};t=e.querySelectorAll(r);for(var o,a=0;o=t[a];a++)n=this.getElementId(o),i[n]=o;return n=this.getElementId(e),n&&(i[n]=e),i}},_getChildrenElementIds:{value:function(e){var t,n="*["+this._ELEMENT_ID_ATTRIBUTE+"]",r=[];t=e.querySelectorAll(n);for(var i,o=0;i=t[o];o++)r.push(this.getElementId(i));return r}},_getElementIds:{value:function(e){var t,n=this._getChildrenElementIds(e);return t=this.getElementId(e),t&&n.push(t),n}},getElementById:{value:function(e){var t="*["+this._ELEMENT_ID_ATTRIBUTE+"='"+e+"']";return this.document.querySelector(t)}},html:{get:function(){var e=this.document;return this._removeObjects(e),this._addObjects(e,this.objectsString),this._getDoctypeString(e.doctype)+"\n"+e.documentElement.outerHTML}},_getDoctypeString:{value:function(e){return"<!DOCTYPE "+e.name+(e.publicId?' PUBLIC "'+e.publicId+'"':"")+(!e.publicId&&e.systemId?" SYSTEM":"")+(e.systemId?' "'+e.systemId+'"':"")+">"}},normalizeRelativeUrls:{value:function(e,t){if("string"==typeof t&&""!==t&&"about:blank"!==t)for(var n="http://www.w3.org/1999/xlink",r=/^[\w\-]+:|^\//,i=h._NORMALIZED_TAG_NAMES.indexOf(e.tagName)!==-1?[e]:e.querySelectorAll(h._NORMALIZED_TAG_NAMES_SELECTOR),o=0,a=i.length;o<a;o++){var s,l=i[o];"image"===l.tagName?(s=l.getAttributeNS(n,"href"),r.test(s)||l.setAttributeNS(n,"href",d.resolve(t,s))):l.hasAttribute("src")?(s=l.getAttribute("src"),""===s||r.test(s)||l.setAttribute("src",d.resolve(t,s))):l.hasAttribute("href")&&(s=l.getAttribute("href"),""===s||r.test(s)||l.setAttribute("href",d.resolve(t,s)))}}},replaceContentsWithTemplate:{value:function(e){this._require=e._require,this._baseUrl=e._baseUrl,this._document=e._document,this.objectsString=e.objectsString,this._instances=e._instances,this._templateFromElementContentsCache=e._templateFromElementContentsCache,this._metadata=e._metadata}},refresh:{value:function(){this.isDirty&&(this.refresher&&"function"==typeof this.refresher.refreshTemplate?(this.refresher.refreshTemplate(this),this.isDirty=!1):console.warn("Not able to refresh without a refresher.refreshTemplate."))}}},{_templateCache:{value:{moduleId:Object.create(null)}},_getTemplateCacheKey:{value:function(e,t){return e=t.resolve(e),t.location+"#"+e}},getTemplateWithModuleId:{value:function(e,t){var n,r;return n=this._getTemplateCacheKey(e,t),r=this._templateCache.moduleId[n],r||(r=(new h).initWithModuleId(e,t),this._templateCache.moduleId[n]=r),r}},_NORMALIZED_TAG_NAMES:{value:["IMG","image","IFRAME","link","script"]},__NORMALIZED_TAG_NAMES_SELECTOR:{value:null},_NORMALIZED_TAG_NAMES_SELECTOR:{get:function(){return this.__NORMALIZED_TAG_NAMES_SELECTOR||(this.__NORMALIZED_TAG_NAMES_SELECTOR=this._NORMALIZED_TAG_NAMES.join(",")),this.__NORMALIZED_TAG_NAMES_SELECTOR}}})),p=o.specialize({_resources:{value:null},_resourcesLoaded:{value:!1},template:{value:null},rootUrl:{value:""},constructor:{value:function(){this._resources=Object.create(null)}},initWithTemplate:{value:function(e){this.template=e}},hasResources:{value:function(){return this.getStyles().length>0||this.getScripts().length>0}},resourcesLoaded:{value:function(){return this._resourcesLoaded}},loadResources:{value:function(e){return this._resourcesLoaded=!0,f.all([this.loadScripts(e),this.loadStyles(e)])}},getScripts:{value:function(){var e,t,n,r=this._resources.scripts;if(!r){t=this.template,r=this._resources.scripts=[],n=t.document.querySelectorAll("script");for(var i=0,o=n.length;i<o;i++)e=n[i],e.type!==this.template._SERIALIZATION_SCRIPT_TYPE&&r.push(e);
}return r}},loadScripts:{value:function(e){var t=this.getScripts(),n=t.length;if(n){for(var r=[],i=0;i<n;i++)r.push(this.loadScript(t[i],e));return f.all(r)}return f.resolve()}},loadScript:{value:function(e,t){var n,r;return n=l.getInstanceForDocument(t),r=this._cloneScriptElement(e,t),n.addScript(r)}},_cloneScriptElement:{value:function(e,t){for(var n,r=t.createElement("script"),i=e.attributes,o=0,a=i.length;o<a;o++)n=i[o],r.setAttribute(n.name,n.value);return r.textContent=e.textContent,r}},getStyles:{value:function(){var e,t,n,r=this._resources.styles;return r||(n='link[rel="stylesheet"], style',e=this.template,t=e.document.querySelectorAll(n),r=Array.prototype.slice.call(t,0),this._resources.styles=r),r}},loadStyles:{value:function(e){var t,n=[];t=this.getStyles();for(var r=0,i=t.length;r<i;r++)n.push(this.loadStyle(t[r],e));return f.all(n)}},loadStyle:{value:function(e,t){var n,r;return n=e.getAttribute("href"),n?(r=l.getInstanceForDocument(t),r.preloadResource(n)):f.resolve()}},createStylesForDocument:{value:function(e){for(var t,n,r=this.getStyles(),i=[],o=0;n=r[o];o++)t=e.importNode(n,!0),i.push(t);return i}}}),b=o.specialize({getTemplateArgumentElement:{value:Function.noop},getTemplateArgumentSerialization:{value:Function.noop},resolveTemplateArgumentTemplateProperty:{value:Function.noop}});t.Template=h,t.TemplateArgumentProvider=b,t.TemplateResources=p,t.instantiateDocument=r}}),montageDefine("15c0bd3","window-loader/montage-window",{dependencies:["../core/core"],factory:function(e,t,n){var r=e("../core/core").Montage;t.MontageWindow=r.specialize({_application:{value:null},application:{get:function(){return this._application},set:function(e){null===this._application&&(this._application=e,this.focused&&this._setFocusedWindow(this))}},_window:{value:null},window:{get:function(){return this._window},set:function(e){if(null===this._window){var t=e.document.body;this._window=e,e.addEventListener("beforeunload",this,!0),e.addEventListener("focus",this,!0),e.addEventListener("mousedown",this,!0),null===t.getAttribute("tabIndex")&&(t.setAttribute("tabIndex",-1),t.focus())}}},document:{get:function(){return this._window.document}},_component:{value:null},component:{get:function(){return this._component},set:function(e){null===this._component&&(this._component=e)}},title:{get:function(){return this.document.title},set:function(e){this.document.title=e}},focused:{value:!1},focus:{value:function(){this._window&&this._window.focus()}},_setFocusedWindow:{value:function(e){var t,n,r,i=this.application;if(i._multipleWindow){t=i.windows;for(r in t)t.hasOwnProperty(r)&&(n=t[r],n.window===e?n.focused!==!0&&(n.focused=!0,"z-order"===i.windowsSortOrder?(t.splice(r,1),t.unshift(n)):"reverse-z-order"===i.windowsSortOrder&&(t.splice(r,1),t.push(n))):n.focused=!1)}else this.focused=!0}},closed:{get:function(){return!!this._window&&this._window.closed}},close:{value:function(){this._window&&this._window.close()}},resizeTo:{value:function(e,t){this._window&&this._window.resizeTo(e,t)}},moveTo:{value:function(e,t){this._window&&this._window.moveTo(e,t)}},captureFocus:{value:function(e){var t=this.application;if(!this.application)return void(this.focused=!0);if(t.parentApplication)t.mainApplication.window.captureFocus(e);else{var n=(e.target.ownerDocument?e.target.ownerDocument.defaultView:null)||e.target.defaultView||e.target;this._setFocusedWindow(n)}}},captureMousedown:{value:function(e){this.captureFocus(e)}},captureBeforeunload:{value:function(e){var t,n=this.application,r=n.windows,i=n.attachedWindows;n.attachedWindows=[];for(t in i)i.hasOwnProperty(t)&&i[t].close();n.parentApplication&&(i=n.parentApplication.attachedWindows,t=i.indexOf(this),t!==-1&&i.splice(t,1),t=r.indexOf(this),t!==-1&&r.splice(t,1),this.window.removeEventListener("beforeunload",this,!0),this.close())}}})}}),montageDefine("15c0bd3","core/dom",{dependencies:["./extras/dom"],factory:function(e,t,n){e("./extras/dom")}}),montageDefine("15c0bd3","ui/component",{dependencies:["../core/core","../core/target","../core/template","../core/document-resources","../core/gate","../core/promise","../core/event/event-manager","../core/serialization/alias","../core/logger","../core/logger","../core/logger","../core/logger","../core/logger","collections/weak-map","collections/map","collections/set","../core/application","../core/core","../core/core"],factory:function(e,t,n){function r(e){return e?e._montage_metadata.objectName+":"+Object.hash(e)+" id: "+e.identifier:"NIL"}var i,o=e("../core/core").Montage,a=e("../core/target").Target,s=e("../core/template").Template,l=e("../core/document-resources").DocumentResources,c=e("../core/gate").Gate,u=e("../core/promise").Promise,f=e("../core/event/event-manager").defaultEventManager,d=e("../core/serialization/alias").Alias,h=e("../core/logger").logger("component"),p=e("../core/logger").logger("Drawing performance").color.green(),b=e("../core/logger").logger("drawing list").color.blue(),m=e("../core/logger").logger("drawing needsDraw").color.violet(),g=e("../core/logger").logger("drawing").color.blue(),v=e("collections/weak-map"),y=e("collections/map"),_=e("collections/set"),w="data-montage-le-component",x="data-montage-le-arg",k="data-montage-le-arg-begin",j="data-montage-le-arg-end",O=o.specialize({component:{value:null},fromCssClass:{value:null},cssClass:{value:null},toCssClass:{value:null},hasOneFrameDelay:{value:!1},_animationAndTransitionProperties:{value:["-webkit-animation","-moz-animation","-ms-animation","animation","-webkit-transition","-moz-transition","-ms-transition","transition"]},_emptyArray:{value:[]},_parseComputedStyleTimeValue:{value:function(e){var t,n;if("string"!=typeof e||""===e)return this._emptyArray;for(t=e.replace(/s| /g,"").split(","),n=0;n<t.length;n++)t[n]=+t[n];return t}},_getMaxAnimationTime:{value:function(){var e,t,n,r,i,o,a,s=0;if(this.component&&this.component.element){for(e=global.getComputedStyle(this.component.element),o=0;o<this._animationAndTransitionProperties.length;o++)for(t=this._parseComputedStyleTimeValue(e.getPropertyValue(this._animationAndTransitionProperties[o]+"-duration")),n=this._parseComputedStyleTimeValue(e.getPropertyValue(this._animationAndTransitionProperties[o]+"-delay")),i=Math.max(t.length,n.length),a=0;a<i;a++)r="undefined"==typeof t[a]?t[0]||0:t[a],r+="undefined"==typeof n[a]?n[0]||0:n[a],r>s&&(s=r);s>0&&(s+=.3)}return s}},_onAnimationsCompletedTimeout:{value:null},_cancelOnAnimationsCompletedEvent:{value:function(){clearTimeout(this._onAnimationsCompletedTimeout)}},_onAnimationsCompleted:{value:function(e){var t,n=this._getMaxAnimationTime();return n?(t=this,this._cancelOnAnimationsCompletedEvent(),void(this._onAnimationsCompletedTimeout=setTimeout(function(){e.call(t)},1e3*n))):void e.call(this)}},_needsToMeasureAnimationTimeOnNextDraw:{value:!1},_needsToMeasureAnimationTime:{value:!1},handleDidDraw:{value:function(e){this._needsToMeasureAnimationTimeOnNextDraw?(this.fromCssClass&&this.component.classList.remove(this.fromCssClass),this.cssClass&&this.component.classList.add(this.cssClass),this.toCssClass&&this.component.classList.add(this.toCssClass),this._needsToMeasureAnimationTimeOnNextDraw=!1,this._needsToMeasureAnimationTime=!0,this.component.needsDraw=!0):this._needsToMeasureAnimationTime&&(this._onAnimationsCompleted(function(){this._finishedDeferred&&(this._finishedDeferred.resolve(),this._finishedDeferred=null)}),this.component.removeEventListener("didDraw",this,!1),this._needsToMeasureAnimationTime=!1)}},_finishedDeferred:{value:null},finished:{get:function(){return this._finishedDeferred||(this._finishedDeferred=u.pending()),this._finishedDeferred.promise}},play:{value:function(){this.component&&(this._finishedDeferred&&!this._cancelled||(this._cancelled=!1,this._finishedDeferred=u.pending()),this.component.needsDraw=!0,this.fromCssClass?(this.fromCssClass&&this.component.classList.add(this.fromCssClass),this.cssClass&&this.component.classList.remove(this.cssClass),this.toCssClass&&this.component.classList.remove(this.toCssClass),this._needsToMeasureAnimationTime=!1,this._needsToMeasureAnimationTimeOnNextDraw=!0):this.hasOneFrameDelay?(this._needsToMeasureAnimationTime=!1,this._needsToMeasureAnimationTimeOnNextDraw=!0):(this.cssClass&&this.component.classList.add(this.cssClass),this.toCssClass&&this.component.classList.add(this.toCssClass),this._needsToMeasureAnimationTime=!0,this._needsToMeasureAnimationTimeOnNextDraw=!1),this.component.addEventListener("didDraw",this,!1))}},_cancelled:{value:!1},cancel:{value:function(){this._cancelled=!0,this.fromCssClass&&this.component.classList.remove(this.fromCssClass),this.cssClass&&this.component.classList.remove(this.cssClass),this.toCssClass&&this.component.classList.remove(this.toCssClass),this.component.removeEventListener("didDraw",this,!1),this._finishedDeferred&&this._finishedDeferred.reject()}}}),C=t.Component=a.specialize({DOM_ARG_ATTRIBUTE:{value:"data-arg"},drawListLogger:{value:b},delegate:{value:null},_templateObjects:{serializable:!1,value:null},templateObjects:{serializable:!1,get:function(){return this._templateObjects||(this._templateObjects=Object.create(null)),!this._setupTemplateObjectsCompleted&&this._templateDocumentPart&&this._setupTemplateObjects(this._templateDocumentPart.objects),this._templateObjects},set:function(e){this._templateObjects=e}},getResources:{value:function(){if(!this._setupTemplateObjectsCompleted&&this._templateDocumentPart)return this._templateDocumentPart.template.getResources()._resources}},_nextTarget:{value:null},nextTarget:{get:function(){return this._nextTarget||this.parentComponent},set:function(e){this._nextTarget=e}},_ownerDocumentPart:{value:null},_templateDocumentPart:{value:null},_domArguments:{value:void 0},_domArgumentNames:{value:void 0},_dispatchActionEvent:{value:function(){this.dispatchEvent(this.createActionEvent())},enumerable:!1},createActionEvent:{value:function(){var e=document.createEvent("CustomEvent");return e.initCustomEvent("action",!0,!0,null),e}},canDrawGate:{get:function(){return this._canDrawGate||(this._canDrawGate=(new c).initWithDelegate(this),this._canDrawGate.setField("componentTreeLoaded",!1)),this._canDrawGate},enumerable:!1},_blockDrawGate:{value:null},blockDrawGate:{enumerable:!1,get:function(){return this._blockDrawGate||(this._blockDrawGate=(new c).initWithDelegate(this),this._blockDrawGate.setField("element",!1),this._blockDrawGate.setField("drawRequested",!1)),this._blockDrawGate}},_firstDraw:{enumerable:!1,value:!0},_completedFirstDraw:{enumerable:!1,value:!1},originalElement:{value:null},_element:{enumerable:!1,value:null},element:{get:function(){return this._element},set:function(e){if(null===e||void 0===e)return void console.warn("Tried to set element of ",this," to ",e);if(e.component&&e.component!==this)throw new Error("Element "+e+" is already assigned to another component: "+e.component);if(global._montage_le_flag&&e.setAttribute(w,o.getInfoForObject(this).moduleId),this.isDeserializing)this.eventManager.registerEventHandlerForElement(this,e),this._isTemplateInstantiated?this._templateElement||(this._templateElement=e):(this._element=e,!this.blockDrawGate.value&&this._element&&this.blockDrawGate.setField("element",!0));else{if(!this._firstDraw)return void console.error("Cannot change element of ",this," after it has been set");this.eventManager.registerEventHandlerForElement(this,e),this._element=e,!this.blockDrawGate.value&&this._element&&this.blockDrawGate.setField("element",!0)}this._initializeClassListFromElement(e)}},getElementId:{value:function(){var e=this._element;if(e)return e.getAttribute("data-montage-id")}},_initDomArguments:{value:function(){var e,t,n,r,i=this.element;e=i.querySelectorAll("*["+this.DOM_ARG_ATTRIBUTE+"]"),e.length&&(t={});e:for(var o,a=0;o=e[a];a++){for(r=o;(r=r.parentNode)!==i;)if(r.component)continue e;this._findAndDetachComponents(o),o.parentNode.removeChild(o),n=o.getAttribute(this.DOM_ARG_ATTRIBUTE),o.removeAttribute(this.DOM_ARG_ATTRIBUTE),t[n]=o}this._domArguments=t}},_sharedEmptyArray:{value:[]},getDomArgumentNames:{value:function(){return void 0===this._domArgumentNames&&(this._domArgumentNames=this._domArguments?Object.keys(this._domArguments):this._sharedEmptyArray),this._domArgumentNames}},extractDomArgument:{value:function(e){if(this._domArguments){var t;return t=this._domArguments[e],this._domArguments[e]=null,t}return null}},_getTemplateDomArgument:{value:function(e){var t,n,r,i,o,a,s=this._ownerDocumentPart.template;r=s.getElementById(this.getElementId()),t=r.querySelectorAll("*["+this.DOM_ARG_ATTRIBUTE+"='"+e+"']");e:for(var l,c=0;l=t[c];c++){for(n=l;(n=n.parentNode)!==r;)if(i=s.getElementId(n),i&&(o=s.getSerialization(),a=o.getSerializationLabelsWithElements(i),a.length>0))continue e;return l}}},getTemplateArgumentElement:{value:function(e){var t,n,r,i,o,a=this._ownerDocumentPart.template;return global._montage_le_flag&&(t=this.ownerComponent._montage_metadata.moduleId,o=this._montage_metadata.label),"*"===e?(n=a.getElementById(this.getElementId()),r=a.document.createRange(),r.selectNodeContents(n),i=r.cloneContents(),global._montage_le_flag&&n.children.length>0&&this._leTagStarArgument(t,o,i)):(i=this._getTemplateDomArgument(e).cloneNode(!0),i.removeAttribute(this.DOM_ARG_ATTRIBUTE),global._montage_le_flag&&this._leTagNamedArgument(t,o,i,e)),i}},getTemplateArgumentSerialization:{value:function(e){var t=this._ownerDocumentPart.template;return t._createSerializationWithElementIds(e)}},resolveTemplateArgumentTemplateProperty:{value:function(e){var t,n,r,i,a=e.indexOf(":"),s=e.slice(0,a),l=e.slice(a),c=this._templateDocumentPart;if(o.getInfoForObject(this).label===s)return c&&(r=c.objects[l]),r instanceof d&&(n=c.objects[r.componentLabel],t=r.value.slice(1),i=n.resolveTemplateArgumentTemplateProperty(t),i||(i=t)),i}},setElementWithParentComponent:{value:function(e,t){this._alternateParentComponent=t,this.element!==e&&(this.element=e)}},_application:{value:null},application:{enumerable:!1,get:function(){return this._application||(C.prototype._application=e("../core/application").application)}},eventManager:{enumerable:!1,get:function(){return f}},rootComponent:{enumerable:!1,get:function(){return t.__root__}},elementControllerFromEvent:{enumerable:!1,value:function(e,t){return t}},_alternateParentComponent:{value:null},__parentComponent:{value:null},_parentComponent:{set:function(e){this.__parentComponent=e,this.dispatchOwnPropertyChange("parentComponent",e)},get:function(){return this.__parentComponent}},parentComponent:{enumerable:!1,get:function(){return this._parentComponent}},findParentComponent:{value:function(){var e,t=this.element,n=this.eventManager;if(t){for(;(e=t.parentNode)&&!n.eventHandlerForElement(e);)t=e;return e?n.eventHandlerForElement(e):this._alternateParentComponent}}},querySelectorComponent:{value:function(e){if("string"!=typeof e)throw"querySelectorComponent: Selector needs to be a string.";var t=e.match(/^\s*(?:@([^>\s]+))?(?:\s*(>)?\s*@([^>\s]+)(.*))?$/);if(!t)throw'querySelectorComponent: Syntax error "'+e+'"';var n,r,i,a=this.childComponents,s=t[1],l=(t[2]||" ",t[3]),c=t[4];if(s)for(c=l?"@"+l+c:"",r=0,i;i=a[r];r++){if(s===o.getInfoForObject(i).label)return c?i.querySelectorComponent(c):i;if(n=i.querySelectorComponent(e))return n}else for(r=0,i;i=a[r];r++)if(l===o.getInfoForObject(i).label)return c?i.querySelectorComponent(c):i;return null}},querySelectorAllComponent:{value:function(e,t){if("string"!=typeof e)throw"querySelectorComponent: Selector needs to be a string.";var n=e.match(/^\s*(?:@([^>\s]+))?(?:\s*(>)?\s*@([^>\s]+)(.*))?$/);if(!n)throw'querySelectorComponent: Syntax error "'+e+'"';var r,i,a=this.childComponents,s=n[1],l=(n[2]||" ",n[3]),c=n[4],u=[];if(s)for(c=l?"@"+l+c:"",r=0,i;i=a[r];r++)s!==o.getInfoForObject(i).label||t&&t!==i.ownerComponent?u=u.concat(i.querySelectorAllComponent(e,t)):c?u=u.concat(i.querySelectorAllComponent(c)):u.push(i);else for(r=0,i;i=a[r];r++)l!==o.getInfoForObject(i).label||t&&t!==i.ownerComponent||(c?u=u.concat(i.querySelectorAllComponent(c,t)):u.push(i));return u}},template:{enumerable:!1,value:null},hasTemplate:{enumerable:!1,value:!0},_templateModuleId:{serializable:!1,value:null},_template:{value:null},_treeLevel:{value:0},_addChildComponent:{value:function(e){return this.addChildComponent(e)}},addChildComponent:{value:function(e){this.childComponents.indexOf(e)===-1&&(this.childComponents.push(e),e._parentComponent=this,e._prepareForEnterDocument(),e.needsDraw&&!this.rootComponent.isComponentWaitingNeedsDraw(e)&&e._addToParentsDrawList()),e._shouldBuildIn=!0}},attachToParentComponent:{value:function(){this.detachFromParentComponent(),this._parentComponent=null;var e,t,n=this.findParentComponent();if(n){e=n.childComponents;for(var r=0;t=e[r];r++){var i=t.findParentComponent();i===this&&(n.removeChildComponent(t),i.addChildComponent(t))}n.addChildComponent(this)}}},detachFromParentComponent:{value:function(){var e=this.parentComponent;e&&e.removeChildComponent(this)}},removeChildComponent:{value:function(e){var t=this.childComponents,n=t.indexOf(e);n>-1&&(e._exitDocument(),t.splice(n,1),e._parentComponent=null,e._alternateParentComponent=null,e._addedToDrawList&&(e._addedToDrawList=!1,n=this._drawList.indexOf(e),this._drawList.splice(n,1)),this.rootComponent.removeFromCannotDrawList(e))}},_childComponents:{value:null},childComponents:{enumerable:!1,get:function(){return this._childComponents||(this._childComponents=[])}},_needsEnterDocument:{value:!1},_inDocument:{value:!1},__exitDocument:{value:function(){this._inDocument&&"function"==typeof this.exitDocument&&(this.exitDocument(),this._inDocument=!1)}},_exitDocument:{value:function(){var e;this._needsEnterDocument?this._needsEnterDocument=!1:(e=function(t){for(var n,r=t.childComponents,i=0;n=r[i];i++)n._isComponentExpanded&&e(n);t._inDocument&&t.__exitDocument()})(this)}},exitDocument:{value:function(){this.isActiveTarget&&(f.activeTarget=this.nextTarget)}},_prepareForEnterDocument:{value:function(){this._firstDraw?this._needsEnterDocument=!0:(this.needsDraw=!0,this.traverseComponentTree(function(e){return!e._needsEnterDocument&&(e._needsEnterDocument=!0,void(e.needsDraw=!0))}))}},ownerComponent:{enumerable:!1,value:null},components:{enumerable:!1,value:{}},_isComponentExpanded:{enumerable:!1,value:!1},_isTemplateLoaded:{enumerable:!1,value:!1},_isTemplateInstantiated:{enumerable:!1,value:!1},cleanupDeletedComponentTree:{value:function(e){e&&this.cancelBindings(),this.needsDraw=!1,this.traverseComponentTree(function(t){e&&t.cancelBindings(),t.needsDraw=!1})}},_newDomContent:{enumerable:!1,value:null},_elementsToAppend:{value:null},domContent:{serializable:!1,get:function(){return this._element?Array.prototype.slice.call(this._element.childNodes,0):null},set:function(e){var t,n,r,i=[];if(this._elementsToAppend||(this._elementsToAppend=[]),this._newDomContent=e,this.needsDraw=!0,null===this._newDomContent&&(this._shouldClearDomContentOnNextDraw=!0),"function"==typeof this.contentWillChange&&this.contentWillChange(e),t=this.childComponents,e)for(this._componentsPendingBuildOut||(this._componentsPendingBuildOut=[]),n=t.length-1;n>=0;n--)this._componentsPendingBuildOut.indexOf(t[n])===-1&&this._componentsPendingBuildOut.push(t[n]);else for(this._componentsPendingBuildOut=[],n=t.length-1;n>=0;n--)t[n]._shouldBuildOut=!0;if(e instanceof Element)this._elementsToAppend.push(e),this._findAndDetachComponents(e,i);else if(e&&e[0])for(n=0;n<e.length;n++)this._elementsToAppend.push(e[n]),this._findAndDetachComponents(e[n],i);for(n=0;r=i[n];n++)this.addChildComponent(r)}},_shouldClearDomContentOnNextDraw:{value:!1},_findAndDetachComponents:{value:function(e,t){var n,r=e.component;if(t||(t=[]),r)r.detachFromParentComponent(),t.push(r);else{n=e.children||e.childNodes;for(var i,o=0;i=n[o];o++)this._findAndDetachComponents(i,t)}return t}},clonesChildComponents:{writable:!1,value:!1},_innerTemplate:{value:null},innerTemplate:{serializable:!1,get:function(){var e,t,n,r,i,o,a,s=this._innerTemplate;if(!s&&(e=this._ownerDocumentPart)){t=e.template,n=this.getElementId(),s=t.createTemplateFromElementContents(n),r=s.getSerialization(),i=r.getExternalObjectLabels(),o=e.objects,a=Object.create(null);for(var l,c=0;l=i[c];c++)a[l]=o[l];s.setInstances(a),this._innerTemplate=s}return s},set:function(e){this._innerTemplate=e}},canDraw:{value:function(){return this._canDraw}},_canDraw:{get:function(){return!this._canDrawGate||this._canDrawGate.value},set:function(e){i.componentCanDraw(this,e)},enumerable:!1},_prepareCanDraw:{enumerable:!1,value:function(){if(!this._isComponentTreeLoaded)return this.loadComponentTree()}},_blocksOwnerComponentDraw:{value:!1},_updateOwnerCanDrawGate:{value:function(){this._blocksOwnerComponentDraw&&this.ownerComponent&&this.ownerComponent.canDrawGate.setField(this,this.canDrawGate.value)}},_isComponentTreeLoaded:{value:!1},shouldLoadComponentTree:{value:!0},_loadComponentTreeDeferred:{value:null},loadComponentTree:{value:function(){if(!this._loadComponentTreeDeferred){this.canDrawGate.setField("componentTreeLoaded",!1),(this.needsDraw||this.hasTemplate)&&(this._canDraw=!1);var e=this;this._loadComponentTreeDeferred=this.expandComponent().then(function(){if(e.hasTemplate||e.shouldLoadComponentTree){var t,n,r=e._childComponents;if(r&&r.length){t=[];for(var i=0;n=r[i];i++)t.push(n.loadComponentTree());return u.all(t)}return u.resolve(null)}}).then(function(){e._isComponentTreeLoaded=!0,e._needsEnterDocument&&(e.needsDraw=!0),e.canDrawGate.setField("componentTreeLoaded",!0)})["catch"](function(e){console.error(e)})}return this._loadComponentTreeDeferred}},traverseComponentTree:{value:function(e,t){function n(){var n,i,o=r.childComponents;if(e&&e(r)===!1)return void(t&&t());if(0===(i=o.length))return void(t&&t());for(var a=function(){0===--i&&t&&t()},s=0;n=o[s];s++)n.traverseComponentTree(e,a)}var r=this;this._isComponentExpanded?n():t&&t()}},_expandComponentPromise:{value:null},expandComponent:{value:function(){if(!this._expandComponentPromise)if(this.hasTemplate){var e=this;this._expandComponentPromise=this._instantiateTemplate().then(function(){e._isComponentExpanded=!0,e._addTemplateStylesIfNeeded(),e.needsDraw=!0})["catch"](function(e){console.error(e)})}else this._isComponentExpanded=!0,this._expandComponentPromise=u.resolve();return this._expandComponentPromise}},_templateObjectDescriptor:{value:{enumerable:!0,configurable:!0}},_setupTemplateObjects:{value:function(e){return this._templateObjects=this._templateObjects||Object.create(null),this._addTemplateObjects(e),this._setupTemplateObjectsCompleted=!0,this._templateObjects}},_setupTemplateObjectsCompleted:{value:!1},_addTemplateObjects:{value:function(e){var t,n,r=this._templateObjectDescriptor,i=this._templateObjects;for(t in e)n=e[t],null!==n&&void 0!==n&&(C.prototype.isPrototypeOf(n)&&n!==this&&n.parentComponent!==this?(r.get=this._makeTemplateObjectGetter(this,t,n),Object.defineProperty(i,t,r)):i[t]=n)}},_makeTemplateObjectGetter:{value:function(e,t,n){var r,i,o,a="@"+t;return function(){if(r)return e.querySelectorAllComponent(a,e);if(i=e.querySelectorAllComponent(a,e),1===i.length)for(o=i[0];o=o.parentComponent;){if(o===e)return Object.defineProperty(this,t,{value:i[0]}),i[0];if(o.clonesChildComponents)break}else if(0===i.length)return n;return r=!0,i}}},_instantiateTemplate:{value:function(){var e=this;return this._loadTemplate().then(function(t){if(!e._element)return u.reject(new Error("Cannot instantiate template without an element.",e));var n=null,r=e._element.ownerDocument;return n||(n=Object.create(null)),n.owner=e,e._isTemplateInstantiated=!0,t.instantiateWithInstances(n,r).then(function(t){t.parentDocumentPart=e._ownerDocumentPart,e._templateDocumentPart=t,t.fragment=null,n=null},function(e){throw new Error(t.getBaseUrl()+":"+e.stack||e)})})}},_templateDidLoad:{value:function(e){this._templateDocumentPart=e,this._templateObjects&&this._setupTemplateObjects(e.objects)}},_loadTemplatePromise:{value:null},_loadTemplate:{value:function(){var e;if(!this._loadTemplatePromise){var t=this;e=o.getInfoForObject(this),this._loadTemplatePromise=s.getTemplateWithModuleId(this.templateModuleId,e.require).then(function(e){return t._template=e,t._isTemplateLoaded=!0,e})}return this._loadTemplatePromise}},templateModuleId:{get:function(){return this._templateModuleId||this._getDefaultTemplateModuleId()}},_getDefaultTemplateModuleId:{value:function(){var e,t,n,r;return r=o.getInfoForObject(this),n=r.moduleId,t=n.lastIndexOf("/"),e=n+"/"+n.slice(t===-1?0:t+1,-5)+".html"}},deserializedFromSerialization:{value:function(){this.attachToParentComponent()}},_deserializedFromTemplate:{value:function(e,t,n){o.getInfoForObject(this).label=t,this._ownerDocumentPart=n,this.hasOwnProperty("identifier")||(this.identifier=t),this.ownerComponent||(C.prototype.isPrototypeOf(e)?this.ownerComponent=e:this.ownerComponent=this.rootComponent,this._updateOwnerCanDrawGate()),this._needsDrawInDeserialization&&(this.needsDraw=!0)}},blueprintModuleId:{serializable:!1,enumerable:!1,get:function(){return this.objectDescriptorModuleId}},blueprint:e("../core/core")._objectDescriptorDescriptor,objectDescriptor:e("../core/core")._objectDescriptorDescriptor,objectDescriptorModuleId:{serializable:!1,enumerable:!1,get:function(){var e=o.getInfoForObject(this),t=e&&!e.isInstance?this:Object.getPrototypeOf(this);if(!Object.getOwnPropertyDescriptor(t,"_objectDescriptorModuleId")||!t._objectDescriptorModuleId){e=o.getInfoForObject(t);var n=e.moduleId,r=n.lastIndexOf("/"),i=n.lastIndexOf(".");r=r===-1?0:r+1,i=i===-1?n.length:i,i=i<r?n.length:i;var a;a=i<n.length&&".reel"===n.slice(i,n.length)?n+"/"+n.slice(r,i)+".meta":n.slice(0,i)+".meta",o.defineProperty(t,"_objectDescriptorModuleId",{value:a})}return t._objectDescriptorModuleId}},gateDidBecomeTrue:{value:function(e){e===this._canDrawGate?(this._canDraw=!0,this._updateOwnerCanDrawGate()):e===this._blockDrawGate&&(i.componentBlockDraw(this),this._prepareCanDraw())},enumerable:!1},gateDidBecomeFalse:{value:function(e){e===this._canDrawGate&&this._updateOwnerCanDrawGate()},enumerable:!1},_canDrawGate:{enumerable:!1,value:null},preparedForActivationEvents:{enumerable:!1,value:!1},_arrayObjectPool:{value:{pool:null,size:200,ix:0}},_getArray:{value:function(){if(!this._arrayObjectPool.pool){this._arrayObjectPool.pool=[];for(var e=0;e<this._arrayObjectPool.size;e++)this._arrayObjectPool.pool[e]=[]}return this._arrayObjectPool.ix<this._arrayObjectPool.size?this._arrayObjectPool.pool[this._arrayObjectPool.ix++]:[]}},_disposeArray:{value:function(e){this._arrayObjectPool.ix>0&&(e.length=0,this._arrayObjectPool.pool[--this._arrayObjectPool.ix]=e)}},_drawIfNeeded:{enumerable:!1,value:function(e){var t,n,i,o,a=this._firstDraw;if(this._treeLevel=e,a&&(this.originalElement=this.element),this.needsDraw&&this.rootComponent.addToDrawCycle(this),this._needsEnterDocument&&(this._needsEnterDocument=!1,this._willEnterDocument(),this._enterDocument(a),"function"==typeof this.enterDocument&&this.enterDocument(a)),a&&(this.originalElement=null),null!==this._drawList&&this._drawList.length>0){for(n=this._drawList,this._drawList=this._getArray(),o=n.length,i=0;i<o;i++)t=n[i],t._addedToDrawList=!1,t.canDraw()?t._drawIfNeeded(e+1):g.isDebug&&g.debug(r(t)+" can't draw.");this._disposeArray(n)}}},_updateComponentDom:{value:function(){if(this._firstDraw){if(this._prepareForDraw(),this._composerList)for(var e,t=0,n=this._composerList.length;t<n;t++)e=this._composerList[t],e.lazyLoad||this.loadComposer(e);this._firstDraw=!1}(null!==this._newDomContent||this._shouldClearDomContentOnNextDraw)&&(g.isDebug&&h.debug("Component content changed: component ",this._montage_metadata.objectName,this.identifier," newDomContent",this._newDomContent),this._performDomContentChanges())}},_replaceElementWithTemplate:{enumerable:!1,value:function(){var e,t,n,r,i,o=this.element,a=this._templateElement,s=this.element.attributes;for(n=0;r=s[n];n++)e=r.nodeName,global._montage_le_flag&&e===w?t=r.nodeValue:"id"===e||"data-montage-id"===e?t=r.nodeValue:(i=a.getAttribute(e)||"",t=i?i+("style"===e?"; ":" ")+r.nodeValue:r.nodeValue),a.setAttribute(e,t);this._initializeClassListFromElement(a),o.parentNode?o.parentNode.replaceChild(a,o):this._canDrawOutsideDocument||console.warn("Warning: Trying to replace element ",o," which has no parentNode"),this.eventManager.unregisterEventHandlerForElement(o),this.eventManager.registerEventHandlerForElement(this,a),this._element=a,this._templateElement=null,this._newDomContent&&(this._newDomContent=null,this._shouldClearDomContentOnNextDraw=!1)}},_addTemplateStylesIfNeeded:{value:function(){var e=this._templateDocumentPart;e&&this.rootComponent.addStyleSheetsFromTemplate(e.template)}},_prepareForDraw:{value:function(){h.isDebug&&h.debug(this,"_templateElement: "+this._templateElement);var e;global._montage_le_flag&&(e=this.element.children.length>0),this._initDomArguments(),e&&this._leTagArguments(),this._templateElement&&(this._bindTemplateParametersToArguments(),this._replaceElementWithTemplate())},enumerable:!1},_leTagArguments:{value:function(){if(this!==this.rootComponent){var e=this.ownerComponent._montage_metadata.moduleId,t=this._montage_metadata.label,n=this.getDomArgumentNames();if(n&&0!==n.length)for(var r,i=0;r=n[i];i++)this._leTagNamedArgument(e,t,this._domArguments[r],r);else this._leTagStarArgument(e,t,this.element)}}},_getNodeFirstElement:{value:function(e){var t=e.firstElementChild;if(!t){t=e.firstChild;do if(t.nodeType===Node.ELEMENT_NODE)break;while(t=t.nextSibling)}return t}},_getNodeLastElement:{value:function(e){var t=e.lastElementChild;if(!t){t=e.lastChild;do if(t.nodeType===Node.ELEMENT_NODE)break;while(t=t.previousSibling)}return t}},_leTagStarArgument:{value:function(e,t,n){var r=this._getNodeFirstElement(n),i=this._getNodeLastElement(n);r.setAttribute(k,(r.getAttribute(k)||"")+" "+e+","+t),i.setAttribute(j,(i.getAttribute(j)||"")+" "+e+","+t)}},_leTagNamedArgument:{value:function(e,t,n,r){n.setAttribute(x,e+","+t+","+r)}},_bindTemplateParametersToArguments:{value:function(){var e,t,n,r,i,o,a,s=this._templateDocumentPart?this._templateDocumentPart.parameters:null,l=this._domArguments;if(n=this._validateTemplateArguments(l,s))throw n;for(var c in s)if(s.hasOwnProperty(c)&&(e=s[c],t=l?l[c]:void 0,"*"===c||"each"===c?0===this._element.childElementCount?e&&e.childElementCount>0?(o=this._element.ownerDocument.createRange(),o.selectNodeContents(e),e.parentNode.replaceChild(o.extractContents(),e)):e.parentNode.removeChild(e):(o=this._element.ownerDocument.createRange(),o.selectNodeContents(this._element),r=o.extractContents()):r=t,r)){var u,f;if(r instanceof Element){var d=e.classList,h=r.component?r.component.classList:r.classList;for(u=0,f=d.length;u<f;u++)h.add(d[u])}for(i=this._findAndDetachComponents(r),e.parentNode.replaceChild(r,e),u=0;a=i[u];u++)a.attachToParentComponent()}}},_validateTemplateArguments:{value:function(e,t){var n,r=t?Object.keys(t):void 0;if(r&&0!==r.length){for(n in e)if("*"!==n&&!(n in t))return new Error('"'+n+'" parameter does not exist in '+this.templateModuleId);var i=t["*"];if(i)for(n in t)if("*"!==n&&i.contains(t[n]))return new Error('"'+n+'" parameter cannot be used within an element with the star parameter')}}},prepareForActivationEvents:{enumerable:!1,value:null},_prepareForActivationEvents:{value:function(){if("function"==typeof this.prepareForActivationEvents&&this.prepareForActivationEvents(),this._composerList)for(var e,t=0,n=this._composerList.length;t<n;t++)e=this._composerList[t],e.lazyLoad&&this.loadComposer(e);this.preparedForActivationEvents=!0}},_performDomContentChanges:{value:function(){var e,t,n,r=this._newDomContent;if(r||this._shouldClearDomContentOnNextDraw){for(e=this._element,n=e.childNodes.length-1;n>=0;n--)e.childNodes[n].component||e.removeChild(e.childNodes[n]);if(this._elementsToAppend)for(;this._elementsToAppend.length;)t=this._elementsToAppend.shift(),e.contains(t)||e.appendChild(t);this._newDomContent=null,
"function"==typeof this.contentDidChange&&this.contentDidChange(),this._shouldClearDomContentOnNextDraw=!1}}},prepareForDraw:{enumerable:!1,value:null},draw:{enumerable:!1,value:Function.noop},willDraw:{enumerable:!1,value:null},didDraw:{enumerable:!1,value:Function.noop},_addedToDrawList:{value:!1},_addToParentsDrawList:{enumerable:!1,value:function(){if(!this._addedToDrawList){var e=this._parentComponent;e?(e._addToDrawList(this),this.drawListLogger.isDebug&&this.drawListLogger.debug(r(this)+" added to "+r(e)+"'s drawList")):this.drawListLogger.isDebug&&this.drawListLogger.debug(this,"parentComponent is null")}}},_needsDraw:{value:!1},_needsDrawInDeserialization:{value:!1},needsDraw:{enumerable:!1,get:function(){return this._needsDraw},set:function(e){return this.isDeserializing?void(this._needsDrawInDeserialization=!0):(e=!!e,void(this._needsDraw!==e&&(m.isDebug&&m.debug("needsDraw toggled "+e+" for "+this._montage_metadata.objectName),this._needsDraw=e,e&&(this.canDrawGate.value?this._addToParentsDrawList():this.blockDrawGate.setField("drawRequested",!0)))))}},_drawList:{value:null},__addToDrawList:{enumerable:!1,value:function(e){null===this._drawList?(this._drawList=[e],e._addedToDrawList=!0):this._drawList.indexOf(e)===-1&&(this._drawList.push(e),e._addedToDrawList=!0)}},_addToDrawList:{enumerable:!1,value:function(e){this.__addToDrawList(e),this._addToParentsDrawList()}},_templateElement:{enumerable:!1,value:null},surrenderPointer:{value:function(e,t){return!0}},_composerList:{value:null,serializable:!1},composerList:{get:function(){return this._composerList||(this._composerList=[]),this._composerList},serializable:!1},addComposer:{value:function(e){this.addComposerForElement(e,e.element)}},addComposerForElement:{value:function(e,t){e.component=this,e.element=t,this.composerList.push(e),this._firstDraw||(e.lazyLoad?this.preparedForActivationEvents&&this.loadComposer(e):this.loadComposer(e))}},loadComposer:{value:function(e){this._composerList&&this._composerList.indexOf(e)>-1&&a.prototype.loadComposer.call(this,e)}},unloadComposer:{value:function(e){this._composerList&&this._composerList.indexOf(e)>-1&&a.prototype.unloadComposer.call(this,e)}},scheduleComposer:{value:function(e){this.rootComponent.addToComposerList(e)}},removeComposer:{value:function(e){if(this._composerList)for(var t=0,n=this._composerList.length;t<n;t++)if(this._composerList[t]===e){this.unloadComposer(this._composerList[t]),this._composerList.splice(t,1);break}}},clearAllComposers:{value:function(){if(this._composerList){for(var e=this._composerList,t=0,n=e.length;t<n;t++)this.unloadComposer(e[t]);e.length=0}}},localizer:{value:null},_waitForLocalizerMessages:{value:!1},waitForLocalizerMessages:{enumerable:!1,get:function(){return this._waitForLocalizerMessages},set:function(e){if(this._waitForLocalizerMessages!==e)if(e!==!0||this.localizer.messages)this._waitForLocalizerMessages=!1,this.canDrawGate.setField("messages",!0);else{if(!this.localizer)throw"Cannot wait for messages on localizer if it is not set";this._waitForLocalizerMessages=!0,h.debug(this,"waiting for messages from localizer"),this.canDrawGate.setField("messages",!1);var t=this;this.localizer.messagesPromise.then(function(e){h.isDebug&&h.debug(t,"got messages from localizer"),t.canDrawGate.setField("messages",!0)})}}},__elementAttributeValues:{value:null},_elementAttributeValues:{get:function(){return this.__elementAttributeValues||(this.__elementAttributeValues={})}},_elementAttributeDescriptors:{value:null},_getElementAttributeDescriptor:{value:function(e){for(var t,n=this;n&&n._elementAttributeDescriptors&&!(t=n._elementAttributeDescriptors[e]);)n=Object.getPrototypeOf(n);return t}},__shouldBuildIn:{value:!0},_shouldBuildIn:{get:function(){return this.__shouldBuildIn},set:function(e){var t;e=!!e,this.__shouldBuildIn=e,e&&(this.parentComponent&&this.parentComponent._componentsPendingBuildOut&&(t=this.parentComponent._componentsPendingBuildOut.indexOf(this),t!==-1&&this.parentComponent._componentsPendingBuildOut.splice(t,1)),this._shouldBuildOut=!1,this._inDocument&&this._buildIn())}},__shouldBuildOut:{value:!1},_shouldBuildOut:{get:function(){return this.__shouldBuildOut},set:function(e){e=!!e,this.__shouldBuildOut=e,e&&(this._shouldBuildIn=!1,this._inDocument&&this._buildOut())}},buildInInitialAnimation:{get:function(){var e=null;return this._activeBuildInAnimation&&"object"==typeof this._activeBuildInAnimation&&"undefined"!=typeof this._activeBuildInAnimation.cssClass&&(e=new O,e.component=this,e.fromCssClass=this._activeBuildInAnimation.fromCssClass,e.cssClass=this._activeBuildInAnimation.cssClass,e.toCssClass=this._activeBuildInAnimation.toCssClass),e}},buildInSwitchAnimation:{get:function(){var e=null;return this._activeBuildInAnimation&&"object"==typeof this._activeBuildInAnimation&&"undefined"!=typeof this._activeBuildInAnimation.cssClass&&(e=new O,e.component=this,e.cssClass=this._activeBuildInAnimation.cssClass,e.toCssClass=this._activeBuildInAnimation.toCssClass),e}},buildOutInitialAnimation:{get:function(){var e=null;return this._activeBuildOutAnimation&&"object"==typeof this._activeBuildOutAnimation&&"undefined"!=typeof this._activeBuildOutAnimation.cssClass&&(e=new O,e.component=this,e.hasOneFrameDelay=!0,e.fromCssClass=this._activeBuildOutAnimation.fromCssClass,e.cssClass=this._activeBuildOutAnimation.cssClass,e.toCssClass=this._activeBuildOutAnimation.toCssClass),e}},buildOutSwitchAnimation:{get:function(){var e=null;return this._activeBuildOutAnimation&&"object"==typeof this._activeBuildOutAnimation&&"undefined"!=typeof this._activeBuildOutAnimation.cssClass&&(e=new O,e.component=this,e.cssClass=this._activeBuildOutAnimation.cssClass,e.toCssClass=this._activeBuildOutAnimation.toCssClass),e}},buildInAnimation:{value:null},buildOutAnimation:{value:null},buildInAnimationOverride:{value:null},buildOutAnimationOverride:{value:null},_activeBuildInAnimation:{value:null},_activeBuildOutAnimation:{value:null},_updateActiveBuildAnimations:{value:function(){this.buildInAnimationOverride?this._activeBuildInAnimation=this.buildInAnimationOverride:this._activeBuildInAnimation=this.buildInAnimation,this.buildOutAnimationOverride?this._activeBuildOutAnimation=this.buildOutAnimationOverride:this._activeBuildOutAnimation=this.buildOutAnimation}},_currentBuildAnimation:{value:null},_buildIn:{value:function(){var e=this;this._currentBuildAnimation&&this._currentBuildAnimation.cancel(),this._element&&this._element.parentNode&&this._element.parentNode.component&&(this._isElementAttachedToParent?this._currentBuildAnimation=this.buildInSwitchAnimation:(this._updateActiveBuildAnimations(),this._currentBuildAnimation=this.buildInInitialAnimation),this._currentBuildAnimation&&(this._currentBuildAnimation.play(),this._currentBuildAnimation.finished.then(function(){e._currentBuildAnimation.cancel(),e._currentBuildAnimation=null,e.dispatchEventNamed("buildInEnd",!0,!0)},function(){})))}},_buildOut:{value:function(){var e=this;this._currentBuildAnimation?(this._currentBuildAnimation.cancel(),this._currentBuildAnimation=this.buildOutSwitchAnimation):(this._updateActiveBuildAnimations(),this._currentBuildAnimation=this.buildOutInitialAnimation),this._element&&this._element.parentNode&&this._element.parentNode.component&&(this._currentBuildAnimation?(this._currentBuildAnimation.play(),this._currentBuildAnimation.finished.then(function(){var t=e.parentComponent;e._currentBuildAnimation.cancel(),e._currentBuildAnimation=null,e.detachFromParentComponent(),e.buildInAnimationOverride=null,e.buildOutAnimationOverride=null,e._element.parentNode.component&&e._element.parentNode.removeChild(e._element),e._isElementAttachedToParent=!1,t.dispatchEventNamed("buildOutEnd",!0,!0)},function(){})):(this.detachFromParentComponent(),this.buildInAnimationOverride=null,this.buildOutAnimationOverride=null,this._isElementAttachedToParent&&(this._element.parentNode&&this._element.parentNode.component&&this._element.parentNode.removeChild(this._element),this._isElementAttachedToParent=!1)))}},_willEnterDocument:{value:function(){var e;e=new CustomEvent("willEnterDocument",{details:{component:this},bubbles:!1}),this.dispatchEvent(e),this._inDocument=!0,this.parentComponent&&this.parentComponent._childWillEnterDocument(),this.__shouldBuildIn&&this._buildIn(),this._isElementAttachedToParent=!0,this.__shouldBuildOut&&this._buildOut()}},_childWillEnterDocument:{value:function(){if(this._componentsPendingBuildOut)for(;this._componentsPendingBuildOut.length;)this._componentsPendingBuildOut.pop()._shouldBuildOut=!0}},_enterDocument:{value:function(e){var t;if(e){t=this.originalElement;var n,r,i,o,a,s,l;if(n=t.attributes)for(i=n.length,r=0;r<i;r++)o=n[r].name,a=n[r].value,l=this._getElementAttributeDescriptor(o,this),(l||"undefined"!=typeof this[o])&&"undefined"==typeof this._elementAttributeValues[o]&&(this._elementAttributeValues[o]=a,null!==this[o]&&void 0!==this[o]||(this[o]=a));if(l=this._getElementAttributeDescriptor("textContent",this)){var c=t.textContent;"undefined"==typeof this._elementAttributeValues.textContent&&(this._elementAttributeValues.textContent=c,null!==this.textContent&&void 0!==this.textContent||(this.textContent=c))}if(this._elementAttributeDescriptors)for(s in this._elementAttributeDescriptors)if(this._elementAttributeDescriptors.hasOwnProperty(s)){l=this._elementAttributeDescriptors[s];var u="_"+s;null===this[u]&&null!==l&&"value"in l&&(this[u]=l.value)}}}},_draw:{value:function(){var e,t=this.element;if(null!==this.__elementAttributeValues)for(var n in this._elementAttributeValues)if(this._elementAttributeValues.hasOwnProperty(n)){var r=this[n];e=this._getElementAttributeDescriptor(n,this),e&&("boolean"===e.dataType?r===!0?(t[n]=!0,t.setAttribute(n,n.toLowerCase())):(t[n]=!1,t.removeAttribute(n)):"undefined"!=typeof r&&("textContent"===n?t.textContent=r:t.setAttribute(n,r))),delete this._elementAttributeValues[n]}this._drawClassListIntoComponent()}},_classList:{value:null},_classListDirty:{value:!1},classList:{get:function(){return null===this._classList&&(this._classList=new _,this._subscribeToToClassListChanges(),this._initializeClassListFromElement(this.element)),this._classList}},_initializeClassListFromElement:{value:function(e){if(e&&e.classList&&e.classList.length>0){this._classList?this._unsubscribeToClassListChanges&&this._unsubscribeToClassListChanges():this._classList=new _;for(var t=e.classList,n=0,r=t.length;n<r;n++)this._classList.add(t[n]);this._subscribeToToClassListChanges()}}},_unsubscribeToClassListChanges:{value:null},_subscribeToToClassListChanges:{value:function(){this._unsubscribeToClassListChanges=this._classList.addRangeChangeListener(this,"classList")}},handleClassListRangeChange:{value:function(e,t){this._classListDirty=!0,this.needsDraw=!0}},_drawClassListIntoComponent:{value:function(){if(this._classListDirty){for(var e,t=this.element.classList,n=this._classList,r=0,i=t.length;r<i;r++)e=t.item(r),n.has(e)||(t.remove(e),r--,i--);this._classList.forEach(function(e){t.add(e)}),this._classListDirty=!1}}},dispose:{value:function(){this.cancelBindings(),this.detachFromParentComponent(),this._element&&(f.unregisterEventHandlerForElement(this._element),this._element=null),this.childComponents.forEach(function(e){e.dispose()})}}},{addAttributes:{value:function(e){var t,n,r;this.prototype._elementAttributeDescriptors=e;for(n in e)e.hasOwnProperty(n)&&(r=e[n],null===r||"string"==typeof r?(t={value:r,dataType:"string"},e[n]=t):t=r,"undefined"==typeof this[n]&&this.defineAttribute(n,t))}},defineAttributeSetter:{value:function(e,t,n){return function(e,t,n){return function(r,i){var o=this._getElementAttributeDescriptor(e,this);o&&"boolean"===o.dataType&&(r=!(!r&&""!==r)),"undefined"!=typeof r&&this[t]!==r&&(n?n.call(this,r):this[t]=r,this._elementAttributeValues[e]=r,i||(this.needsDraw=!0))}}(e,t,n.set)}},defineAttributeGetter:{value:function(e){return function(e){return function(){return this[e]}}(e)}},defineAttribute:{value:function(e,t){t=t||{};var n="_"+e,r={configurable:"undefined"==typeof t.configurable||t.configurable,enumerable:"undefined"==typeof t.enumerable||t.enumerable,set:this.defineAttributeSetter(e,n,t),get:t.get||this.defineAttributeGetter(n)};this.prototype.hasOwnProperty(n)||o.defineProperty(this.prototype,n,{value:t.value}),o.defineProperty(this.prototype,e,r)}}}),E=C.specialize({constructor:{value:function(){this._drawTree=this._drawTree.bind(this),this._readyToDrawListIndex=new y,this._addedStyleSheetsByTemplate=new v}},init:{value:function(){return this}},needsDraw:{enumerable:!0,get:function(){return!!this._needsDraw},set:function(e){if(this._needsDraw!==e&&(this._needsDraw=!!e,e))for(var t,n=this.childComponents,r=0;t=n[r];r++)m.isDebug&&m.debug(this,"needsDraw = true for: "+t._montage_metadata.exportedSymbol),t.needsDraw=!0}},canDrawGate:{get:function(){return this._canDrawGate||(this._canDrawGate=(new c).initWithDelegate(this))}},_clearNeedsDrawTimeOut:{value:null},_needsDrawList:{value:[]},_cannotDrawList:{value:null},componentBlockDraw:{value:function(e){this._cannotDrawList=this._cannotDrawList?this._cannotDrawList:new _,this._cannotDrawList.add(e),this._clearNeedsDrawTimeOut&&(clearTimeout(this._clearNeedsDrawTimeOut),this._clearNeedsDrawTimeOut=null)}},isComponentWaitingNeedsDraw:{value:function(e){return this._cannotDrawList.has(e)||this._needsDrawList.indexOf(e)>=0}},componentCanDraw:{value:function(e,t){if(t){if(!this._cannotDrawList)return;if(this._cannotDrawList["delete"](e),this._needsDrawList.push(e),0===this._cannotDrawList.size&&this._needsDrawList.length>0&&!this._clearNeedsDrawTimeOut){var n=this;this._clearNeedsDrawTimeOut=setTimeout(function(){n._clearNeedsDrawList()},0)}}else this._clearNeedsDrawTimeOut&&(clearTimeout(this._clearNeedsDrawTimeOut),this._clearNeedsDrawTimeOut=null)}},_clearNeedsDrawList:{value:function(){var e,t,n,r=this._needsDrawList;for(n=r.length,t=0;t<n;t++)e=r[t],(e.needsDraw||e._drawList&&e._drawList.length>0)&&e._addToParentsDrawList();this._clearNeedsDrawTimeOut=null,r.length=0}},removeFromCannotDrawList:{value:function(e){if(this._cannotDrawList&&(this._cannotDrawList["delete"](e),0===this._cannotDrawList.size&&this._needsDrawList.length>0&&!this._clearNeedsDrawTimeOut)){var t=this;this._clearNeedsDrawTimeOut=setTimeout(function(){t._clearNeedsDrawList()},0)}}},_cancelDrawIfScheduled:{value:function(){var e=this.requestedAnimationFrame,t=this.cancelAnimationFrame;null!==e&&(this._frameTime||(h.isDebug&&h.debug(this,"clearing draw"),t?t(e):clearTimeout(e),this.requestedAnimationFrame=null))}},_addToDrawList:{value:function(e){this.__addToDrawList(e),this.drawListLogger.isDebug&&this.drawListLogger.debug(this,this.canDrawGate.value,this.requestedAnimationFrame),this.drawTree()},enumerable:!1},addToComposerList:{value:function(e){this.composerList.push(e),g.isDebug&&g.debug(this,e,"Added to composer list"),this._scheduleComposerRequest=!0,this.drawTree()}},composerListSwap:{get:function(){return this._composerListSwap||(this._composerListSwap=[]),this._composerListSwap}},_composerListSwap:{value:null},_scheduleComposerRequest:{value:!1},requestedAnimationFrame:{value:null,enumerable:!1},requestAnimationFrame:{value:global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.msRequestAnimationFrame||setTimeout,enumerable:!1},cancelAnimationFrame:{value:global.cancelAnimationFrame||global.webkitCancelAnimationFrame||global.mozCancelAnimationFrame||global.msCancelAnimationFrame||clearTimeout,enumerable:!1},_frameTime:{value:null},_oldSource:{value:null},_diff:{value:function(e,t){function n(e){return void 0===e||null===e}for(var r={},i={},o=0;o<t.length;o++)n(r[t[o]])&&(r[t[o]]={rows:[],o:null}),r[t[o]].rows.push(o);for(o=0;o<e.length;o++)n(i[e[o]])&&(i[e[o]]={rows:[],n:null}),i[e[o]].rows.push(o);for(o in r)1!==r[o].rows.length||n(i[o])||1!==i[o].rows.length||(t[r[o].rows[0]]={text:t[r[o].rows[0]],row:i[o].rows[0]},e[i[o].rows[0]]={text:e[i[o].rows[0]],row:r[o].rows[0]});for(o=0;o<t.length-1;o++)!n(t[o].text)&&n(t[o+1].text)&&t[o].row+1<e.length&&n(e[t[o].row+1].text)&&t[o+1]===e[t[o].row+1]&&(t[o+1]={text:t[o+1],row:t[o].row+1},e[t[o].row+1]={text:e[t[o].row+1],row:o+1});for(o=t.length-1;o>0;o--)!n(t[o].text)&&n(t[o-1].text)&&t[o].row>0&&n(e[t[o].row-1].text)&&t[o-1]===e[t[o].row-1]&&(t[o-1]={text:t[o-1],row:t[o].row-1},e[t[o].row-1]={text:e[t[o].row-1],row:o-1});return{o:e,n:t}}},_previousDrawDate:{enumerable:!1,value:0},_documentResources:{value:null},_needsStylesheetsDraw:{value:!1},_stylesheets:{value:[]},addStylesheet:{value:function(e){this._stylesheets.push(e),this._needsStylesheetsDraw=!0}},_addedStyleSheetsByTemplate:{value:null},addStyleSheetsFromTemplate:{value:function(e){if(!this._addedStyleSheetsByTemplate.has(e)){for(var t,n=e.getResources(),r=this.element.ownerDocument,i=n.createStylesForDocument(r),o=0;t=i[o];o++)this.addStylesheet(t);this._addedStyleSheetsByTemplate.set(e,!0)}}},__bufferDocumentFragment:{value:null},_bufferDocumentFragment:{get:function(){return this.__bufferDocumentFragment||(this.__bufferDocumentFragment=this._element.ownerDocument.createDocumentFragment())}},drawStylesheets:{value:function(){for(var e,t=this._documentResources,n=this._stylesheets,r=t._document.head,i=this._bufferDocumentFragment;e=n.shift();)t.addStyle(e,i);r.insertBefore(i,r.firstChild),this._needsStylesheetsDraw=!1}},drawTree:{value:function(){if(null===this.requestedAnimationFrame){var e=this.requestAnimationFrame;if(e)this.requestedAnimationFrame=e.call(window,this._drawTree);else{var t=Date.now(),n=17-t+this._previousDrawDate;n<0&&(n=0),this.requestedAnimationFrame=setTimeout(this._drawTree,n),this._previousDrawDate=t+n}this._scheduleComposerRequest=!1}},enumerable:!1},_drawTree:{value:function(e){var t;if(this._needsStylesheetsDraw&&this.drawStylesheets(),!this._documentResources.areStylesLoaded)return p.isDebug&&console.log("Draw Cycle Waiting Stylesheets: ",this._documentResources._expectedStyles.length),this.requestedAnimationFrame=null,void this.drawTree();if(p.isDebug&&(t=window.performance?window.performance.now():Date.now()),this._frameTime=e?e:Date.now(),this._clearNeedsDrawTimeOut&&this._clearNeedsDrawList(),g.isDebug){var n=document.body.innerHTML;if(this._oldSource&&n!==this._oldSource){for(var r=["DOM modified outside of the draw loop"],i=this._diff(this._oldSource.split("\n"),n.split("\n")),o=0;o<i.n.length;o++)if(void 0===i.n[o].text||null===i.n[o].text)r.push("+ "+i.n[o]);else for(var a=i.n[o].row+1;a<i.o.length&&(void 0===i.o[a].text||null===i.o[a].text);a++)r.push("- "+i.o[a]);console.warn(r.join("\n"))}console.group((e?g.toTimeString(new Date(e))+" ":"")+"Draw Fired")}if(this.drawIfNeeded(),p.isDebug){var s;s=window.performance?window.performance.now():Date.now(),console.log("Draw Cycle Time: ",s-t,", Components: ",this._lastDrawComponentsCount)}g.isDebug&&(console.groupEnd(),this._oldSource=document.body.innerHTML),this._frameTime=null,this._scheduleComposerRequest&&this.drawTree()}},_readyToDrawList:{enumerable:!1,value:[]},_readyToDrawListIndex:{enumerable:!1,value:null},addToDrawCycle:{value:function(e){var t=this._readyToDrawListIndex;return t.has(e)?void(g.isDebug&&this!==i&&g.debug(r(this)+" added to the draw cycle twice, this should not happen.")):(this._readyToDrawList.push(e),this._readyToDrawListIndex.set(e,!0),void e._updateComponentDom())}},_lastDrawComponentsCount:{value:null},_sortByLevel:{value:function(e,t){return e._treeLevel-t._treeLevel}},drawIfNeeded:{value:function(){var e,t,n,i,o,a,s=this._readyToDrawList,l=0,c=this._composerList,u=g.isDebug;if(s.length=0,this._readyToDrawListIndex.clear(),c&&(a=c.length)>0){for(this._composerList=this.composerListSwap,t=0;t<a;t++)o=c[t],o.needsFrame=!1,o.frame(this._frameTime);c.length=0,this._composerListSwap=c}for(this._drawIfNeeded(0),n=s.length,u&&console.groupCollapsed("willDraw - "+s.length+(s.length>1?" components.":" component."));l<n;){for(t=l;t<n;t++)e=s[t],"function"==typeof e.willDraw&&e.willDraw(this._frameTime),u&&g.debug("Level "+e._treeLevel+" "+r(e));this._drawIfNeeded(0),l=n,n=s.length}for(u&&(console.groupEnd(),console.group("draw - "+s.length+(s.length>1?" components.":" component."))),s.sort(this._sortByLevel),t=0;t<n;t++)e=s[t],e.needsDraw=!1;for(this.requestedAnimationFrame=null,t=n-1;t>=0;t--)e=s[t],e._draw(this._frameTime),e.draw(this._frameTime),u&&g.debug("Level "+e._treeLevel+" "+r(e));for(u&&(console.groupEnd(),console.groupCollapsed("didDraw - "+s.length+(s.length>1?" components.":" component."))),this._didDrawEvent||(this._didDrawEvent=new CustomEvent("didDraw",{bubbles:!1})),t=0;t<n;t++)e=s[t],e.dispatchEvent(this._didDrawEvent),e.didDraw(this._frameTime),e._completedFirstDraw||(i=document.createEvent("CustomEvent"),i.initCustomEvent("firstDraw",!0,!1,null),e.dispatchEvent(i),e._completedFirstDraw=!0),u&&g.debug("Level "+e._treeLevel+" "+r(e));return this._completedFirstDraw||(i=document.createEvent("CustomEvent"),i.initCustomEvent("firstDraw",!0,!1,null),this.dispatchEvent(i),this._completedFirstDraw=!0),u&&console.groupEnd(),p.isDebug&&(this._lastDrawComponentsCount=s.length),!!s.length}},element:{get:function(){return this._element},set:function(e){f.registerEventHandlerForElement(this,e),this._element=e.documentElement,this._documentResources=l.getInstanceForDocument(e)}}});t.__root__=i=(new E).init(),C.addAttributes({accesskey:null,contenteditable:null,contextmenu:null,dir:null,draggable:null,dropzone:null,hidden:{dataType:"boolean"},lang:null,spellcheck:null,tabindex:null,title:null})}}),montageDefine("15c0bd3","core/document-part",{dependencies:["./core","./logger","./promise","./event/event-manager"],factory:function(e,t,n){var r=e("./core").Montage,i=(e("./logger").logger("document-part"),e("./promise").Promise),o=e("./event/event-manager").defaultEventManager,a=r.specialize({parentDocumentPart:{value:null},template:{value:null},fragment:{value:null},objects:{value:null},childComponents:{value:null},parameters:{value:null},initWithTemplateAndFragment:{value:function(e,t){this.template=e,this.fragment=t,this.objects=null,this.childComponents=[],this.parameters=null}},startActingAsTopComponent:{value:function(){this.fragment&&o.registerEventHandlerForElement(this,this.fragment)}},stopActingAsTopComponent:{value:function(){this.fragment&&o.unregisterEventHandlerForElement(this.fragment)}},addChildComponent:{value:function(e){this.childComponents.indexOf(e)===-1&&this.childComponents.push(e)}},removeChildComponent:{value:function(e){var t=this.childComponents,n=t.indexOf(e);n>-1&&(t.splice(n,1),e._parentComponent=null,e._alternateParentComponent=null)}},_addToDrawList:{value:Function.noop},_componentTreeLoadedDeferred:{value:null},loadComponentTree:{value:function(){if(!this._componentTreeLoadedDeferred){for(var e=[],t=this.childComponents,n=0,r=t.length;n<r;n++)e.push(t[n].loadComponentTree());this._componentTreeLoadedDeferred=i.all(e)}return this._componentTreeLoadedDeferred}}});t.DocumentPart=a}}),montageDefine("15c0bd3","core/document-resources",{dependencies:["./core","./promise","./mini-url"],factory:function(e,t,n){var r=e("./core").Montage,i=e("./promise").Promise,o=e("./mini-url"),a=r.specialize({_SCRIPT_TIMEOUT:{value:5e3},_document:{value:null},_resources:{value:null},_preloaded:{value:null},_expectedStyles:{value:null},constructor:{value:function(){this._expectedStyles=[],this._isPollingDocumentStyleSheets=!this._isLinkLoadEventAvailable()}},_webkitVersion:{value:function(){var e=/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent);return e?parseInt(e[1]):null}},_isLinkLoadEventAvailable:{value:function(){var e=document.createElement("link"),t=this._webkitVersion();return"onload"in e&&!(null!==t&&t<535)}},initWithDocument:{value:function(e){return this.clear(),this._document=e,this._populateWithDocument(e),this}},_populateWithDocument:{value:function(e){var t=e.querySelectorAll("script"),n=Array.prototype.forEach;n.call(t,function(e){e.src&&this._addResource(this.normalizeUrl(e.src))},this);var r=e.querySelectorAll("link");n.call(r,function(e){"stylesheet"===e.rel&&this._addResource(this.normalizeUrl(e.href))},this)}},clear:{value:function(){this._resources=Object.create(null),this._preloaded=Object.create(null)}},_addResource:{value:function(e){this._resources[e]=!0}},hasResource:{value:function(e){return e in this._resources}},isResourcePreloaded:{value:function(e){return this._preloaded[e]===!0}},isResourcePreloading:{value:function(e){return i.is(this._preloaded[e])}},setResourcePreloadedPromise:{value:function(e,t){this._preloaded[e]=t}},setResourcePreloaded:{value:function(e){this._preloaded[e]=!0}},getResourcePreloadedPromise:{value:function(e){return this._preloaded[e]}},addScript:{value:function(e){var t=this.normalizeUrl(e.src);return t?this.isResourcePreloaded(t)?i.resolve():this.isResourcePreloading(t)?this.getResourcePreloadedPromise(t):this._importScript(e):this._importScript(e)}},_importScript:{value:function(e){var t,n=this,r=this._document,o=r.head,a=e.src;return a?(n._addResource(a),t=new i(function(t,r){var i,o=function s(r){n.setResourcePreloaded(a),e.removeEventListener("load",s,!1),e.removeEventListener("error",s,!1),clearTimeout(i),t(r)};e.addEventListener("load",o,!1),e.addEventListener("error",o,!1),i=setTimeout(function(){n.setResourcePreloaded(a),t()},n._SCRIPT_TIMEOUT)}),this.setResourcePreloadedPromise(a,t)):t=new i(function(e,t){e()}),o.appendChild(r.createComment("Inserted from FIXME")),o.appendChild(e),t}},handleEvent:{value:function(e){var t,n=e.target;"LINK"===n.tagName&&(t=this._expectedStyles.indexOf(n.href),t>=0&&this._expectedStyles.splice(t,1),n.removeEventListener("load",this,!1),n.removeEventListener("error",this,!1))}},addStyle:{value:function(e,t){var n,r=e.getAttribute("href");if(r){if(r=this.normalizeUrl(r),this.hasResource(r))return;this._addResource(r),this._expectedStyles.push(r),this._isPollingDocumentStyleSheets||(e.setAttribute("href",r),e.addEventListener("load",this,!1),e.addEventListener("error",this,!1))}n=t||this._document.head,n.insertBefore(e,n.firstChild)}},normalizeUrl:{value:function(e,t){return t||(t=this._document.location.href),o.resolve(t,e)}},domain:{value:global.location?global.location.protocol+"//"+global.location.host:""},isCrossDomain:{value:function(e){return 0!==e.indexOf(this.domain+"/")||0===e.indexOf("file://")}},preloadResource:{value:function(e,t){var n;return e=this.normalizeUrl(e),!t&&this.isCrossDomain(e)&&(n=!0),n||this.isResourcePreloaded(e)?i.resolve():this.isResourcePreloading(e)?this.getResourcePreloadedPromise(e):this._preloadResource(e)}},_preloadResource:{value:function(e){var t=this,n=new i(function(n,r){var i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",n,!1),i.addEventListener("error",n,!1),i.addEventListener("timeout",n,!1),i.timeout=t._SCRIPT_TIMEOUT,i.send(),i.listener=n}).bind(this).then(function(t){this.setResourcePreloaded(e),t.target.removeEventListener("load",t.target.listener),t.target.removeEventListener("error",t.target.listener),t.target.removeEventListener("timeout",t.target.listener)});return this.setResourcePreloadedPromise(e,n),n}},areStylesLoaded:{get:function(){var e,t;if(this._isPollingDocumentStyleSheets&&this._expectedStyles.length>0){e=this._document.styleSheets;for(var n,r=0;n=e[r];r++)t=this._expectedStyles.indexOf(n.href),t>=0&&this._expectedStyles.splice(t,1)}return 0===this._expectedStyles.length}}},{getInstanceForDocument:{value:function(e){var t=e.__montage_resources__;return t||(t=e.__montage_resources__=(new a).initWithDocument(e)),t}}});t.DocumentResources=a}}),montageDefine("15c0bd3","core/serialization/serialization",{dependencies:["../core","./serializer/montage-labeler","./deserializer/montage-reviver","frb/parse","frb/stringify"],factory:function(e,t,n){var r=e("../core").Montage,i=e("./serializer/montage-labeler").MontageLabeler,o=e("./deserializer/montage-reviver").MontageReviver,a=e("frb/parse"),s=e("frb/stringify"),l=r.specialize({_serializationString:{value:null},_serializationObject:{value:null},_serializationLabels:{value:null},initWithString:{value:function(e){return this._serializationString=e,this._serializationObject=null,this._serializationLabels=null,this}},initWithObject:{value:function(e){return this._serializationString=null,this._serializationObject=e,this._serializationLabels=null,this}},clone:{value:function(){var e=new l;return e.initWithString(this.getSerializationString()),e}},getSerializationObject:{value:function(){return this._serializationObject||(this._serializationObject=JSON.parse(this._serializationString)),this._serializationObject}},getSerializationString:{value:function(){return this._serializationString||(this._serializationString=JSON.stringify(this._serializationObject)),this._serializationString}},getSerializationLabels:{value:function(){var e;return this._serializationLabels||(e=this.getSerializationObject())&&(this._serializationLabels=Object.keys(e)),this._serializationLabels}},getExternalObjectLabels:{value:function(){var e=this.getSerializationObject(),t=[];for(var n in e)0===Object.keys(e[n]).length&&t.push(n);return t}},hasSerializationLabel:{value:function(e){return e in this.getSerializationObject()}},isExternalObject:{value:function(e){var t=this.getSerializationObject();return!!(t&&e in t)&&0===Object.keys(t[e]).length}},isAlias:{value:function(e){var t=this.getSerializationObject();return!!(t&&e in t)&&"alias"in t[e]}},getElementId:{value:function(e){var t=this.getSerializationObject(),n=r.getPath.call(t,e+".values.element");if(n||(n=r.getPath.call(t,e+".properties.element")),n)return n["#"]}},getSerializationLabelsWithElements:{value:function(e){var n=new t.SerializationInspector,r=[];return n.initWithSerialization(this),n.visitSerialization(function(t){"Element"===t.type&&e.indexOf(t.data)>=0&&(t=t.parent,!t||"values"!==t.name&&"properties"!==t.name||(t=t.parent,t&&"montageObject"===t.type&&r.push(t.label)))}),r}},renameElementReferences:{value:function(e){var n=new t.SerializationInspector;n.initWithSerialization(this),n.visitSerialization(function(t){"Element"===t.type&&t.data in e&&(t.data=e[t.data])})}},renameSerializationLabels:{value:function(e){var n=new t.SerializationInspector;n.initWithSerialization(this),n.visitSerialization(function(t){if(t.label){var n=t.label;n in e&&(t.label=e[n])}if("reference"===t.type){var r=t.data;r in e&&(t.data=e[r])}})}},mergeSerialization:{value:function(e,n){return t.SerializationMerger.mergeSerializations(this,e,n)}},extractSerialization:{value:function(e,n){var r=new t.SerializationExtractor;return r.initWithSerialization(this),r.extractSerialization(e,n)}}}),c=r.specialize(null,{mergeSerializations:{value:function(e,t,n){var r,i,o,a,s,l,c={};o=e.getSerializationLabels(),a=t.getSerializationLabels(),s=this._createCollisionTable(o,a,c,n&&n.labeler),n&&n.willMergeObjectWithLabel&&(l=this._willMergeObjectWithLabel(n,e,t,c),s=s||l),s&&(t=t.clone(),t.renameSerializationLabels(c),a=t.getSerializationLabels()),r=e.getSerializationObject(),i=t.getSerializationObject();for(var u,f=0;u=a[f];f++)o.indexOf(u)===-1&&(r[u]=i[u]);return e.initWithObject(r),c}},_willMergeObjectWithLabel:{value:function(e,t,n,r){var i,o,a,s,l,c=!1,u=n.getSerializationLabels();r&&(a=[],Object.keys(r).forEach(function(e){a.push(r[e])}));for(var f,d=0;f=u[d];d++)if(o=r&&r[f],i=e.willMergeObjectWithLabel(f,o),"string"==typeof i){if(s=this._isLabelValidInSerialization(i,t),s||(l=!this._isLabelValidInSerialization(i,n)&&a.indexOf(i)===-1),!s&&!l)throw new Error("willMergeObjectWithLabel either needs to return a label that exists in the destination serialization to indicate it's the same object or return a completely new label to rename the object being merged. \""+i+'"  destination: '+t.getSerializationString()+"\n source: "+n.getSerializationString()+"\n collision table: "+JSON.stringify(r,null,4));c=!0,r[f]=i}return c}},_isLabelValidInSerialization:{value:function(e,t){var n,r;return!!t.hasSerializationLabel(e)||(r=e.indexOf(":"),
!!(r>0&&(n=e.slice(0,r),t.hasSerializationLabel(n))))}},_createCollisionTable:{value:function(e,t,n,r){r=r||new i;var o,a,s,l,c,u=!1,f=Object.create(null);for(c=0;c<e.length;c++)s=e[c],l=s.indexOf(":"),l>0&&(o=s.slice(0,l),r.addLabel(o),f[o]=1),r.addLabel(s),f[s]=1;for(c=0;s=t[c];c++)l=s.indexOf(":"),l>0?(o=s.slice(0,l),a=n[o],a?(n[s]=a+":"+s.slice(l+1),u=!0):o in f?(a=r.generateLabel(r.getLabelBaseName(o)),t.indexOf(o)>=0&&(n[o]=a),n[s]=a+s.slice(l),u=!0):r.addLabel(o)):s in f&&!(s in n)?(n[s]=r.generateLabel(r.getLabelBaseName(s)),u=!0):r.addLabel(s);return u}}}),u=r.specialize({initWithSerialization:{value:function(e){this._serialization=e}},visitSerialization:{value:function(e){var t=this._serialization.getSerializationObject();this._walkRootObjects(e,t),this._serialization.initWithObject(t)}},visitSerializationObject:{value:function(e,t){var n=this._serialization.getSerializationObject();if(!(e in n))throw new Error('Object "'+e+'" does not exist in '+this._serialization.getSerializationString());this._walkRootObject(t,n,e),this._serialization.initWithObject(n)}},changeLabel:{value:function(e,t){var n,r=this._serialization.getSerializationObject();n=r[e],delete r[e],r[t]=n}},_walkRootObjects:{value:function(e,t){for(var n in t)this._walkRootObject(e,t,n)}},_walkRootObject:{value:function(e,t,n){var r=t[n];"value"in r?this._walkObject(e,r,"value",n):this._walkCustomObject(e,t,n)}},_walkObject:{value:function(e,t,n,r,i){var a,s=t[n],l=o.getTypeOf(s);if(a={type:l},r?a.label=r:a.name=n,i&&(a.parent=i),"number"===l||"string"===l||"null"===l)a.data=s,e(a),t[n]=a.data;else if("regexp"===l)a.data=s["/"],e(a),s["/"]=a.data;else if("reference"===l)a.data=s["@"],e(a),s["@"]=a.data;else if("Element"===l)a.data=s["#"],e(a),s["#"]=a.data;else if("array"===l){a.data=s,e(a),t[n]=s=a.data;for(var c=0,u=s.length;c<u;c++)this._walkObject(e,s,""+c,null,a)}else if("binding"===l)this._walkBinding(e,t,n,a);else if("object"===l){a.data=s,e(a),t[n]=s=a.data;for(var f in s)this._walkObject(e,s,f,null,a)}null!==r&&void 0!==r&&r!==a&&a.label!==r&&this.changeLabel(r,a.label)}},_walkCustomObject:{value:function(e,t,n){var r,i=t[n];r={type:"montageObject",label:n,data:i},e(r),t[n]=i=r.data,r.label!==n&&this.changeLabel(n,r.label),i.values?this._walkObject(e,i,"values",null,r):i.properties&&this._walkObject(e,i,"properties",null,r),i.bindings&&this._walkBindings(e,i,null,r),i.listeners&&this._walkObject(e,i,"listeners",null,r),i.localizations&&this._walkLocalizations(e,i,null,r)}},_walkBindings:{value:function(e,t,n){var r,i=t.bindings;r={type:"bindings",data:i,parent:n},e(r),t.bindings=i=r.data;for(var o in i)this._walkBinding(e,i,o,r)}},_walkBinding:{value:function(e,t,n,r){var i,o=t[n];i={type:"binding",name:n,data:o,parent:r},e(i),t[n]=o=i.data,this._walkBindingData(e,o,i)}},_walkBindingData:{value:function(e,t,n){var r,i,o=!1;r=t["<-"]||t["<->"],i=Object.clone(a(r)),this._walksBindingReferences(i,function(t){var n={type:"reference",data:t.label};e(n),t.label!==n.data&&(t.label=n.data,o=!0)}),o&&("<-"in t?t["<-"]=s(i):t["<->"]=s(i)),t.converter&&this._walkObject(e,t,"converter",null,n)}},_walkLocalizations:{value:function(e,t,n){var r,i=t.localizations;r={type:"localizations",data:i,parent:n},e(r),t.localizations=i=r.data;for(var o in i)this._walkLocalization(e,i,o,r)}},_walkLocalization:{value:function(e,t,n,r){var i,o,a=t[n];if(i={type:"localization",name:n,data:a,parent:r},e(i),t[n]=a=i.data,"object"==typeof a.key&&this._walkBindingData(e,a.key,i),"object"==typeof a["default"]&&this._walkBindingData(e,a["default"],i),"object"==typeof a.data){o=a.data;for(var s in o)this._walkBindingData(e,o[s],i)}}},_walksBindingReferences:{value:function(e,t){var n=e.args;if("component"===e.type&&t(e),n)for(var r=0,i=n.length;r<i;r++)this._walksBindingReferences(n[r],t)}}}),f=r.specialize({_serialization:{value:null},initWithSerialization:{value:function(e){this._serialization=e}},extractSerialization:{value:function(e,n){var r,i,o,a=new t.SerializationInspector,s={},c=[];for(o=this._serialization.getSerializationObject(),a.initWithSerialization(this._serialization),r=0,i;i=e[r];r++)s[i]=o[i],a.visitSerializationObject(i,function(t){var n;"reference"===t.type&&(n=t.data,c.indexOf(n)===-1&&e.indexOf(n)===-1&&c.push(n))});if(n)for(r=0,i;i=n[r];r++)i in o&&!(i in s)&&(s[i]={});for(r=0,i;i=c[r];r++)s[i]={};return(new l).initWithObject(s)}}});t.Serialization=l,t.SerializationMerger=c,t.SerializationInspector=u,t.SerializationExtractor=f}}),montageDefine("15c0bd3","core/mini-url",{dependencies:[],factory:function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,f,d,h,p=e[c].replace(a,"%20"),b=p.indexOf(n);b>=0?(u=p.substr(0,b),f=p.substr(b+1)):(u=p,f=""),d=decodeURIComponent(u),h=decodeURIComponent(f),i(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function s(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var i=encodeURIComponent(a(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return i+encodeURIComponent(a(e))}).join(t):i+encodeURIComponent(a(e[r]))}).join(t):void 0===r||null===r?"":encodeURIComponent(a(r))+n+encodeURIComponent(a(e))}function l(e){return null===e}function c(e){return null===e||void 0===e}function u(e){return"string"==typeof e}function f(e){return"object"==typeof e}function d(e,t,n){if(e&&f(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}var h=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,b=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,m=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(m),v=["'"].concat(g),y=["%","/","?",";","#"].concat(v),_=["/","?","#"],w=255,x=/^[+a-z0-9A-Z_-]{0,63}$/,k=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",a=e.split(i),s=/\\/g;a[0]=a[0].replace(s,"/"),e=a.join(i);var l=e;if(l=l.trim(),!n&&1===e.split("#").length){var c=b.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=o(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var f,d=h.exec(l);d&&(d=d[0],f=d.toLowerCase(),this.protocol=f,l=l.substr(d.length));var p;(n||d||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(p="//"===l.substr(0,2),!p||d&&O[d]||(l=l.substr(2),this.slashes=!0));var m,g,E,A;if(!O[d]&&(p||d&&!C[d])){var D=-1;for(m=0;m<_.length;m++)A=l.indexOf(_[m]),A!==-1&&(D===-1||A<D)&&(D=A);var P,T;for(T=D===-1?l.lastIndexOf("@"):l.lastIndexOf("@",D),T!==-1&&(P=l.slice(0,T),l=l.slice(T+1),this.auth=decodeURIComponent(P)),D=-1,m=0;m<y.length;m++)A=l.indexOf(y[m]),A!==-1&&(D===-1||A<D)&&(D=A);D===-1&&(D=l.length),this.host=l.slice(0,D),l=l.slice(D),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S){var L=this.hostname.split(/\./);for(m=0,g=L.length;m<g;m++){var z=L[m];if(z&&!z.match(x)){for(var R="",M=0,F=z.length;M<F;M++)R+=z.charCodeAt(M)>127?"x":z[M];if(!R.match(x)){var I=L.slice(0,m),B=L.slice(m+1),N=z.match(k);N&&(I.push(N[1]),B.unshift(N[2])),B.length&&(l="/"+B.join(".")+l),this.hostname=I.join(".");break}}}}this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),E=this.port?":"+this.port:"";var q=this.hostname||"";this.host=q+E,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==l[0]&&(l="/"+l))}if(!j[f])for(m=0,g=v.length;m<g;m++){var V=v[m];if(l.indexOf(V)!==-1){var U=encodeURIComponent(V);U===V&&(U=escape(V)),l=l.split(V).join(U)}}var W=l.indexOf("#");W!==-1&&(this.hash=l.substr(W),l=l.slice(0,W));var H=l.indexOf("?");if(H!==-1?(this.search=l.substr(H),this.query=l.substr(H+1),t&&(this.query=o(this.query)),l=l.slice(0,H)):t&&(this.search="",this.query={}),l&&(this.pathname=l),C[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"";var G=this.search||"";this.path=E+G}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&f(this.query)&&Object.keys(this.query).length&&(o=s(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(d(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),f=0;f<s.length;f++){var d=s[f];"protocol"!==d&&(n[d]=e[d])}return C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}var h,p;if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol]){for(var b=Object.keys(e),m=0;m<b.length;m++){var g=b[m];n[g]=e[g]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||O[e.protocol])n.pathname=e.pathname;else{h=(e.pathname||"").split("/");do e.host=h.shift();while(!e.host&&h.length);e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||_||n.host&&e.pathname,k=x,j=n.protocol&&!C[n.protocol];p=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],j&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===p[0]));var E;if(w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=h;else if(h.length)p||(p=[]),p.pop(),p=p.concat(h),n.search=e.search,n.query=e.query;else if(!c(e.search))return j&&(n.hostname=n.host=p.shift(),E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"),E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())),n.search=e.search,n.query=e.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=p.slice(-1)[0],D=(n.host||e.host||p.length>1)&&("."===A||".."===A)||""===A,P=0,T=p.length;T>=0;T--)A=p[T],"."===A?p.splice(T,1):".."===A?(p.splice(T,1),P++):P&&(p.splice(T,1),P--);if(!x&&!k)for(;P--;P)p.unshift("..");!x||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),D&&"/"!==p.join("/").substr(-1)&&p.push("");var S=""===p[0]||p[0]&&"/"===p[0].charAt(0);return j&&(n.hostname=n.host=S?"":p.length?p.shift():"",E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"),E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())),x=x||n.host&&p.length,x&&!S&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.resolve=function(e,t){return d(e,!1,!0).resolve(t)}}}),montageDefine("15c0bd3","core/extras/dom",{dependencies:[],factory:function(e,t,n){if("undefined"!=typeof Node){var r=Node.prototype;r.get=function(e){return this.getAttribute(e)||this[e]},r.parentOf=function(e){do e=e.parentNode;while(e&&e!==this);return!!e}}if("undefined"!=typeof Element){var i=Element.prototype;Object.defineProperty(i,"set",{value:function(e,t,n){var r,i,o,a,s,l=e.indexOf(".",n);n=n||0,i=e.substring(n,l===-1?e.length:l),l===-1?this.setAttribute(i,t):(o=e.lastIndexOf("."),"style"===i?(a=e.substring(l+1,e.length),this.style[a]=t):"classList"===i?(s=e.substring(l+1,e.length),t?this.classList.add(s):this.classList.remove(s)):(r=this.get(e.substring(0,o)))&&(r[e.substring(o+1,e.length)]=t))},enumerable:!1});var o="classList";if(!i.hasOwnProperty(o)){var a=/^\s+|\s+$/g,s=function(e,t){e.setAttribute("class",t.join(" "))},l=function(e,t){if(""===t)throw"SYNTAX_ERR";if(/\s/.test(t))throw"INVALID_CHARACTER_ERR";return e.indexOf(t)},c=function(){var e=this,t=e.getAttribute("class")||"";return t=t.replace(a,"").split(/\s+/),{length:t.length,item:function(e){return t[e]||null},contains:function(e){return l(t,e)!==-1},add:function(n){l(t,n)===-1&&(t.push(n),this.length=t.length,s(e,t))},remove:function(n){var r=l(t,n);r!==-1&&(t.splice(r,1),this.length=t.length,s(e,t))},toggle:function(e){l(t,e)===-1?this.add(e):this.remove(e)},toString:function(){return e.getAttribute("class")||""}}};Object.defineProperty?Object.defineProperty(i,o,{get:c,enumerable:!0}):Object.prototype.__defineGetter__&&i.__defineGetter__(o,c)}}if("undefined"!=typeof Node){var u=Object.getPrototypeOf(document);u.addRule=function(e,t){var n,r;if(n=document.styleSheets[0])r=document.getRule(e,n);else{var i=document.createElement("style");i.type="text/css",document.head.appendChild(i),n=document.styleSheets[0]}r||n.insertRule(e+" "+t,n.cssRules.length)},u.getRule=function(e,t){var n;if(t.cssRules)for(var r=0;n=t.cssRules[r];r++){if(n.name&&n.name===e)return n;if(n.selectorText===e)return n}}}if("undefined"!=typeof DOMTokenList){var f=window.DOMTokenList.prototype;"undefined"==typeof f.has&&Object.defineProperty(f,"has",{value:function(e){return this.contains(e)}})}}}),montageDefine("15c0bd3","core/gate",{dependencies:["./core","./logger","collections/map"],factory:function(e,t,n){var r=e("./core").Montage,i=e("./logger").logger("gate"),o=e("collections/map");t.Gate=r.specialize({init:{enumerable:!1,value:function(){return this.reset(),this}},initWithDelegate:{enumerable:!1,value:function(e){return this.reset(),this.delegate=e,this}},initWithDescriptor:{enumerable:!1,value:function(e){var t;this.reset();for(t in e)e.hasOwnProperty(t)&&this.setField(t,e[t].value);return this}},count:{value:0},table:{value:null},getField:{enumerable:!1,value:function(e){var t=this.table;return!t||t[e]}},setField:{enumerable:!1,value:function(e,t){var n,r=this.table||(this.table=new o),a=this.count;n=r[e],"undefined"!=typeof n||t?"undefined"!=typeof n&&n!==t?t?this.count--:this.count++:t&&i.isDebug&&i.debug(this,e+" was not set before."):this.count++,r[e]=!!t,0===this.count&&a>0?this.callDelegateMethod(!0):0===a&&this.count>0&&this.callDelegateMethod(!1)}},removeField:{enumerable:!1,value:function(e){var t=this.table,n=t[e];"undefined"==typeof n||n||this.count--,delete t[e]}},delegate:{enumerable:!1,value:null},callDelegateMethod:{value:function(e){var t;this.delegate&&"function"==typeof(t=this.delegate["gateDidBecome"+(e?"True":"False")])&&t.call(this.delegate,this)},enumerable:!1},value:{enumerable:!1,get:function(){return 0===this.count}},reset:{enumerable:!1,value:function(){this.table={},this.count=0}},toString:{value:function(){var e,t,n=this._fields,r="";for(e=0;t=n[e];e++)r+=t+"["+(this._value&n[t])+"], ";return r}}})}}),montageDefine("2b669b9","js/release/bluebird",{dependencies:["./promise"],factory:function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise")();o.noConflict=r,n.exports=o}}),montageDefine("2b669b9","js/release/promise",{dependencies:["./util","./es5","./async","./errors","./thenables","./promise_array","./context","./debuggability","./finally","./catch_filter","./nodeback","./method","./bind","./cancel","./direct_resolve","./synchronous_inspection","./join","./map.js","./call_get.js","./using.js","./timers.js","./generators.js","./nodeify.js","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./filter.js","./each.js","./any.js"],factory:function(e,t,n){"use strict";n.exports=function(){function t(){}function r(e,t){if(null==e||e.constructor!==i)throw new v("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new v("expecting a function but got "+h.classString(t))}function i(e){e!==_&&r(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new i(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var l,c=function(){return new v("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new i.PromiseInspection(this._target())},f=function(e){return i.reject(new v(e))},d={},h=e("./util");l=h.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(i,"_getDomain",l);var p=e("./es5"),b=e("./async"),m=new b;p.defineProperty(i,"_async",{value:m});var g=e("./errors"),v=i.TypeError=g.TypeError;i.RangeError=g.RangeError;var y=i.CancellationError=g.CancellationError;i.TimeoutError=g.TimeoutError,i.OperationalError=g.OperationalError,i.RejectionError=g.OperationalError,i.AggregateError=g.AggregateError;var _=function(){},w={},x={},k=e("./thenables")(i,_),j=e("./promise_array")(i,_,k,f,t),O=e("./context")(i),C=O.create,E=e("./debuggability")(i,O),A=(E.CapturedTrace,e("./finally")(i,k,x)),D=e("./catch_filter")(x),P=e("./nodeback"),T=h.errorObj,S=h.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return f("Catch statement predicate: expecting an object but got "+h.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,D(r,e,this))}return this.then(void 0,e)},i.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},i.prototype.then=function(e,t){if(E.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},i.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(e){return"function"!=typeof e?f("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,w,void 0)},i.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new j(this).promise()},i.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},i.getNewLibraryCopy=n.exports,i.is=function(e){return e instanceof i},i.fromNode=i.fromCallback=function(e){var t=new i(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=S(e)(P(t,n));return r===T&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},i.all=function(e){return new j(e).promise()},i.cast=function(e){var t=k(e);return t instanceof i||(t=new i(_),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(e){var t=new i(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},i.setScheduler=function(e){if("function"!=typeof e)throw new v("expecting a function but got "+h.classString(e));return m.setScheduler(e)},i.prototype._then=function(e,t,n,r,o){var a=void 0!==o,s=a?o:new i(_),c=this._target(),u=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=l();if(0!==(50397184&u)){var d,p,b=c._settlePromiseCtx;0!==(33554432&u)?(p=c._rejectionHandler0,d=e):0!==(16777216&u)?(p=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(b=c._settlePromiseLateCancellationObserver,p=new y("late cancellation observer"),c._attachExtraTrace(p),d=t),m.invoke(b,c,{handler:null===f?d:"function"==typeof d&&h.domainBind(f,d),promise:s,receiver:r,value:p})}else c._addCallbacks(e,t,s,r,f);return s},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==d)return void 0===t&&this._isBound()?this._boundValue():t},i.prototype._promiseAt=function(e){return this[4*e-4+2]},i.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},i.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=d),this._addCallbacks(t,n,r,i,null)},i.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=d),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:h.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:h.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:h.domainBind(i,t))}return this._setLength(o+1),o},i.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},i.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=k(e,this);if(!(n instanceof i))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var o=r._bitField;if(0===(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var l=new y("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}},i.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&E.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},i.prototype._resolveFromExecutor=function(e){if(e!==_){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},i.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===w?n&&"number"==typeof n.length?o=S(e).apply(this._boundValue(),n):(o=T,o.e=new v("cannot .spread() a non-array: "+h.classString(n))):o=S(e).call(t,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===x?r._reject(n):o===T?r._rejectCallback(o.e,!1):(E.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(e){this._rejectionHandler0=e},i.prototype._settlePromise=function(e,n,r,o){var a=e instanceof i,s=this._bitField,l=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),r instanceof A&&r.isFinallyHandler()?(r.cancelPromise=e,S(n).call(r,o)===T&&e._reject(T.e)):n===u?e._fulfill(u.call(r)):r instanceof t?r._promiseCancelled(e):a||e instanceof j?e._cancel():r.cancel()):"function"==typeof n?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(n,r,o,e)):n.call(r,o,e):r instanceof t?r._isResolved()||(0!==(33554432&s)?r._promiseFulfilled(o,e):r._promiseRejected(o,e)):a&&(l&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(o):e._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,o=e.value;"function"==typeof t?n instanceof i?this._settlePromiseFromHandler(t,r,o,n):t.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},i.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},i.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},i.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():m.settlePromises(this))}},i.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?m.fatalError(e,h.isNode):void((65535&t)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},i.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){E.deprecated("Promise.defer","new Promise");var e=new i(_);return{promise:e,resolve:o,reject:a}},h.notEnumerableProp(i,"_makeSelfResolutionError",c),e("./method")(i,_,k,f,E),e("./bind")(i,_,k,E),e("./cancel")(i,j,f,E),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,j,k,_,m,l),i.Promise=i,i.version="3.5.1",e("./map.js")(i,j,f,k,_,E),e("./call_get.js")(i),e("./using.js")(i,f,k,C,_,E),e("./timers.js")(i,_,E),e("./generators.js")(i,f,_,k,t,E),e("./nodeify.js")(i),e("./promisify.js")(i,_),e("./props.js")(i,j,k,f),e("./race.js")(i,_,k,f),e("./reduce.js")(i,j,f,k,_,E),e("./settle.js")(i,j,E),e("./some.js")(i,j,f),e("./filter.js")(i,_),e("./each.js")(i,_),e("./any.js")(i),h.toFastProperties(i),h.toFastProperties(i.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(void 0),s(!1),s(new i(_)),E.setBounds(b.firstLineError,h.lastLineError),i}}}),montageDefine("2b669b9","js/release/util",{dependencies:["./es5"],factory:function(e,t,n){"use strict";function r(){try{var e=C;return C=null,e.apply(this,arguments)}catch(t){return D.e=t,D}}function i(e){return C=e,r}function o(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return o(e)?new Error(m(e)):e}function l(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function c(e,t,n){if(!E.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function u(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(e,t,r),e}function f(e){throw e}function d(e){try{if("function"==typeof e){var t=E.names(e.prototype),n=E.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=L.test(e+"")&&E.names(e).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function h(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function p(e){return z.test(e)}function b(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function m(e){try{return e+""}catch(t){return"[no string representation]"}}function g(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function v(e){try{u(e,"isOperational",!0)}catch(t){}}function y(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function _(e){return g(e)&&E.propertyIsWritable(e,"stack")}function w(e){return{}.toString.call(e)}function x(e,t,n){for(var r=E.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{E.defineProperty(t,o,E.getDescriptor(e,o))}catch(a){}}}function k(e){return B?process.env[e]:void 0}function j(){if("function"==typeof Promise)try{var e=new Promise(function(){});
if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}function O(e,t){return e.bind(t)}var C,E=e("./es5"),A="undefined"==typeof navigator,D={e:{}},P="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,T=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},S=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(E.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(a){return r}for(var s=0;s<o.length;++s){var l=o[s];if(!i[l]){i[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&r.push(l)}}e=E.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),L=/this\s*\.\s*\S+\s*=/,z=/^[a-z$_][a-z$_0-9]*$/i,R=function(){return"stack"in new Error?function(e){return _(e)?e:new Error(m(e))}:function(e){if(_(e))return e;try{throw new Error(m(e))}catch(t){return t}}}(),M=function(e){return E.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var F="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};M=function(e){return E.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?F(e):null}}var I="undefined"!=typeof process&&"[object process]"===w(process).toLowerCase(),B="undefined"!=typeof process&&"undefined"!=typeof process.env,N={isClass:d,isIdentifier:p,inheritedDataKeys:S,getDataPropertyOrDefault:c,thrower:f,isArray:E.isArray,asArray:M,notEnumerableProp:u,isPrimitive:o,isObject:a,isError:g,canEvaluate:A,errorObj:D,tryCatch:i,inherits:T,withAppended:l,maybeWrapAsError:s,toFastProperties:h,filledRange:b,toString:m,canAttachTrace:_,ensureErrorObject:R,originatesFromRejection:y,markAsOriginatingFromRejection:v,classString:w,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:B,env:k,global:P,getNativePromise:j,domainBind:O};N.isRecentNode=N.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),N.isNode&&N.toFastProperties(process);try{throw new Error}catch(q){N.lastLineError=q}n.exports=N}}),montageDefine("2b669b9","js/release/es5",{dependencies:[],factory:function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)n.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(t){return a}},d=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};n.exports={isArray:d,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:f,isES5:r,propertyIsWritable:function(){return!0}}}}}),montageDefine("2b669b9","js/release/async",{dependencies:["./schedule","./queue","./util"],factory:function(e,t,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(l){s=l}var c=e("./schedule"),u=e("./queue"),f=e("./util");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},n.exports=r,n.exports.firstLineError=s}}),montageDefine("2b669b9","js/release/errors",{dependencies:["./es5","./util"],factory:function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:t),f(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return u(n,Error),n}function i(e){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,a,s=e("./es5"),l=s.freeze,c=e("./util"),u=c.inherits,f=c.notEnumerableProp,d=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),b=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(m){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(b.prototype[g[v]]=Array.prototype[g[v]]);s.defineProperty(b.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),b.prototype.isOperational=!0;var y=0;b.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return y--,t},u(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=l({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:b}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:d}}}),montageDefine("2b669b9","js/release/thenables",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n){function r(e,r){if(u(e)){if(e instanceof t)return e;var i=o(e);if(i===c){r&&r._pushContext();var l=t.reject(i.e);return r&&r._popContext(),l}if("function"==typeof i){if(a(e)){var l=new t(n);return e._then(l._fulfill,l._reject,void 0,l,null),l}return s(e,i,r)}}return e}function i(e){return e.then}function o(e){try{return i(e)}catch(t){return c.e=t,c}}function a(e){try{return f.call(e,"_promise0")}catch(t){return!1}}function s(e,r,i){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,f,!0),s=null)}var s=new t(n),u=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,d=l.tryCatch(r).call(e,o,a);return f=!1,s&&d===c&&(s._rejectCallback(d.e,!0,!0),s=null),u}var l=e("./util"),c=l.errorObj,u=l.isObject,f={}.hasOwnProperty;return r}}}),montageDefine("2b669b9","js/release/promise_array",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o){function a(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util");return l.isArray,l.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(e,n){var o=r(this._values,this._promise);if(o instanceof t){o=o._target();var s=o._bitField;if(this._values=o,0===(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=l.asArray(o),null===o){var u=i("expecting an array or an iterable object but got "+l.classString(o)).reason();return void this._promise._rejectCallback(u,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(o)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var l=r(e[s],i);l instanceof t?(l=l._target(),a=l._bitField):a=null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0===(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!==(33554432&a)?this._promiseFulfilled(l._value(),s):0!==(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}}}),montageDefine("2b669b9","js/release/context",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}}}),montageDefine("2b669b9","js/release/debuggability",{dependencies:["./errors","./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n){function r(e,t){return{promise:t}}function i(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+I.toString(e));r._attachCancellationCallback(e)})}catch(i){return i}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?I.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function l(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new T(this._peekContext())}function p(e,t){if(B(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);I.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),I.notEnumerableProp(e,"__stackCleaned__",!0)}}}function b(e,t,n,r,i){if(void 0===e&&null!==t&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=w(s),c=l.length-1;c>=0;--c){var u=l[c];if(!q.test(u)){var f=u.match(V);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(l.length>0)for(var d=l[0],c=0;c<s.length;++c)if(s[c]===d){c>0&&(a="\n"+s[c-1]);break}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,t)}}function m(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),g(n)}function g(e,n,r){if(oe.warnings){var i,o=new F(e);if(n)r._attachExtraTrace(o);else if(oe.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=k(o);o.stack=a.message+"\n"+a.stack.join("\n")}ee("warning",o)||j(o,"",!0)}}function v(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function y(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function _(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=r[s];if(t[i]!==l)break;t.pop(),i--}t=r}}function w(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||U.test(r),o=i&&ne(r);i&&!o&&(H&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function x(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||U.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?x(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:w(t)}}function j(e,t,n){if("undefined"!=typeof console){var r;if(I.isObject(e)){var i=e.stack;r=t+W(i,e)}else r=t+String(e);"function"==typeof z?z(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function O(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(o){M.throwLater(o)}"unhandledRejection"===e?ee(e,n,r)||i||j(n,"Unhandled rejection "):ee(e,r)}function C(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():I.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+E(t)+">, no stack trace)"}function E(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function A(){return"function"==typeof ie}function D(e){var t=e.match(re);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function P(e,t){if(A()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<i.length;++l){var c=D(i[l]);if(c){n=c.fileName,a=c.line;break}}for(var l=0;l<o.length;++l){var c=D(o[l]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(ne=function(e){if(N.test(e))return!0;var t=D(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function T(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ie(this,T),t>32&&this.uncycle()}var S,L,z,R=t._getDomain,M=t._async,F=e("./errors").Warning,I=e("./util"),B=I.canAttachTrace,N=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,q=/\((?:timers\.js):\d+:\d+\)/,V=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,W=null,H=!1,G=!(0==I.env("BLUEBIRD_DEBUG")||!I.env("BLUEBIRD_DEBUG")&&"development"!==I.env("NODE_ENV")),$=!(0==I.env("BLUEBIRD_WARNINGS")||!G&&!I.env("BLUEBIRD_WARNINGS")),J=!(0==I.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!I.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=I.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&($||!!I.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){O("rejectionHandled",S,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),O("unhandledRejection",L,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return g(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=R();L="function"==typeof e?null===t?e:I.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=R();S="function"==typeof e?null===t?e:I.domainBind(t,e):void 0};var Q=function(){};t.longStackTraces=function(){if(M.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!oe.longStackTraces&&A()){var e=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace;oe.longStackTraces=!0,Q=function(){if(M.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),M.enableTrampoline(),oe.longStackTraces=!1},t.prototype._captureStackTrace=h,t.prototype._attachExtraTrace=p,n.activateLongStackTraces(),M.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return oe.longStackTraces&&A()};var Y=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return I.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!I.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return I.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!I.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),I.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!I.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return I.isNode?function(){return process.emit.apply(process,arguments)}:I.global?function(e){var t="on"+e.toLowerCase(),n=I.global[t];return!!n&&(n.apply(I.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),K={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:r},ee=function(e){var t=!1;try{t=Z.apply(null,arguments)}catch(n){M.throwLater(n),t=!0}var r=!1;try{r=Y(e,K[e].apply(null,arguments))}catch(n){M.throwLater(n),r=!0}return r||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&Q()),"warnings"in e){var n=e.warnings;oe.warnings=!!n,X=oe.warnings,I.isObject(n)&&"wForgottenReturn"in n&&(X=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!oe.cancellation){if(M.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=c,t.prototype._propagateFrom=u,t.prototype._onCancel=s,t.prototype._setOnCancel=l,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,te=u,oe.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!oe.monitoring?(oe.monitoring=!0,t.prototype._fireEvent=ee):!e.monitoring&&oe.monitoring&&(oe.monitoring=!1,t.prototype._fireEvent=i)),t},t.prototype._fireEvent=i,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(r){return r}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var te=f,ne=function(){return!1},re=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;I.inherits(T,Error),n.CapturedTrace=T,T.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var l=r>0?t[r-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},T.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(w(i.stack.split("\n"))),i=i._parent;_(r),y(r),I.notEnumerableProp(e,"stack",v(n,r)),I.notEnumerableProp(e,"__stackCleaned__",!0)}};var ie=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():C(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=e,W=t;var n=Error.captureStackTrace;return ne=function(e){return N.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,W=t,H=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?C(t):t.toString()},null):(U=e,W=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(z=function(e){console.warn(e)},I.isNode&&process.stderr.isTTY?z=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:I.isNode||"string"!=typeof(new Error).stack||(z=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var oe={warnings:$,longStackTraces:!1,cancellation:!1,monitoring:!1};return J&&t.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return te},boundValueFunction:function(){return d},checkForgottenReturns:b,setBounds:P,warn:g,deprecated:m,CapturedTrace:T,fireDomEvent:Y,fireGlobalEvent:Z}}}}),montageDefine("2b669b9","js/release/finally",{dependencies:["./util","./catch_filter"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function l(e){if(!a(this,e))return d.e=e,d}function c(e){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),e);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var h=n(u,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new f("late cancellation observer");return i._attachExtraTrace(p),d.e=p,d}h.isPending()&&h._attachCancellationCallback(new o(this))}return h._then(s,l,void 0,this,void 0)}}}return i.isRejected()?(a(this),d.e=e,d):(a(this),e)}var u=e("./util"),f=t.CancellationError,d=u.errorObj,h=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,c);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!u.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(h(i,s,this),1,void 0,c)},i}}}),montageDefine("2b669b9","js/release/catch_filter",{dependencies:["./util","./es5"],factory:function(e,t,n){"use strict";n.exports=function(t){function n(e,n,s){return function(l){var c=s._boundValue();e:for(var u=0;u<e.length;++u){var f=e[u];if(f===Error||null!=f&&f.prototype instanceof Error){if(l instanceof f)return o(n).call(c,l)}else if("function"==typeof f){var d=o(f).call(c,l);if(d===a)return d;if(d)return o(n).call(c,l)}else if(r.isObject(l)){for(var h=i(f),p=0;p<h.length;++p){var b=h[p];if(f[b]!=l[b])continue e}return o(n).call(c,l)}}return t}}var r=e("./util"),i=e("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}}}),montageDefine("2b669b9","js/release/nodeback",{dependencies:["./util","./errors","./es5"],factory:function(e,t,n){"use strict";function r(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=u.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){for(var a=arguments.length,l=new Array(Math.max(a-1,0)),c=1;c<a;++c)l[c-1]=arguments[c];e._fulfill(l)}else e._fulfill(r);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,l=e("./errors"),c=l.OperationalError,u=e("./es5"),f=/^(?:name|message|stack|cause)$/;n.exports=o}}),montageDefine("2b669b9","js/release/method",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t["try"]=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var l;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],u=arguments[2];l=a.isArray(c)?s(e).apply(u,c):s(e).call(u,c)}else l=s(e)();var f=r._popContext();return o.checkForgottenReturns(l,f,"Promise.try",r),r._resolveFromSyncValue(l),r},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}}}),montageDefine("2b669b9","js/release/bind",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),u=new e(t);u._propagateFrom(this,1);var f=this._target();if(u._setBoundTo(c),c instanceof e){var d={promiseRejectionQueued:!1,promise:u,target:f,bindingPromise:c};f._then(t,a,void 0,u,d),c._then(s,l,void 0,u,d),u._setOnCancel(c)}else u._resolveCallback(f);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t);
}}}}),montageDefine("2b669b9","js/release/cancel",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,l=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),l.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}}}),montageDefine("2b669b9","js/release/direct_resolve",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}}}),montageDefine("2b669b9","js/release/synchronous_inspection",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}}}),montageDefine("2b669b9","js/release/join",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o,a){var s,l=e("./util"),c=l.canEvaluate,u=l.tryCatch,f=l.errorObj;if(c){for(var d=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},h=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))},p=function(e){for(var n=new Array(e),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",a="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),s=n.join(", "),l="Holder$"+e,c="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return c=c.replace(/\[TheName\]/g,l).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",c)(u,f,t,o)},b=[],m=[],g=[],v=0;v<8;++v)b.push(p(v+1)),m.push(d(v+1)),g.push(h(v+1));s=function(e){this._reject(e)}}t.join=function(){var e,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(e=arguments[o],o<=8&&c)){var u=new t(i);u._captureStackTrace();for(var f=b[o-1],d=new f(e),h=m,p=0;p<o;++p){var v=r(arguments[p],u);if(v instanceof t){v=v._target();var y=v._bitField;0===(50397184&y)?(v._then(h[p],s,void 0,u,d),g[p](v,d),d.asyncNeeded=!1):0!==(33554432&y)?h[p].call(u,v._value(),d):0!==(16777216&y)?u._reject(v._reason()):u._cancel()}else h[p].call(u,v,d)}if(!u._isFateSealed()){if(d.asyncNeeded){var _=a();null!==_&&(d.fn=l.domainBind(_,d.fn))}u._setAsyncGuaranteed(),u._setOnCancel(d)}return u}for(var w=arguments.length,x=new Array(w),k=0;k<w;++k)x[k]=arguments[k];e&&x.pop();var u=new n(x).promise();return void 0!==e?u.spread(e):u}}}}),montageDefine("2b669b9","js/release/map",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o,a){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=c();this._callback=null===i?t:u.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function l(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var c=t._getDomain,u=e("./util"),f=u.tryCatch,d=u.errorObj,h=t._async;u.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(n=n*-1-1,r[n]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,u=this._callback,h=c._boundValue();c._pushContext();var p=f(u).call(h,e,n,o),b=c._popContext();if(a.checkForgottenReturns(p,b,null!==s?"Promise.filter":"Promise.map",c),p===d)return this._reject(p.e),!0;var m=i(p,this._promise);if(m instanceof t){m=m._target();var g=m._bitField;if(0===(50397184&g))return l>=1&&this._inFlight++,r[n]=m,m._proxy(this,(n+1)*-1),!1;if(0===(33554432&g))return 0!==(16777216&g)?(this._reject(m._reason()),!0):(this._cancel(),!0);p=m._value()}r[n]=p}var v=++this._totalResolved;return v>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return l(this,e,t,null)},t.map=function(e,t,n,r){return l(e,t,n,r)}}}}),montageDefine("2b669b9","js/release/call_get",{dependencies:["./util"],factory:function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}n.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+u.classString(e)+" has no method '"+u.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function a(e){return e[this]}function s(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var l,c,u=e("./util"),f=u.canEvaluate,d=u.isIdentifier,h=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(n)},p=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))},b=function(e,t,n){var r=n[e];if("function"!=typeof r){if(!d(e))return null;if(r=t(e),n[e]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};l=function(e){return b(e,h,i)},c=function(e){return b(e,p,o)},t.prototype.call=function(e){for(var t=arguments.length,n=new Array(Math.max(t-1,0)),i=1;i<t;++i)n[i-1]=arguments[i];if(f){var o=l(e);if(null!==o)return this._then(o,void 0,void 0,n,void 0)}return n.push(e),this._then(r,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=s;else if(f){var r=c(e);t=null!==r?r:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}}}),montageDefine("2b669b9","js/release/using",{dependencies:["./util","./errors","./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o,a){function s(e){setTimeout(function(){throw e},0)}function l(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,n){function i(){if(a>=c)return u._fulfill();var o=l(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(f){return s(f)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,c=e.length,u=new t(o);return i(),u}function u(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function d(e){return u.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),b=e("./errors").TypeError,m=e("./util").inherits,g=p.errorObj,v=p.tryCatch,y={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},u.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==y?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},u.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(f,u),f.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+p.classString(i));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var l=new h(e),f=0;f<e;++f){var b=o[f];if(u.isDisposer(b)){var m=b;b=b.promise(),b._setDisposable(m)}else{var y=r(b);y instanceof t&&(b=y._then(d,null,null,{resources:l,index:f},void 0))}l[f]=b}for(var _=new Array(l.length),f=0;f<_.length;++f)_[f]=t.resolve(l[f]).reflect();var w=t.all(_).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}x._pushContext(),i=v(i);var r=s?i.apply(void 0,e):i(e),o=x._popContext();return a.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var e=new t.PromiseInspection(w);return c(l,e)});return l.promise=x,x._setOnCancel(l),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new f(e,this,i());throw new b}}}}),montageDefine("2b669b9","js/release/timers",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),l=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(c,null,null,e,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,l=new i(setTimeout(function(){n.isPending()&&f(n,t,s)},e));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,l,void 0),n._setOnCancel(l)):n=this._then(o,a,void 0,l,void 0),n}}}}),montageDefine("2b669b9","js/release/generators",{dependencies:["./errors","./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=h(n[o])(e);if(r._popContext(),a===d){r._pushContext();var s=t.reject(d.e);return r._popContext(),s}var l=i(a,r);if(l instanceof t)return l}return null}function l(e,n,i,o){if(a.cancellation()){var s=new t(r),l=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new t(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),u=c.TypeError,f=e("./util"),d=f.errorObj,h=f.tryCatch,p=[];f.inherits(l,o),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),e=h(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=h(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},l.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(e){var n=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=l,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r((void 0),(void 0),n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+f.classString(e));p.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new l(e,this),i=r.promise();return r._run(t.spawn),i}}}}),montageDefine("2b669b9","js/release/nodeify",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=s(t).apply(n._boundValue(),[null].concat(e));i===l&&a.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?s(t).call(r,null):s(t).call(r,null,e);i===l&&a.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=s(t).call(n._boundValue(),e);i===l&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}}}),montageDefine("2b669b9","js/release/promisify",{dependencies:["./util","./nodeback","./errors"],factory:function(e,t,n){"use strict";n.exports=function(t,n){function r(e){return!x.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var r=h.getDataPropertyOrDefault(e,t+n,_);return!!r&&i(r)}function a(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new v("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=h.inheritedDataKeys(e),l=[],c=0;c<s.length;++c){var u=s[c],f=e[u],d=r===k||k(u,f,e);"function"!=typeof f||i(f)||o(e,u,t)||!r(u,f,e,d)||l.push(u,f)}return a(l,t,n),l}function l(e,r,i,o,a,s){function l(){var i=r;r===d&&(i=this);var o=new t(n);o._captureStackTrace();var a="string"==typeof u&&this!==c?this[u]:e,l=p(o,s);try{a.apply(i,b(arguments,l))}catch(f){o._rejectCallback(m(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),u=e;return"string"==typeof u&&(e=o),h.notEnumerableProp(l,"__isPromisified__",!0),l}function c(e,t,n,r,i){for(var o=new RegExp(j(t)+"$"),a=s(e,t,o,n),l=0,c=a.length;l<c;l+=2){var u=a[l],f=a[l+1],p=u+t;if(r===D)e[p]=D(u,d,u,f,t,i);else{var b=r(f,function(){return D(u,d,u,f,t,i)});h.notEnumerableProp(b,"__isPromisified__",!0),e[p]=b}}return h.toFastProperties(e),e}function u(e,t,n){return D(e,t,void 0,e,null,n)}var f,d={},h=e("./util"),p=e("./nodeback"),b=h.withAppended,m=h.maybeWrapAsError,g=h.canEvaluate,v=e("./errors").TypeError,y="Async",_={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),k=function(e){return h.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},j=function(e){return e.replace(/([$])/,"\\$")},O=function(e){for(var t=[e],n=Math.max(0,e-1-3),r=e-1;r>=n;--r)t.push(r);for(var r=e+1;r<=3;++r)t.push(r);return t},C=function(e){return h.filledRange(e,"_arg","")},E=function(e){return h.filledRange(Math.max(e,3),"_arg","")},A=function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0};f=function(e,r,i,o,a,s){function l(e){var t,n=C(e).join(", "),i=e>0?", ":"";return t=g?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===r?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n",t.replace("{{args}}",n).replace(", ",i)}function c(){for(var e="",t=0;t<f.length;++t)e+="case "+f[t]+":"+l(f[t]);return e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",g?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}var u=Math.max(0,A(o)-1),f=O(u),g="string"==typeof e||r===d,v="string"==typeof e?"this != null ? this['"+e+"'] : fn":"fn",y="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+s+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",c()).replace("[GetFunctionCode]",v);return y=y.replace("Parameters",E(u)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",y)(t,o,r,b,m,p,h.tryCatch,h.errorObj,h.notEnumerableProp,n)};var D=g?f:l;t.promisify=function(e,t){if("function"!=typeof e)throw new v("expecting a function but got "+h.classString(e));if(i(e))return e;t=Object(t);var n=void 0===t.context?d:t.context,o=!!t.multiArgs,a=u(e,n,o);return h.copyDescriptors(e,a,r),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new v("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r=y);var i=t.filter;"function"!=typeof i&&(i=k);var o=t.promisifier;if("function"!=typeof o&&(o=D),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=h.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&h.isClass(l)&&(c(l.prototype,r,i,o,n),c(l,r,i,o,n))}return c(e,r,i,o,n)}}}}),montageDefine("2b669b9","js/release/props",{dependencies:["./util","./es5"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=f(e),n=!0;else{var r=u.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];t[o]=e[a],t[o+i]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=r(e);return c(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=e("./util"),c=l.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);
var f=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),d=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};l.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=d(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}}}),montageDefine("2b669b9","js/release/race",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i){function o(e,o){var l=r(e);if(l instanceof t)return s(l);if(e=a.asArray(e),null===e)return i("expecting an array or an iterable object but got "+a.classString(e));var c=new t(n);void 0!==o&&c._propagateFrom(o,3);for(var u=c._fulfill,f=c._reject,d=0,h=e.length;d<h;++d){var p=e[d];(void 0!==p||d in e)&&t.cast(p)._then(u,f,void 0,c,null)}return c}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}}}),montageDefine("2b669b9","js/release/reduce",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=d();this._fn=null===a?n:h.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,i){if("function"!=typeof t)return r("expecting a function but got "+h.classString(t));var o=new s(e,t,n,i);return o.promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=p(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var d=t._getDomain,h=e("./util"),p=h.tryCatch;h.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,r){return c(e,t,n,r)}}}}),montageDefine("2b669b9","js/release/settle",{dependencies:["./util"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r){function i(e){this.constructor$(e)}var o=t.PromiseInspection,a=e("./util");a.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}}}),montageDefine("2b669b9","js/release/some",{dependencies:["./util","./errors","./errors"],factory:function(e,t,n){"use strict";n.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,l=e("./errors").AggregateError,c=a.isArray,u={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new l,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}}}),montageDefine("2b669b9","js/release/filter",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}}}),montageDefine("2b669b9","js/release/each",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}}}),montageDefine("2b669b9","js/release/any",{dependencies:[],factory:function(e,t,n){"use strict";n.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}}}),montageDefine("2b669b9","js/release/schedule",{dependencies:["./util"],factory:function(e,t,n){"use strict";var r,i=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,l=process.nextTick;r=i.isRecentNode?function(e){s.call(global,e)}:function(e){l.call(process,e)}}else if("function"==typeof a&&"function"==typeof a.resolve){var c=a.resolve();r=function(e){c.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();n.exports=r}}),montageDefine("2b669b9","js/release/queue",{dependencies:[],factory:function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,o=n+i&t-1;r(this,0,this,t,o)},n.exports=i}}),montageDefine("d59cf92","shim",{dependencies:["./shim-array","./shim-object","./shim-function","./shim-regexp"],factory:function(e,t,n){e("./shim-array"),e("./shim-object"),e("./shim-function"),e("./shim-regexp")}}),montageDefine("d59cf92","map",{dependencies:["./_map","./listen/property-changes","./listen/map-changes"],factory:function(e,t,n){"use strict";var r=e("./_map"),i=e("./listen/property-changes"),o=e("./listen/map-changes");n.exports=r,void 0===global.Map||"function"!=typeof global.Set.prototype.values?(Object.addEach(r.prototype,i.prototype),Object.addEach(r.prototype,o.prototype)):(Object.defineEach(r.prototype,i.prototype,!1,!0,!1,!0),Object.defineEach(r.prototype,o.prototype,!1,!0,!1,!0))}}),montageDefine("d59cf92","set",{dependencies:["./_set","./listen/property-changes","./listen/range-changes","./listen/map-changes","set","./list","./fast-set"],factory:function(e,t,n){"use strict";function r(){var t=o.CollectionsSet,r=function c(e,n,r,i){return t._init(c,this,e,n,r,i)};r.Set=r,r.from=t.from,o.CollectionsSet=r,r.prototype=new t,r.prototype.constructor=r;var i=e("./list"),l=e("./fast-set");r.prototype.Order=i,r.prototype.Store=l,Object.defineProperty(r.prototype,"_dispatchEmptyArray",{value:[]}),r.prototype.add=function(e){var t=new this.order.Node(e);if(!this.store.has(t)){var n=this.length,r=[e];return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(r,this._dispatchEmptyArray,n),this.order.add(e),t=this.order.head.prev,this.store.add(t),this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange(r,this._dispatchEmptyArray,n),!0}return!1},r.prototype["delete"]=function(e,t){if(t)throw new Error("Set#delete does not support second argument: equals");var n=new this.order.Node(e);if(this.store.has(n)){n=this.store.get(n);var r=[e];return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(this._dispatchEmptyArray,r,n.index),this.store["delete"](n),this.order.splice(n,1),this.length--,this.dispatchesRangeChanges&&this.dispatchRangeChange(this._dispatchEmptyArray,r,n.index),!0}return!1},r.prototype.clear=function(){var e;this.dispatchesRangeChanges&&(e=this.toArray(),this.dispatchBeforeRangeChange(this._dispatchEmptyArray,e,0)),this._clear(),this.dispatchesRangeChanges&&this.dispatchRangeChange(this._dispatchEmptyArray,e,0)},Object.addEach(o.CollectionsSet.prototype,a.prototype),Object.addEach(o.CollectionsSet.prototype,s.prototype),o.CollectionsSet.prototype.makeObservable=function(){this.order.makeObservable()},n.exports=r}var i,o=e("./_set"),a=e("./listen/property-changes"),s=e("./listen/range-changes"),l=e("./listen/map-changes");if(void 0!==global.Set&&"function"==typeof global.Set.prototype.values){i=global.Set,n.exports=o;var c,u={}.__proto__===Object.prototype;c=u?function(){this.__proto__=b}:function(){Object.defineProperties(this,p)},Object.defineProperty(i.prototype,"makeObservable",{value:c,writable:!0,configurable:!0,enumerable:!1});var f=i.prototype.clear,d=i.prototype.add,h=i.prototype["delete"],p={_dispatchEmptyArray:{value:[]},clear:{value:function(){var e;this.dispatchesRangeChanges&&(e=this.toArray(),this.dispatchBeforeRangeChange(this._dispatchEmptyArray,e,0)),f.call(this),this.dispatchesRangeChanges&&this.dispatchRangeChange(this._dispatchEmptyArray,e,0)},writable:!0,configurable:!0},add:{value:function(e){if(!this.has(e)){var t=this.size,n=[e];return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(n,this._dispatchEmptyArray,t),d.call(this,e),this.dispatchesRangeChanges&&this.dispatchRangeChange(n,this._dispatchEmptyArray,t),!0}return!1},writable:!0,configurable:!0},"delete":{value:function(e,t){if(this.has(e)){if(void 0===t){var n=this.values();for(t=0;n.next().value!==e;)t++}var r=[e];return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(this._dispatchEmptyArray,r,t),h.call(this,e),this.dispatchesRangeChanges&&this.dispatchRangeChange(this._dispatchEmptyArray,r,t),!0}return!1}}},b=Object.create(i.prototype,p);Object.defineEach(o.prototype,a.prototype,!1,!0,!1,!0),Object.defineProperty(o.prototype,"makePropertyObservable",{value:function(){},writable:!0,configurable:!0,enumerable:!1}),Object.defineEach(o.prototype,s.prototype,!1,!0,!1,!0),Object.defineEach(o.prototype,l.prototype,!1,!0,!1,!0),Object.defineProperty(o,"_setupCollectionSet",{value:r,writable:!0,configurable:!0,enumerable:!1})}else r()}}),montageDefine("d59cf92","listen/property-changes",{dependencies:["../shim","../_map","../weak-map","./change-descriptor"],factory:function(e,t,n){function r(){throw new Error("This is an abstract interface. Mix it. Don't construct it")}function i(e,t,n,r){if(e&&e._current){var i,o,a,s,l,u=e.specificHandlerMethodName,f=e.genericHandlerMethodName,d=c;if(Array.isArray(e._current)){for(i=e.removeCurrentGostListenersIfNeeded(),a=0,s=i.length;a<s;a++)if((l=i[a])!==d){if(o=l[u]||l[f]||l,!o.call)throw new Error("No event listener for "+e.specificHandlerName+" or "+e.genericHandlerName+" or call on "+o);o.call(l,n,t,r)}}else{if(l=e._current,o=l[u]||l[f]||l,!o.call)throw new Error("No event listener for "+e.specificHandlerName+" or "+e.genericHandlerName+" or call on "+o);o.call(l,n,t,r)}}}Object.prototype.hasOwnProperty,n.exports=r,e("../shim");var o=e("../_map"),a=e("../weak-map"),s=e("./change-descriptor"),l=s.ObjectChangeDescriptor,c=s.ListenerGhost;r.debug=!0;var u=new a,f=new o;r.ObjectChangeDescriptor=function(){},r.prototype.getOwnPropertyChangeDescriptor=function(e){var t,n=u.get(this);if(n||(n=Object.create(null),u.set(this,n)),void 0===(t=n[e])){var r=f.get(e);return r||(r=String(e),r=r&&r[0].toUpperCase()+r.slice(1),f.set(e,r)),n[e]=new l(r)}return t},r.prototype.hasOwnPropertyChangeDescriptor=function(e){var t=u.get(this);return!(!t||e&&void 0===t[e])},r.prototype.addOwnPropertyChangeListener=function(e,t,n){this.makeObservable&&!this.isObservable&&this.makeObservable();var i=r.getOwnPropertyChangeDescriptor(this,e),o=n?i.willChangeListeners:i.changeListeners;r.makePropertyObservable(this,e),o._current?Array.isArray(o._current)?o._current.push(t):o._current=[o._current,t]:o._current=t;var a=this;return function(){r.removeOwnPropertyChangeListener(a,e,t,n),a=null}},r.prototype.addBeforeOwnPropertyChangeListener=function(e,t){return r.addOwnPropertyChangeListener(this,e,t,!0)},r.prototype.removeOwnPropertyChangeListener=function p(e,t,n){var i,o=r.getOwnPropertyChangeDescriptor(this,e);if(i=n?o._willChangeListeners:o._changeListeners,i&&i._current)if(i._current===t)i._current=null;else{var a=i._current.lastIndexOf(t);if(a===-1)throw new Error("Can't remove property change listener: does not exist: property name"+JSON.stringify(e));o.isActive?(i.ghostCount=i.ghostCount+1,i._current[a]=p.ListenerGhost):i._current.spliceOne(a)}},r.prototype.removeOwnPropertyChangeListener.ListenerGhost=c,r.prototype.removeBeforeOwnPropertyChangeListener=function(e,t){return r.removeOwnPropertyChangeListener(this,e,t,!0)},r.prototype.dispatchOwnPropertyChange=function b(e,t,n){var i,o=r.getOwnPropertyChangeDescriptor(this,e);if(!o.isActive){o.isActive=!0,i=n?o._willChangeListeners:o._changeListeners;try{b.dispatchEach(i,e,t,this)}finally{o.isActive=!1}}},r.prototype.dispatchOwnPropertyChange.dispatchEach=i,i.ListenerGhost=c,r.prototype.dispatchBeforeOwnPropertyChange=function(e,t){return r.dispatchOwnPropertyChange(this,e,t,!0)};var d=new a,h=(new a,{get:void 0,set:void 0,configurable:!0,enumerable:!1});r.prototype.makePropertyObservable=function(e){var t=d.get(this);if(!t||void 0===t.get(e)){if(!t){if(Array.isArray(this))return;if(!Object.isExtensible(this))throw new Error("Can't make property "+JSON.stringify(e)+" observable on "+this+" because object is not extensible");t=new o,d.set(this,t)}var n,r=this;do{if(n=Object.getOwnPropertyDescriptor(r,e))break;r=Object.getPrototypeOf(r)}while(r);if(n){if(!n.configurable)return;if(!n.writable&&!n.set)return}else n={value:void 0,enumerable:!0,writable:!0,configurable:!0};t.set(e,n),"value"in n?(h.get=function a(){return a.overriddenDescriptor.value},h.set=function s(e){var t,n,r=s.overriddenDescriptor;if(e!==r.value){if(!(n=(t=s.descriptor).isActive)){t.isActive=!0;try{s.dispatchEach(t._willChangeListeners,s.key,r.value,this)}finally{}}if(r.value=e,!n)try{s.dispatchEach(t._changeListeners,s.key,e,this)}finally{t.isActive=!1}}},h.set.dispatchEach=i,h.set.key=e,h.get.overriddenDescriptor=h.set.overriddenDescriptor=n,h.set.descriptor=u.get(this)[e],h.enumerable=n.enumerable,h.configurable=!0):(h.get=n.get,h.set=function l(){var t,n,r,i=l.overriddenGetter.call(this);if(1===arguments.length?l.overriddenSetter.call(this,arguments[0]):2===arguments.length?l.overriddenSetter.call(this,arguments[0],arguments[1]):l.overriddenSetter.apply(this,arguments),(r=l.overriddenGetter.call(this))!==i){if(t=l.descriptor,!(n=t.isActive)){t.isActive=!0;try{l.dispatchEach(t._willChangeListeners,e,i,this)}finally{}}if(!n)try{l.dispatchEach(t._changeListeners,e,r,this)}finally{t.isActive=!1}}},h.enumerable=n.enumerable,h.configurable=!0,h.set.dispatchEach=i,h.set.overriddenSetter=n.set,h.set.overriddenGetter=n.get,h.set.descriptor=u.get(this)[e]),Object.defineProperty(this,e,h)}},r.getOwnPropertyChangeDescriptor=function(e,t){return e.getOwnPropertyChangeDescriptor?e.getOwnPropertyChangeDescriptor(t):r.prototype.getOwnPropertyChangeDescriptor.call(e,t)},r.hasOwnPropertyChangeDescriptor=function(e,t){return e.hasOwnPropertyChangeDescriptor?e.hasOwnPropertyChangeDescriptor(t):r.prototype.hasOwnPropertyChangeDescriptor.call(e,t)},r.addOwnPropertyChangeListener=function(e,t,n,r){if(Object.isObject(e))return e.addOwnPropertyChangeListener?e.addOwnPropertyChangeListener(t,n,r):this.prototype.addOwnPropertyChangeListener.call(e,t,n,r)},r.removeOwnPropertyChangeListener=function(e,t,n,i){if(Object.isObject(e))return e.removeOwnPropertyChangeListener?e.removeOwnPropertyChangeListener(t,n,i):r.prototype.removeOwnPropertyChangeListener.call(e,t,n,i)},r.dispatchOwnPropertyChange=function(e,t,n,i){if(Object.isObject(e))return e.dispatchOwnPropertyChange?e.dispatchOwnPropertyChange(t,n,i):r.prototype.dispatchOwnPropertyChange.call(e,t,n,i)},r.addBeforeOwnPropertyChangeListener=function(e,t,n){return r.addOwnPropertyChangeListener(e,t,n,!0)},r.removeBeforeOwnPropertyChangeListener=function(e,t,n){return r.removeOwnPropertyChangeListener(e,t,n,!0)},r.dispatchBeforeOwnPropertyChange=function(e,t,n){return r.dispatchOwnPropertyChange(e,t,n,!0)},r.makePropertyObservable=function(e,t){return e.makePropertyObservable?e.makePropertyObservable(t):r.prototype.makePropertyObservable.call(e,t)}}}),montageDefine("d59cf92","shim-array",{dependencies:["./shim-function","./generic-collection","./generic-order","./weak-map"],factory:function(e,t,n){"use strict";function r(e,t){Object.defineProperty(Array.prototype,e,{value:t,writable:!0,configurable:!0,enumerable:!1})}function i(e,t,n){this.array=e,this.start=null==t?0:t,this.end=n}var o=(e("./shim-function"),e("./generic-collection")),a=e("./generic-order"),s=e("./weak-map");n.exports=Array;var l=Array.prototype.splice,c=Array.prototype.slice;Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(e){var t=[];return t.addEach(e),t},Array.unzip=function(e){for(var t=[],n=1/0,r=0;r<e.length;r++){var i=e[r];e[r]=i.toArray(),i.length<n&&(n=i.length)}for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)o<n&&o in i&&(t[o]=t[o]||[],t[o][r]=i[o]);return t},r("addEach",o.prototype.addEach),r("deleteEach",o.prototype.deleteEach),r("toArray",o.prototype.toArray),r("toObject",o.prototype.toObject),r("all",o.prototype.all),r("any",o.prototype.any),r("min",o.prototype.min),r("max",o.prototype.max),r("sum",o.prototype.sum),r("average",o.prototype.average),r("only",o.prototype.only),r("flatten",o.prototype.flatten),r("zip",o.prototype.zip),r("enumerate",o.prototype.enumerate),r("group",o.prototype.group),r("sorted",o.prototype.sorted),r("reversed",o.prototype.reversed),r("constructClone",function(e){var t=new this.constructor;return t.addEach(e),t}),r("has",function(e,t){return this.find(e,t)!==-1}),r("get",function(e,t){if(+e!==e)throw new Error("Indicies must be numbers");return!e in this?t:this[e]}),r("set",function(e,t){return this[e]=t,!0}),r("add",function(e){return this.push(e),!0}),r("delete",function(e,t){var n=this.find(e,t);return n!==-1&&(this.spliceOne(n),!0)}),r("deleteAll",function(e,t){t=t||this.contentEquals||Object.equals;for(var n=0,r=0;r<this.length;)t(e,this[r])?(this.swap(r,1),n++):r++;return n}),r("find",function(e,t){t=t||this.contentEquals||Object.equals;for(var n=0;n<this.length;n++)if(n in this&&t(e,this[n]))return n;return-1}),r("findLast",function(e,t){t=t||this.contentEquals||Object.equals;var n=this.length;do if(n--,n in this&&t(this[n],e))return n;while(n>0);return-1}),r("swap",function(e,t,n){var r,i,o,a,s;if(e>this.length&&(this.length=e),"undefined"!=typeof n){if(r=[e,t],Array.isArray(n)||(n=c.call(n)),o=0,i=n.length,i<1e3){for(o;o<i;o++)r[o+2]=n[o];return l.apply(this,r)}for(s=l.apply(this,r),o;o<i;){for(r=[e+o,0],a=2;a<1002&&o<i;a++,o++)r[a]=n[o];l.apply(this,r)}return s}return"undefined"!=typeof t?l.call(this,e,t):"undefined"!=typeof e?l.call(this,e):[]}),r("peek",function(){return this[0]}),r("poke",function(e){this.length>0&&(this[0]=e)}),r("peekBack",function(){if(this.length>0)return this[this.length-1]}),r("pokeBack",function(e){this.length>0&&(this[this.length-1]=e)}),r("one",function(){for(var e in this)if(Object.owns(this,e))return this[e]}),Array.prototype.clear||r("clear",function(){return this.length=0,this}),r("compare",function(e,t){t=t||Object.compare;var n,r,i,o,s;if(this===e)return 0;if(!e||!Array.isArray(e))return a.prototype.compare.call(this,e,t);for(r=this.length<e.length?this.length:e.length,n=0;n<r;n++)if(n in this){if(!(n in e))return-1;if(i=this[n],o=e[n],s=t(i,o))return s}else if(n in e)return 1;return this.length-e.length}),r("equals",function(e,t){t=t||Object.equals;var n,r,i=0,o=this.length;if(this===e)return!0;if(!e||!Array.isArray(e))return a.prototype.equals.call(this,e);if(o!==e.length)return!1;for(;i<o;++i)if(i in this){if(!(i in e))return!1;if(n=this[i],r=e[i],!t(n,r))return!1}else if(i in e)return!1;return!0}),r("clone",function(e,t){if(null==e)e=1/0;else if(0===e)return this;if(t=t||new s,t.has(this))return t.get(this);var n=new Array(this.length);t.set(this,n);for(var r in this)n[r]=Object.clone(this[r],e-1,t);return n}),r("iterate",function(e,t){return new i(this,e,t)}),void 0===Array.prototype.spliceOne&&r("spliceOne",function(e,t){var n=this.length;if(n)if(1===arguments.length){for(;e<n;)this[e]=this[e+1],e++;this.length--}else this[e]=t}),r("Iterator",i),i.prototype.__iterationObject=null,Object.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:null})}}),i.prototype.next=function(){return this.start===(null==this.end?this.array.length:this.end)?(this._iterationObject.done=!0,this._iterationObject.value=void 0):this._iterationObject.value=this.array[this.start++],this._iterationObject}}}),montageDefine("d59cf92","shim-object",{dependencies:["./weak-map"],factory:function(e,t,n){"use strict";var r=e("./weak-map");n.exports=Object,Object.empty=Object.freeze(Object.create(null)),Object.isObject=function(e){return Object(e)===e},Object.getValueOf=function(e){return e&&"function"==typeof e.valueOf&&(e=e.valueOf()),e};var i=new r;Object.hash=function(e){return e&&"function"==typeof e.hash?""+e.hash():Object(e)===e?(i.has(e)||i.set(e,Math.random().toString(36).slice(2)),i.get(e)):""+e};var o=Object.prototype.hasOwnProperty;Object.owns=function(e,t){return o.call(e,t)},Object.has=function(e,t){if("object"!=typeof e)throw new Error("Object.has can't accept non-object: "+typeof e);if(e&&"function"==typeof e.has)return e.has(t);if("string"==typeof t)return t in e&&e[t]!==Object.prototype[t];throw new Error("Key must be a string for Object.has on plain objects")},Object.get=function(e,t,n){if("object"!=typeof e)throw new Error("Object.get can't accept non-object: "+typeof e);return e&&"function"==typeof e.get?e.get(t,n):Object.has(e,t)?e[t]:n},Object.set=function(e,t,n){e&&"function"==typeof e.set?e.set(t,n):e[t]=n},Object.addEach=function(e,t,n){var r=3!==arguments.length||n;if(t)if("function"!=typeof t.forEach||t.hasOwnProperty("forEach"))if("number"==typeof t.length)for(var i=0;i<t.length;i++)e[i]=t[i];else for(var o,a=Object.keys(t),s=0;o=a[s];s++)!r&&Object.owns(e,o)||(e[o]=t[o]);else t.isMap===!0?t.forEach(function(t,n){e[n]=t}):t.forEach(function(t){e[t[0]]=t[1]});return e},Object.defineEach=function(e,t,n,r,i,o){var a=3!==arguments.length||n;if(t)if("function"!=typeof t.forEach||t.hasOwnProperty("forEach"))if("number"==typeof t.length)for(var s=0;s<t.length;s++)Object.defineProperty(e,s,{value:t[s],writable:o,configurable:r,enumerable:i});else for(var l,c=Object.keys(t),u=0;l=c[u];u++)!a&&Object.owns(e,l)||Object.defineProperty(e,l,{value:t[l],writable:o,configurable:r,enumerable:i});else t.isMap===!0?t.forEach(function(t,n){Object.defineProperty(e,n,{value:t,writable:o,configurable:r,enumerable:i})}):t.forEach(function(t){Object.defineProperty(e,t[0],{value:t[1],writable:o,configurable:r,enumerable:i})});return e},Object.forEach=function(e,t,n){for(var r,i=Object.keys(e),o=0;r=i[o];o++)t.call(n,e[r],r,e)},Object.map=function(e,t,n){for(var r,i=Object.keys(e),o=0,a=[];r=i[o];o++)a.push(t.call(n,e[r],r,e));return a},Object.values=function(e){return Object.map(e,Function.identity)},Object.concat=function(){for(var e={},t=0;t<arguments.length;t++)Object.addEach(e,arguments[t]);return e},Object.from=Object.concat,Object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},Object.equals=function(e,t,n,i){if(n=n||Object.equals,e=Object.getValueOf(e),t=Object.getValueOf(t),e===t)return!0;if(Object.isObject(e)){if(i=i||new r,i.has(e))return!0;i.set(e,!0)}if(Object.isObject(e)&&"function"==typeof e.equals)return e.equals(t,n,i);if(Object.isObject(t)&&"function"==typeof t.equals)return t.equals(e,n,i);if(Object.isObject(e)&&Object.isObject(t)&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){for(var o in e)if(!n(e[o],t[o],n,i))return!1;for(var o in t)if(!(o in e&&n(t[o],e[o],n,i)))return!1;return!0}return e!==e&&t!==t||(!e||!t)&&e===t},Object.compare=function(e,t){if(e=Object.getValueOf(e),t=Object.getValueOf(t),e===t)return 0;var n=typeof e,r=typeof t;return"number"===n&&"number"===r?e-t:"string"===n&&"string"===r?e<t?-(1/0):1/0:e&&"function"==typeof e.compare?e.compare(t):t&&"function"==typeof t.compare?-t.compare(e):0},Object.clone=function(e,t,n){if(e=Object.getValueOf(e),n=n||new r,void 0===t)t=1/0;else if(0===t)return e;if(Object.isObject(e)){if(!n.has(e))if(e&&"function"==typeof e.clone)n.set(e,e.clone(t,n));else{var i=Object.getPrototypeOf(e);if(null!==i&&i!==Object.prototype)throw new Error("Can't clone "+e);var o=Object.create(i);n.set(e,o);for(var a in e)o[a]=Object.clone(e[a],t-1,n)}return n.get(e)}return e},Object.clear=function(e){if(e&&"function"==typeof e.clear)e.clear();else for(var t=Object.keys(e),n=t.length;n;)n--,delete e[t[n]];return e}}}),montageDefine("d59cf92","shim-function",{dependencies:[],factory:function(e,t,n){n.exports=Function,Function.noop=function(){},Function.identity=function(e){return e},Function.by=function(e,t){t=t||Object.compare,e=e||Function.identity;var n=function(n,r){return t(e(n),e(r))};return n.compare=t,n.by=e,n},Function.get=function(e){return function(t){return Object.get(t,e)}}}}),montageDefine("d59cf92","shim-regexp",{dependencies:[],factory:function(e,t,n){if(!RegExp.escape){var r=/[-[\]{}()*+?.\\^$|,#\s]/g;RegExp.escape=function(e){return e.replace(r,"\\$&")}}}}),montageDefine("d59cf92","_map",{dependencies:["./shim","./generic-collection","map","./_set","./generic-map","map"],factory:function(e,t,n){"use strict";var r,i,o,a=(e("./shim"),e("./generic-collection"));if(void 0!==global.Map&&"function"==typeof global.Set.prototype.values){r=n.exports=global.Map,i=r,r.Map=r;var s,l={}.__proto__===Object.prototype;s=l?function(){this.__proto__=m}:function(){Object.defineProperties(this,observableSetProperties)},Object.defineProperty(r.prototype,"makeObservable",{value:s,writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(r.prototype,"makePropertyObservable",{value:function(){},writable:!0,configurable:!0,enumerable:!1}),r.prototype.constructClone=function(e){return new this.constructor(e)},r.prototype.isMap=!0,r.prototype.addEach=function(e){if(e&&Object(e)===e)if("function"==typeof e.forEach)e.isMap===!0?e.forEach(function(e,t){this.set(t,e)},this):e.forEach(function(e){this.set(e[0],e[1])},this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.set(t,e[t])},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},r.prototype.add=function(e,t){return this.set(t,e)},r.prototype.reduce=function(e,t){var n=arguments[2];return this.forEach(function(r,i,o){t=e.call(n,t,r,i,this)}),t},r.prototype.reduceRight=function(e,t){for(var n,r=arguments[2],i=this.keys(),o=this.size,a=new Array(this.size),s=0;n=i.next().value;)a[--o]=n;for(;s++<o;)t=e.call(r,t,this.get(a[s]),a[s],this);return t},r.prototype.equals=function(e,t){if(t=t||Object.equals,this===e)return!0;if(e&&"function"==typeof e.every)return e.size===this.size&&e.every(function(e,n){return t(this.get(n),e)},this);
var n=Object.keys(e);return n.length===this.size&&Object.keys(e).every(function(n){return t(this.get(n),e[n])},this)};var c=function(e,t){return t};r.prototype.keysArray=function(){return this.map(c)};var u=function(e,t){return e};r.prototype.valuesArray=function(){return this.map(u)};var f=function(e,t){return[t,e]};r.prototype.entriesArray=function(){return this.map(f)},r.prototype.toJSON=function(){return this.entriesArray()},r.prototype.items=function(){return this.entriesArray()},r.from=function(e){var t=new this;return t.addEach(e),t},Object.defineProperty(r.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0});var d=r.prototype.clear,h=r.prototype.set,p=r.prototype["delete"],b={clear:{value:function(){var e;this.dispatchesMapChanges&&(this.forEach(function(e,t){this.dispatchBeforeMapChange(t,e)},this),e=this.keysArray()),d.call(this),this.dispatchesMapChanges&&e.forEach(function(e){this.dispatchMapChange(e)},this)},writable:!0,configurable:!0},set:{value:function(e,t){var n=this.get(e);return n?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,n),h.call(this,e,t),this.dispatchesMapChanges&&this.dispatchMapChange(e,t)):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,void 0),h.call(this,e,t),this.dispatchesMapChanges&&this.dispatchMapChange(e,t)),this},writable:!0,configurable:!0},"delete":{value:function(e){return!!this.has(e)&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,this.get(e)),p.call(this,e),this.dispatchesMapChanges&&this.dispatchMapChange(e,void 0),!0)}}};Object.addEach(r.prototype,a.prototype,!1);var m=Object.create(r.prototype,b)}var g=e("./_set").CollectionsSet,v=e("./generic-map");o=r=function y(e,t,n,r){return this instanceof y?(t=t||Object.equals,n=n||Object.hash,r=r||Function.noop,this.contentEquals=t,this.contentHash=n,this.getDefault=r,this.store=new g((void 0),function(e,n){return t(e.key,n.key)},function(e){return n(e.key)}),this.length=0,void this.addEach(e)):new y(e,t,n,r)},r.Map=r,Object.addEach(r.prototype,a.prototype),Object.addEach(r.prototype,v.prototype),Object.defineProperty(r.prototype,"size",a._sizePropertyDescriptor),r.from=a.from,r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.getDefault)},r.prototype.log=function(e,t,n,r){t=t||this.logNode,this.store.log(e,function(e,n,r){t(e.value.value,n,r)},n,r)},r.prototype.logNode=function(e,t){t(" key: "+e.key),t(" value: "+e.value)},i?(n.exports=i,i.CollectionsMap=o):n.exports=o}}),montageDefine("d59cf92","listen/map-changes",{dependencies:["../weak-map","../_map","./change-descriptor"],factory:function(e,t,n){"use strict";function r(){throw new Error("Can't construct. MapChanges is a mixin.")}function i(e){this.name=e,this.isActive=!1,this._willChangeListeners=null,this._changeListeners=null}function o(e){var t=p.get(e);return t||(t="handle",t+=e.slice(0,1).toUpperCase(),t+=e.slice(1),t+="MapChange",p.set(e,t)),this.specificHandlerMethodName=t,this}function a(e){var t=b.get(e);return t||(t="handle",t+=e.slice(0,1).toUpperCase(),t+=e.slice(1),t+="MapWillChange",b.set(e,t)),this.specificHandlerMethodName=t,this}var s=e("../weak-map"),l=e("../_map"),c=e("./change-descriptor"),u=c.ObjectChangeDescriptor,f=c.ChangeListenersRecord,d=c.ListenerGhost;n.exports=r;var h=(Object.prototype.hasOwnProperty,new s);i.prototype=new u,i.prototype.constructor=i,i.prototype.changeListenersRecordConstructor=o,i.prototype.willChangeListenersRecordConstructor=a;var p=new l;o.prototype=new f,o.prototype.constructor=o,o.prototype.genericHandlerMethodName="handleMapChange";var b=new l;a.prototype=new f,a.prototype.constructor=a,a.prototype.genericHandlerMethodName="handleMapWillChange",r.prototype.getAllMapChangeDescriptors=function(){return h.has(this)||h.set(this,new l),h.get(this)},r.prototype.getMapChangeDescriptor=function(e){var t=this.getAllMapChangeDescriptors();return e=e||"",t.has(e)||t.set(e,new i(e)),t.get(e)};var m=new s,g=function(){return m.get(this)},v=function(e){return m.set(this,e)},y="dispatchesMapChanges",_={get:g,set:v,configurable:!0,enumerable:!1};r.prototype.addMapChangeListener=function(e,t,n){!this.isObservable&&this.makeObservable&&this.makeObservable();var r,i=this.getMapChangeDescriptor(t);r=n?i.willChangeListeners:i.changeListeners,r._current?Array.isArray(r._current)?r._current.push(e):r._current=[r._current,e]:r._current=e,void 0===Object.getOwnPropertyDescriptor(this.__proto__||Object.getPrototypeOf(this),y)&&Object.defineProperty(this.__proto__||Object.getPrototypeOf(this),y,_),this.dispatchesMapChanges=!0;var o=this;return function(){o&&(o.removeMapChangeListener(e,t,n),o=null)}},r.prototype.removeMapChangeListener=function(e,t,n){var r,i=this.getMapChangeDescriptor(t);if(r=n?i.willChangeListeners:i.changeListeners,r._current)if(r._current===e)r._current=null;else{var o=r._current.lastIndexOf(e);if(o===-1)throw new Error("Can't remove map change listener: does not exist: token "+JSON.stringify(t));i.isActive?(r.ghostCount=r.ghostCount+1,r._current[o]=d):r._current.spliceOne(o)}},r.prototype.dispatchMapChange=function(e,t,n){var r=this.getAllMapChangeDescriptors(),i=d;r.forEach(function(r,o){if(!r.isActive){var a=n?r.willChangeListeners:r.changeListeners;if(a&&a._current){var s=a.specificHandlerMethodName;if(Array.isArray(a._current)&&a._current.length){var l,c,u,f=a.removeCurrentGostListenersIfNeeded();r.isActive=!0;try{for(l=0,c=f.length;l<c;l++)if((u=f[l])!==i)if(u[s])u[s](t,e,this);else{if(!u.call)throw new Error("Handler "+u+" has no method "+s+" and is not callable");u.call(u,t,e,this)}}finally{r.isActive=!1}}else{r.isActive=!0;try{if(u=a._current,u[s])u[s](t,e,this);else{if(!u.call)throw new Error("Handler "+u+" has no method "+s+" and is not callable");u.call(u,t,e,this)}}finally{r.isActive=!1}}}}},this)},r.prototype.addBeforeMapChangeListener=function(e,t){return this.addMapChangeListener(e,t,!0)},r.prototype.removeBeforeMapChangeListener=function(e,t){return this.removeMapChangeListener(e,t,!0)},r.prototype.dispatchBeforeMapChange=function(e,t){return this.dispatchMapChange(e,t,!0)}}}),montageDefine("d59cf92","_set",{dependencies:["./shim","./generic-collection","./generic-set","set","./_list","./_fast-set","./iterator","set"],factory:function(e,t,n){"use strict";var r,i,o=(e("./shim"),e("./generic-collection")),a=e("./generic-set");void 0!==global.Set&&"function"==typeof global.Set.prototype.values&&(r=n.exports=global.Set,r.Set=r,r.prototype.reduce=function(e,t){var n=arguments[2];return this.forEach(function(r){t=e.call(n,t,r,this)}),t},r.prototype.reduceRight=function(e,t){for(var n,r=arguments[2],i=this.values(),o=this.size,a=new Array(this.size),s=0;n=i.next().value;)a[--o]=n;for(;s++<o;)t=e.call(r,t,n,this);return t},r.prototype.equals=function(e,t){var n=this;return e&&"function"==typeof e.reduce&&this.size===(e.size||e.length)&&e.reduce(function(e,r){return e&&n.has(r,t)},!0)},r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.getDefault)},r.prototype.toJSON=function(){return this.entriesArray()},r.prototype.one=function(){if(this.size>0)return this.values().next().value},r.prototype.pop=function(){if(this.size){for(var e,t,n=this.values();e=n.next().value;)t=e;return this["delete"](t,this.size-1),t}},r.prototype.shift=function(){if(this.size){var e=this.values().next().value;return this["delete"](e,0),e}},Object.defineProperty(r.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),r.from=function(e){var t=new this;return t.addEach(e),t},Object.addEach(r.prototype,o.prototype,!1),Object.addEach(r.prototype,a.prototype,!1));var s=e("./_list"),l=e("./_fast-set"),c=e("./iterator");i=function u(e,t,n,r){return u._init(u,this,e,t,n,r)},i._init=function(e,t,n,r,i,o){return t instanceof e?(r=r||Object.equals,i=i||Object.hash,o=o||Function.noop,t.contentEquals=r,t.contentHash=i,t.getDefault=o,t.order=new t.Order((void 0),r),t.store=new t.Store((void 0),function(e,t){return r(e.value,t.value)},function(e){return i(e.value)}),t.length=0,void t.addEach(n)):new e(n,r,i,o)},i.Set=i,i.CollectionsSet=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),i.from=o.from,Object.defineProperty(i.prototype,"size",o._sizePropertyDescriptor),i.prototype.Order=s,i.prototype.Store=l,i.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.getDefault)},i.prototype.has=function(e){var t=new this.order.Node(e);return this.store.has(t)},i.prototype.get=function(e,t){if(t)throw new Error("Set#get does not support second argument: equals");var n=new this.order.Node(e);return n=this.store.get(n),n?n.value:this.getDefault(e)},i.prototype.add=function(e){var t=new this.order.Node(e);return!this.store.has(t)&&(this.length,this.order.add(e),t=this.order.head.prev,this.store.add(t),this.length++,!0)},i.prototype["delete"]=function(e,t){if(t)throw new Error("Set#delete does not support second argument: equals");var n=new this.order.Node(e);return!!this.store.has(n)&&(n=this.store.get(n),this.store["delete"](n),this.order.splice(n,1),this.length--,!0)},i.prototype.pop=function(){if(this.length){var e=this.order.head.prev.value;return this["delete"](e),e}},i.prototype.shift=function(){if(this.length){var e=this.order.head.next.value;return this["delete"](e),e}},i.prototype.one=function(){if(this.length>0)return this.store.one().value},i.prototype.clear=function(){this.store.clear(),this.order.clear(),this.length=0},Object.defineProperty(i.prototype,"_clear",{value:i.prototype.clear}),i.prototype.reduce=function(e,t){var n=arguments[2],r=this.order,i=0;return r.reduce(function(t,r){return e.call(n,t,r,i++,this)},t,this)},i.prototype.reduceRight=function(e,t){var n=arguments[2],r=this.order,i=this.length-1;return r.reduceRight(function(t,r){return e.call(n,t,r,i--,this)},t,this)},i.prototype.iterate=function(){return this.order.iterate()},i.prototype.values=function(){return new c(this.valuesArray())},i.prototype.log=function(){var e=this.store;return e.log.apply(e,arguments)},r?(r.prototype.valuesArray=a.prototype.valuesArray,r.prototype.entriesArray=a.prototype.entriesArray,n.exports=r,r.CollectionsSet=i):n.exports=i}}),montageDefine("d59cf92","listen/range-changes",{dependencies:["../weak-map","../_map","./change-descriptor"],factory:function(e,t,n){"use strict";function r(e){this.name=e,this.isActive=!1,this._willChangeListeners=null,this._changeListeners=null}function i(e){var t=p.get(e);return t||(t="handle",t+=e.slice(0,1).toUpperCase(),t+=e.slice(1),t+="RangeChange",p.set(e,t)),this.specificHandlerMethodName=t,this}function o(e){var t=b.get(e);return t||(t="handle",t+=e.slice(0,1).toUpperCase(),t+=e.slice(1),t+="RangeWillChange",b.set(e,t)),this.specificHandlerMethodName=t,this}function a(){throw new Error("Can't construct. RangeChanges is a mixin.")}var s=e("../weak-map"),l=e("../_map"),c=e("./change-descriptor"),u=c.ObjectChangeDescriptor,f=c.ChangeListenersRecord,d=c.ListenerGhost,h=new s;r.prototype=new u,r.prototype.constructor=r,r.prototype.changeListenersRecordConstructor=i,r.prototype.willChangeListenersRecordConstructor=o,Object.defineProperty(r.prototype,"active",{get:function(){return this._active||(this._active=this._current?this._current.slice():[])}});var p=new l;i.prototype=new f,i.prototype.constructor=i;var b=new l;o.prototype=new f,o.prototype.constructor=o,n.exports=a,a.prototype.getAllRangeChangeDescriptors=function(){return h.has(this)||h.set(this,new l),h.get(this)},a.prototype.getRangeChangeDescriptor=function(e){var t=this.getAllRangeChangeDescriptors();return e=e||"",t.has(e)||t.set(e,new r(e)),t.get(e)};var m=new s,g=function(){return m.get(this)},v=function(e){return m.set(this,e)},y="dispatchesRangeChanges",_={get:g,set:v,configurable:!0,enumerable:!1};a.prototype.addRangeChangeListener=function(e,t,n){!this.isObservable&&this.makeObservable&&this.makeObservable();var r,i=this.getRangeChangeDescriptor(t);r=n?i.willChangeListeners:i.changeListeners,r._current?Array.isArray(r._current)?r._current.push(e):r._current=[r._current,e]:r._current=e,void 0===Object.getOwnPropertyDescriptor(this.__proto__||Object.getPrototypeOf(this),y)&&Object.defineProperty(this.__proto__||Object.getPrototypeOf(this),y,_),this.dispatchesRangeChanges=!0;var o=this;return function(){o&&(o.removeRangeChangeListener(e,t,n),o=null)}},a.prototype.removeRangeChangeListener=function(e,t,n){var r,i=this.getRangeChangeDescriptor(t);if(r=n?i._willChangeListeners:i._changeListeners,r._current)if(r._current===e)r._current=null;else{var o=r._current.lastIndexOf(e);if(o===-1)throw new Error("Can't remove range change listener: does not exist: token "+JSON.stringify(t));i.isActive?(r.ghostCount=r.ghostCount+1,r._current[o]=d):r._current.spliceOne(o)}},a.prototype.dispatchRangeChange=function(e,t,n,r){var i,o,a,s,l,c,u,f,h=this.getAllRangeChangeDescriptors(),p=h.values();for(h.dispatchBeforeChange=r;i=p.next().value;){if(i.isActive)return;if(o=r?i._willChangeListeners:i._changeListeners,o&&o._current)if(a=o.specificHandlerMethodName,Array.isArray(o._current)){if(o._current.length){i.isActive=!0;try{for(u=o.removeCurrentGostListenersIfNeeded(),f=d,s=0,l=u.length;s<l;s++)if((c=u[s])!==f)if(c[a])c[a](e,t,n,this,r);else{if(!c.call)throw new Error("Handler "+c+" has no method "+a+" and is not callable");c.call(this,e,t,n,this,r)}}finally{i.isActive=!1}}}else{i.isActive=!0;try{if(c=o._current,c[a])c[a](e,t,n,this,r);else{if(!c.call)throw new Error("Handler "+c+" has no method "+a+" and is not callable");c.call(this,e,t,n,this,r)}}finally{i.isActive=!1}}}},a.prototype.addBeforeRangeChangeListener=function(e,t){return this.addRangeChangeListener(e,t,!0)},a.prototype.removeBeforeRangeChangeListener=function(e,t){return this.removeRangeChangeListener(e,t,!0)},a.prototype.dispatchBeforeRangeChange=function(e,t,n){return this.dispatchRangeChange(e,t,n,!0)}}}),montageDefine("d59cf92","list",{dependencies:["./_list","./listen/property-changes","./listen/range-changes","list"],factory:function(e,t,n){"use strict";function r(e,t,n){return i._init(r,this,e,t,n)}var i=e("./_list"),o=e("./listen/property-changes"),a=e("./listen/range-changes");n.exports=r,r.prototype=new i,r.prototype.constructor=r,r.List=r,r.from=i.from,Object.addEach(r.prototype,o.prototype),Object.addEach(r.prototype,a.prototype),r.prototype.makeObservable=function(){this.head.index=-1,this.updateIndexes(this.head.next,0),this.dispatchesRangeChanges=!0},Object.defineProperties(r.prototype,{_dispatchEmptyArray:{value:[]}}),r.prototype["delete"]=function(e,t){var n=this.findLast(e,t);if(n){if(this.dispatchesRangeChanges){var r=[],i=[e];this.dispatchBeforeRangeChange(r,i,n.index)}return n["delete"](),this.length--,this.dispatchesRangeChanges&&(this.updateIndexes(n.next,n.index),this.dispatchRangeChange(r,i,n.index)),!0}return!1},Object.defineProperty(r.prototype,"superClear",{value:i.prototype.clear,enumerable:!1,configurable:!0,writable:!0}),r.prototype.clear=function(){var e,t;this.dispatchesRangeChanges&&(t=this.toArray(),e=[],this.dispatchBeforeRangeChange(e,t,0)),this.superClear(),this.dispatchesRangeChanges&&this.dispatchRangeChange(e,t,0)},r.prototype.add=function(e){var t=new this.Node(e);return this.dispatchesRangeChanges&&(t.index=this.length,this.dispatchBeforeRangeChange([e],[],t.index)),this._addNode(t),this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],t.index),!0},Object.defineProperty(r.prototype,"superPush",{value:i.prototype.push,enumerable:!1,configurable:!0,writable:!0}),r.prototype.push=function(){if(this.dispatchesRangeChanges){var e=Array.prototype.slice.call(arguments),t=[],n=this.length;this.dispatchBeforeRangeChange(e,t,n);var r=this.head.prev}1===arguments.length?this.superPush.call(this,arguments[0]):2===arguments.length?this.superPush.call(this,arguments[0],arguments[1]):this.superPush.apply(this,arguments),this.dispatchesRangeChanges&&(this.updateIndexes(r.next,void 0===r.index?0:r.index+1),this.dispatchRangeChange(e,t,n))},Object.defineProperty(r.prototype,"superUnshift",{value:i.prototype.unshift,enumerable:!1,configurable:!0,writable:!0}),r.prototype.unshift=function(){if(this.dispatchesRangeChanges){var e=Array.prototype.slice.call(arguments),t=[];this.dispatchBeforeRangeChange(e,t,0)}1===arguments.length?this.superUnshift.call(this,arguments[0]):2===arguments.length?this.superUnshift.call(this,arguments[0],arguments[1]):this.superUnshift.apply(this,arguments),this.dispatchesRangeChanges&&(this.updateIndexes(this.head.next,0),this.dispatchRangeChange(e,t,0))},Object.defineProperty(r.prototype,"_beforePop",{value:function(e,t){var n;return this.dispatchesRangeChanges&&(n=[e],this.dispatchBeforeRangeChange(this._dispatchEmptyArray,n,t)),n},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(r.prototype,"_afterPop",{value:function(e,t,n){this.dispatchesRangeChanges&&this.dispatchRangeChange(this._dispatchEmptyArray,n,t)},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(r.prototype,"superPop",{value:i.prototype.pop,enumerable:!1,configurable:!0,writable:!0}),r.prototype.pop=function(){return this.superPop(this._beforePop,this._afterPop)},Object.defineProperty(r.prototype,"_beforeShift",{value:function(e,t){var n;return this.dispatchesRangeChanges&&(n=[e],this.dispatchBeforeRangeChange(this._dispatchEmptyArray,n,t)),n},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(r.prototype,"_afterShift",{value:function(e,t,n){this.dispatchesRangeChanges&&(this.updateIndexes(this.head.next,t),this.dispatchRangeChange(this._dispatchEmptyArray,n,t))},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(r.prototype,"superShift",{value:i.prototype.shift,enumerable:!1,configurable:!0,writable:!0}),r.prototype.shift=function(){return this.superShift(this._beforeShift,this._afterShift)},Object.defineProperty(r.prototype,"superSwap",{value:i.prototype.swap,enumerable:!1,configurable:!0,writable:!0}),r.prototype.swap=function(e,t,n){var r,i,o=function(e,t,n){this.dispatchesRangeChanges&&(r=e===this.head?this.length:e.prev===this.head?0:e.index,i=e.prev,this.dispatchBeforeRangeChange(t,n,r))},a=function(e,t,n){this.dispatchesRangeChanges&&(e===this.head?this.updateIndexes(this.head.next,0):this.updateIndexes(i.next,i.index+1),this.dispatchRangeChange(t,n,r))};return this.superSwap(e,t,n,o,a)},Object.defineProperty(r.prototype,"superReverse",{value:i.prototype.reverse,enumerable:!1,configurable:!0,writable:!0}),r.prototype.reverse=function(){if(this.dispatchesRangeChanges){var e=this.toArray(),t=e.reversed();this.dispatchBeforeRangeChange(t,e,0)}return this.superReverse(),this.dispatchesRangeChanges&&this.dispatchRangeChange(t,e,0),this}}}),montageDefine("d59cf92","fast-set",{dependencies:["./shim","./_fast-set","./listen/property-changes"],factory:function(e,t,n){"use strict";var r=(e("./shim"),e("./_fast-set")),i=e("./listen/property-changes");n.exports=r,Object.addEach(r.prototype,i.prototype)}}),montageDefine("d59cf92","listen/change-descriptor",{dependencies:["../_map"],factory:function(e,t,n){function r(e){var t=l.get(e);return t||(t="handle",t+=e,t+="Change",l.set(e,t)),this._current=null,this._current=null,this.specificHandlerMethodName=t,this}function i(e){var t=c.get(e);return t||(t="handle",t+=e,t+="WillChange",c.set(e,t)),this.specificHandlerMethodName=t,this}var o=e("../_map"),a=n.exports.ObjectChangeDescriptor=function(e){return this.name=e,this.isActive=!1,this._willChangeListeners=null,this._changeListeners=null,this};Object.defineProperties(a.prototype,{name:{value:null,writable:!0},isActive:{value:!1,writable:!0},_willChangeListeners:{value:null,writable:!0},willChangeListeners:{get:function(){return this._willChangeListeners||(this._willChangeListeners=new this.willChangeListenersRecordConstructor(this.name))}},_changeListeners:{value:null,writable:!0},changeListeners:{get:function(){return this._changeListeners||(this._changeListeners=new this.changeListenersRecordConstructor(this.name))}},changeListenersRecordConstructor:{value:r,writable:!0},willChangeListenersRecordConstructor:{value:r,writable:!0}});var s=n.exports.ListenerGhost=Object.create(null),l=new o;n.exports.ChangeListenersRecord=r,Object.defineProperties(r.prototype,{_current:{value:null,writable:!0},current:{get:function(){return this._current},set:function(e){this._current=e}},ListenerGhost:{value:s,writable:!0},ghostCount:{value:0,writable:!0},maxListenerGhostRatio:{value:.3,writable:!0},listenerGhostFilter:{value:function(e){return e!==this.ListenerGhost}},removeCurrentGostListenersIfNeeded:{value:function(){return this._current&&this.ghostCount/this._current.length>this.maxListenerGhostRatio&&(this.ghostCount=0,this._current=this._current.filter(this.listenerGhostFilter,this)),this._current}},dispatchBeforeChange:{value:!1,writable:!0},genericHandlerMethodName:{value:"handlePropertyChange",writable:!0}}),n.exports.WillChangeListenersRecord=i;var c=new o;i.prototype=new r,i.prototype.constructor=i,i.prototype.genericHandlerMethodName="handlePropertyWillChange"}}),montageDefine("d59cf92","listen/array-changes",{dependencies:["../shim","./property-changes","./range-changes","./map-changes"],factory:function(e,t,n){e("../shim");var r,i=(Array.prototype.splice,Array.prototype.spliceOne),o=Array.prototype.slice,a=(Array.prototype.reverse,Array.prototype.sort),s=Array.prototype.swap,l=Array.prototype.push,c={}.__proto__===Object.prototype,u="length";r=c?function(){this.__proto__=d}:function(){Object.defineProperties(this,f)},Object.defineProperty(Array.prototype,"makeObservable",{value:r,writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Array.prototype,"makePropertyObservable",{value:function(){},writable:!0,configurable:!0,enumerable:!1});var f={isObservable:{value:!0,writable:!0,configurable:!0},makeObservable:{value:Function.noop,writable:!0,configurable:!0},reverse:{value:function(){var e=this.constructClone(this);return e.reverse(),this.swap(0,this.length,e),this},writable:!0,configurable:!0},sort:{value:function(){var e,t;for(this.dispatchBeforeRangeChange(this,this,0),e=0,t=this.length;e<t;e++)h.dispatchBeforeOwnPropertyChange(this,e,this[e]),this.dispatchBeforeMapChange(e,this[e]);for(a.apply(this,arguments),e=0,t=this.length;e<t;e++)h.dispatchOwnPropertyChange(this,e,this[e]),this.dispatchMapChange(e,this[e]);return this.dispatchRangeChange(this,this,0),this},writable:!0,configurable:!0},_dispatchBeforeOwnPropertyChange:{value:function(e,t){for(var n=e,r=e+t;n<r;n++)h.dispatchBeforeOwnPropertyChange(this,n,this[n]),this.dispatchBeforeMapChange(n,this[n])}},_dispatchOwnPropertyChange:{value:function(e,t){for(var n=e,r=e+t;n<r;n++)this.dispatchOwnPropertyChange(n,this[n]),this.dispatchMapChange(n,this[n])}},swap:{value:function(e,t,n){var r,i,a,l;if(n?Array.isArray(n)||(n=o.call(n)):n=Array.empty,l=n.length,e<0)e=this.length+e;else if(e>this.length){var c=e-this.length,f=Array(c+l);for(i=0,a=c;i<l;i++,a++)i in n&&(f[a]=n[i]);n=f,l=n.length,e=this.length}var d;if(0===t){if(0===l)return[];d=Array.empty}else d=o.call(this,e,e+t);var p=l-d.length,b=this.length,m=Math.max(this.length+p,e+l),g=b>m?b:m;p&&h.dispatchBeforeOwnPropertyChange(this,u,this.length),this.dispatchBeforeRangeChange(n,d,e),0===p?this._dispatchBeforeOwnPropertyChange(e,l):(r=h.hasOwnPropertyChangeDescriptor(this))&&this._dispatchBeforeOwnPropertyChange(e,g-e),e>b&&(this.length=e);var v=s.call(this,e,t,n);return 0===p?this._dispatchOwnPropertyChange(e,l):r&&this._dispatchOwnPropertyChange(e,g-e),this.dispatchRangeChange(n,d,e),p&&this.dispatchOwnPropertyChange(u,this.length),v},writable:!0,configurable:!0},splice:{value:function(e,t){return e>this.length&&(e=this.length),this.swap.call(this,e,t,o.call(arguments,2))},writable:!0,configurable:!0},spliceOne:{value:function(e,t){var n,r,o,a,s,l=this.length,c=arguments.length;1===c?(h.dispatchBeforeOwnPropertyChange(this,u,this.length),o=this.length-1,n=Array.empty):(n=[t],o=this.length),r=[this[e]],a=l>o?l:o,this.dispatchBeforeRangeChange(n,r,e),2===c?this._dispatchBeforeOwnPropertyChange(e,1):(s=h.hasOwnPropertyChangeDescriptor(this))&&this._dispatchBeforeOwnPropertyChange(e,a-e),1===c?i.call(this,e):i.call(this,e,t),2===c?this._dispatchOwnPropertyChange(e,1):s&&this._dispatchOwnPropertyChange(e,a-e),this.dispatchRangeChange(n,r,e),1===c&&this.dispatchOwnPropertyChange(u,this.length)},writable:!0,configurable:!0},_setSwapBuffer:{get:function(){return this.__setSwapBuffer||Object.defineProperty(this,"__setSwapBuffer",{value:[],writable:!0,configurable:!0,enumerable:!1}).__setSwapBuffer},enumerable:!1},set:{value:function(e,t){var n,r,i,o,a=void 0!==typeof t,s=a?[]:Array.empty;return e>=this.length?(s[e-this.length]=t,n=e+1-this.length,i=this.length):(s[0]=t,n=0,i=e),r=0===n?[this[e]]:Array.empty,n>0&&h.dispatchBeforeOwnPropertyChange(this,u,this.length),this.dispatchBeforeRangeChange(s,r,i),0===n?this._dispatchBeforeOwnPropertyChange(i,1):(o=h.hasOwnPropertyChangeDescriptor(this))&&this._dispatchBeforeOwnPropertyChange(i,n),this[e]=t,0===n?this._dispatchOwnPropertyChange(i,1):o&&this._dispatchOwnPropertyChange(i,n),this.dispatchRangeChange(s,r,i),n&&this.dispatchOwnPropertyChange(u,this.length),!0},writable:!0,configurable:!0},shift:{value:function(){return this.splice(0,1)[0]},writable:!0,configurable:!0},pop:{value:function(){if(this.length)return this.splice(this.length-1,1)[0]},writable:!0,configurable:!0},push:{value:function(e){var t,n,r=this.length,i=arguments.length;t=1===i?[arguments[0]]:Array.apply(null,arguments),i>0&&(h.dispatchBeforeOwnPropertyChange(this,u,r),this.dispatchBeforeRangeChange(t,Array.empty,r),(n=h.hasOwnPropertyChangeDescriptor(this))&&this._dispatchBeforeOwnPropertyChange(r,i)),l.apply(this,arguments),i>0&&(n&&this._dispatchOwnPropertyChange(r,i),this.dispatchRangeChange(t,Array.empty,r),this.dispatchOwnPropertyChange(u,this.length))},writable:!0,configurable:!0},unshift:{value:function(e){if(1===arguments.length)return this.splice(0,0,e);var t=o.call(arguments);return this.swap(0,0,t)},writable:!0,configurable:!0},clear:{value:function(){return this.splice(0,this.length)},writable:!0,configurable:!0}},d=Object.create(Array.prototype,f);t.observableArrayProperties=f;var h=e("./property-changes"),p=e("./range-changes"),b=e("./map-changes");Object.defineEach(Array.prototype,h.prototype,!1,!0,!1,!0),Object.defineEach(Array.prototype,p.prototype,!1,!0,!1,!0),Object.defineEach(Array.prototype,b.prototype,!1,!0,!1,!0)}}),montageDefine("d59cf92","sorted-array",{dependencies:["./shim","./generic-collection","./listen/property-changes","./listen/range-changes"],factory:function(e,t,n){"use strict";function r(e,t,n,i){return this instanceof r?(Array.isArray(e)?(this.array=e,e=e.splice(0,e.length)):this.array=[],this.contentEquals=t||Object.equals,this.contentCompare=n||Object.compare,this.getDefault=i||Function.noop,this.length=0,void this.addEach(e)):new r(e,t,n,i)}function i(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,a=n(t,e[o]);if(a>0)r=o+1;else{if(!(a<0))return o;i=o-1}}return-(r+1)}function o(e,t,n,r){var o=i(e,t,n);if(o<0)return-1;for(;o>0&&r(t,e[o-1]);)o--;return r(t,e[o])?o:-1}function a(e,t,n,r){var o=i(e,t,n);if(o<0)return-1;for(;o<e.length-1&&r(t,e[o+1]);)o++;return r(t,e[o])?o:-1}function s(e,t,n){var r=i(e,t,n);if(r<0)return-r-1;for(var o=e.length-1;r<o&&0===n(t,e[r+1]);)r++;return r}n.exports=r;var l=(e("./shim"),e("./generic-collection")),c=e("./listen/property-changes"),u=e("./listen/range-changes");r.SortedArray=r,r.from=l.from,Object.addEach(r.prototype,l.prototype),Object.addEach(r.prototype,c.prototype),Object.addEach(r.prototype,u.prototype),r.prototype.isSorted=!0,r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare,this.getDefault)},r.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");var n=i(this.array,e,this.contentCompare);return n>=0&&this.contentEquals(this.array[n],e)},r.prototype.get=function(e,t){if(t)throw new Error("SortedArray#get does not support second argument: equals");var n=o(this.array,e,this.contentCompare,this.contentEquals);return n!==-1?this.array[n]:this.getDefault(e)},r.prototype.add=function(e){var t=s(this.array,e,this.contentCompare);return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],Array.empty,t),this.array.splice(t,0,e),this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],Array.empty,t),!0},r.prototype["delete"]=function(e,t){if(t)throw new Error("SortedArray#delete does not support second argument: equals");var n=o(this.array,e,this.contentCompare,this.contentEquals);return n!==-1&&(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(Array.empty,[e],n),this.array.spliceOne(n),this.length--,this.dispatchesRangeChanges&&this.dispatchRangeChange(Array.empty,[e],n),!0)},r.prototype.deleteAll=function(e,t){if(t){var n=this.array.deleteAll(e,t);return this.length-=n,n}var r=o(this.array,e,this.contentCompare,this.contentEquals);if(r!==-1){for(var i=r;this.contentEquals(e,this.array[i]);)i++;var a=this.slice(r,i);return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(Array.empty,a,r),this.array.splice(r,a.length),this.length-=a.length,this.dispatchesRangeChanges&&this.dispatchRangeChange(Array.empty,a,r),a.length}return 0},r.prototype.indexOf=function(e){return o(this.array,e,this.contentCompare,this.contentEquals)},r.prototype.lastIndexOf=function(e){return a(this.array,e,this.contentCompare,this.contentEquals)},r.prototype.find=function(e,t,n){if(t)throw new Error("SortedArray#find does not support second argument: equals");if(n)throw new Error("SortedArray#find does not support third argument: index");return o(this.array,e,this.contentCompare,this.contentEquals)},r.prototype.findLast=function(e,t,n){if(t)throw new Error("SortedArray#findLast does not support second argument: equals");if(n)throw new Error("SortedArray#findLast does not support third argument: index");return a(this.array,e,this.contentCompare,this.contentEquals)},r.prototype.push=function(){this.addEach(arguments)},r.prototype.unshift=function(){this.addEach(arguments)},r.prototype.pop=function(){var e=this.array.pop();return this.length=this.array.length,e},r.prototype.shift=function(){var e=this.array.shift();return this.length=this.array.length,e},r.prototype.slice=function(){return this.array.slice.apply(this.array,arguments)},r.prototype.splice=function(e,t){return this.swap(e,t,Array.prototype.slice.call(arguments,2))},r.prototype.swap=function(e,t,n){if(void 0===e&&void 0===t)return Array.empty;e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var r=this.slice(e,e+t);return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange(n,r,e),this.array.splice(e,t),this.length-=r.length,this.dispatchesRangeChanges&&this.dispatchRangeChange(Array.empty,r,e),this.addEach(n),r},r.prototype.reduce=function(e,t){var n=arguments[2];return this.array.reduce(function(t,r,i){return e.call(n,t,r,i,this)},t,this)},r.prototype.reduceRight=function(){var e=arguments[2];return this.array.reduceRight(function(t,n,r){return callback.call(e,t,n,r,this)},basis,this)},r.prototype.min=function(){if(this.length)return this.array[0]},r.prototype.max=function(){if(this.length)return this.array[this.length-1]},r.prototype.one=function(){return this.array.one()},r.prototype.clear=function(){var e;this.dispatchesRangeChanges&&(e=this.array.slice(),this.dispatchBeforeRangeChange(Array.empty,e,0)),this.length=0,this.array.clear(),this.dispatchesRangeChanges&&this.dispatchRangeChange(Array.empty,e,0)},r.prototype.equals=function(e,t){return this.array.equals(e,t)},r.prototype.compare=function(e,t){return this.array.compare(e,t)},r.prototype.iterate=function(e,t){return new this.Iterator(this.array,e,t)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.Iterator=Array.prototype.Iterator}}),montageDefine("d59cf92","sorted-set",{
dependencies:["./shim","./generic-collection","./generic-set","./listen/property-changes","./listen/range-changes","./tree-log"],factory:function(e,t,n){"use strict";function r(e,t,n,i){return this instanceof r?(this.contentEquals=t||Object.equals,this.contentCompare=n||Object.compare,this.getDefault=i||Function.noop,this.root=null,this.length=0,void this.addEach(e)):new r(e,t,n,i)}function i(e){this.value=e,this.left=null,this.right=null,this.length=1}function o(e,t,n){if(this.set=e,this.prev=null,this.end=n,t){var r=this.set.findLeastGreaterThanOrEqual(t);r&&(this.set.splay(r.value),this.prev=r.getPrevious())}}n.exports=r;var a=(e("./shim"),e("./generic-collection")),s=e("./generic-set"),l=e("./listen/property-changes"),c=e("./listen/range-changes"),u=e("./tree-log");r.SortedSet=r,Object.addEach(r.prototype,a.prototype),Object.addEach(r.prototype,s.prototype),Object.addEach(r.prototype,l.prototype),Object.addEach(r.prototype,c.prototype),Object.defineProperty(r.prototype,"size",a._sizePropertyDescriptor),r.from=a.from,r.prototype.isSorted=!0,r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare,this.getDefault)},r.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");return!!this.root&&(this.splay(e),this.contentEquals(e,this.root.value))},r.prototype.get=function(e,t){if(t)throw new Error("SortedSet#get does not support second argument: equals");return this.root&&(this.splay(e),this.contentEquals(e,this.root.value))?this.root.value:this.getDefault(e)},r.prototype.add=function(e){var t=new this.Node(e);if(!this.root)return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],[],0),this.root=t,this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],0),!0;if(this.splay(e),!this.contentEquals(e,this.root.value)){var n=this.contentCompare(e,this.root.value);if(0===n)throw new Error("SortedSet cannot contain incomparable but inequal values: "+e+" and "+this.root.value);return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([e],[],this.root.index),n<0?(t.right=this.root,t.left=this.root.left,this.root.left=null,this.root.touch()):(t.left=this.root,t.right=this.root.right,this.root.right=null,this.root.touch()),t.touch(),this.root=t,this.length++,this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],this.root.index),!0}return!1},r.prototype["delete"]=function(e,t){if(t)throw new Error("SortedSet#delete does not support second argument: equals");if(this.root&&(this.splay(e),this.contentEquals(e,this.root.value))){var n=this.root.index;if(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[e],n),this.root.left){var r=this.root.right;this.root=this.root.left,this.splay(e),this.root.right=r}else this.root=this.root.right;return this.length--,this.root&&this.root.touch(),this.dispatchesRangeChanges&&this.dispatchRangeChange([],[e],n),!0}return!1},r.prototype.indexOf=function(e,t){if(t)throw new Error("SortedSet#indexOf does not support second argument: startIndex");return this.root&&(this.splay(e),this.contentEquals(e,this.root.value))?this.root.index:-1},r.prototype.find=function(e,t,n){if(t)throw new Error("SortedSet#find does not support second argument: equals");if(n)throw new Error("SortedSet#find does not support third argument: index");if(this.root&&(this.splay(e),this.contentEquals(e,this.root.value)))return this.root},r.prototype.findGreatest=function(e){if(this.root){for(e=e||this.root;e.right;)e=e.right;return e}},r.prototype.findLeast=function(e){if(this.root){for(e=e||this.root;e.left;)e=e.left;return e}},r.prototype.findGreatestLessThanOrEqual=function(e){if(this.root)return this.splay(e),this.contentCompare(this.root.value,e)>0?this.root.getPrevious():this.root},r.prototype.findGreatestLessThan=function(e){if(this.root)return this.splay(e),this.contentCompare(this.root.value,e)>=0?this.root.getPrevious():this.root},r.prototype.findLeastGreaterThanOrEqual=function(e){if(this.root)return this.splay(e),this.contentCompare(this.root.value,e)>=0?this.root:this.root.getNext()},r.prototype.findLeastGreaterThan=function(e){if(this.root)return this.splay(e),this.contentCompare(this.root.value,e)<=0?this.root.getNext():this.root},r.prototype.pop=function(){if(this.root){var e=this.findGreatest();return this["delete"](e.value),e.value}},r.prototype.shift=function(){if(this.root){var e=this.findLeast();return this["delete"](e.value),e.value}},r.prototype.push=function(){this.addEach(arguments)},r.prototype.unshift=function(){this.addEach(arguments)},r.prototype.slice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var n=[];if(this.root)for(this.splayIndex(e);this.root.index<t&&(n.push(this.root.value),this.root.right);)this.splay(this.root.getNext().value);return n},r.prototype.splice=function(e,t){return this.swap(e,t,Array.prototype.slice.call(arguments,2))},r.prototype.swap=function(e,t,n){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var r=[];if(this.root){this.splayIndex(e);for(var i=0;i<t;i++){r.push(this.root.value);var o=this.root.getNext();if(this["delete"](this.root.value),!o)break;this.splay(o.value)}}return this.addEach(n),r},r.prototype.splay=function(e){var t,n,r,o,a,s;if(this.root){for(t=n=r=new this.Node,s=new this.Node,a=this.root;;){var l=this.contentCompare(e,a.value);if(l<0){if(!a.left)break;if(this.contentCompare(e,a.left.value)<0&&(o=a.left,a.left=o.right,a.touch(),o.right=a,o.touch(),a=o,!a.left))break;o=new i,o.right=a,o.left=s.left,s.left=o,r.left=a,r.touch(),r=a,a=a.left}else{if(!(l>0))break;if(!a.right)break;if(this.contentCompare(e,a.right.value)>0&&(o=a.right,a.right=o.left,a.touch(),o.left=a,o.touch(),a=o,!a.right))break;o=new i,o.left=a,o.right=s.right,s.right=o,n.right=a,n.touch(),n=a,a=a.right}}for(n.right=a.left,n.touch(),r.left=a.right,r.touch(),a.left=t.right,a.right=t.left;s.left;)s.left.right.touch(),s.left=s.left.left;for(;s.right;)s.right.left.touch(),s.right=s.right.right;a.touch(),this.root=a}},r.prototype.splayIndex=function(e){if(this.root){for(var t=this.root,n=this.root.index;n!==e;)if(n>e&&t.left)t=t.left,n-=1+(t.right?t.right.length:0);else{if(!(n<e&&t.right))break;t=t.right,n+=1+(t.left?t.left.length:0)}return this.splay(t.value),this.root.index===e}return!1},r.prototype.reduce=function(e,t,n){return this.root&&(t=this.root.reduce(e,t,0,n,this)),t},r.prototype.reduceRight=function(e,t,n){return this.root&&(t=this.root.reduceRight(e,t,this.length-1,n,this)),t},r.prototype.min=function(e){var t=this.findLeast(e);if(t)return t.value},r.prototype.max=function(e){var t=this.findGreatest(e);if(t)return t.value},r.prototype.one=function(){return this.min()},r.prototype.clear=function(){var e;this.dispatchesRangeChanges&&(e=this.toArray(),this.dispatchBeforeRangeChange([],e,0)),this.root=null,this.length=0,this.dispatchesRangeChanges&&this.dispatchRangeChange([],e,0)},r.prototype.iterate=function(e,t){return new this.Iterator(this,e,t)},r.prototype.Iterator=o,r.prototype.summary=function(){return this.root?this.root.summary():"()"},r.prototype.log=function(e,t,n,r){e=e||u.unicodeRound,t=t||this.logNode,n||(n=console.log,r=console),n=n.bind(r),this.root&&this.root.log(e,t,n,n)},r.prototype.logNode=function(e,t,n){t(" "+e.value)},r.logCharsets=u,r.prototype.Node=i,i.prototype.reduce=function(e,t,n,r,i,o){if(o=o||0,this.left){var a=this.left.length;t=this.left.reduce(e,t,n,r,i,o+1),n+=a}return t=e.call(r,t,this.value,n,i,this,o),n+=1,this.right&&(t=this.right.reduce(e,t,n,r,i,o+1)),t},i.prototype.reduceRight=function(e,t,n,r,i,o){return o=o||0,this.right&&(t=this.right.reduce(e,t,n,r,i,o+1),n-=this.right.length),t=e.call(r,t,this.value,this.value,i,this,o),n-=1,this.left&&(t=this.left.reduce(e,t,n,r,i,o+1)),t},i.prototype.touch=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},i.prototype.checkIntegrity=function(){var e=1;if(e+=this.left?this.left.checkIntegrity():0,e+=this.right?this.right.checkIntegrity():0,this.length!==e)throw new Error("Integrity check failed: "+this.summary());return e},i.prototype.getNext=function(){var e=this;if(e.right){for(e=e.right;e.left;)e=e.left;return e}},i.prototype.getPrevious=function(){var e=this;if(e.left){for(e=e.left;e.right;)e=e.right;return e}},i.prototype.summary=function(){var e=this.value||"-";return e+=" <"+this.length,this.left||this.right?"("+e+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+e+")"},i.prototype.log=function(e,t,n,r){var i,o=this;i=this.left&&this.right?e.intersection:this.left?e.branchUp:this.right?e.branchDown:e.through;var a;this.left&&this.left.log(e,t,function(t){a?r(e.strafe+" "+t):(a=!0,r(e.fromBelow+e.through+t))},function(e){r("  "+e)});var s;t(this,function(t){s?n((o.right?e.strafe:" ")+t):(s=!0,n(i+t))},function(t){r((o.left?e.strafe:" ")+t)});var l;this.right&&this.right.log(e,t,function(t){l?n("  "+t):(l=!0,n(e.fromAbove+e.through+t))},function(t){n(e.strafe+" "+t)})},o.prototype.__iterationObject=null,Object.defineProperty(o.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:null})}}),o.prototype.next=function(){var e;return e=this.prev?this.set.findLeastGreaterThan(this.prev.value):this.set.findLeast(),e?void 0!==this.end&&this.set.contentCompare(e.value,this.end)>=0?(this._iterationObject.done=!0,this._iterationObject.value=void 0):(this.prev=e,this._iterationObject.value=e.value):(this._iterationObject.done=!0,this._iterationObject.value=void 0),this._iterationObject}}}),montageDefine("d59cf92","heap",{dependencies:["./listen/array-changes","./shim","./generic-collection","./listen/map-changes","./listen/range-changes","./listen/property-changes","heap"],factory:function(e,t,n){function r(e,t,n){return this instanceof r?(this.contentEquals=t||Object.equals,this.contentCompare=n||Object.compare,this.content=[],this.length=0,void this.addEach(e)):new r(e,t,n)}var i=(e("./listen/array-changes"),e("./shim"),e("./generic-collection")),o=e("./listen/map-changes"),a=e("./listen/range-changes"),s=e("./listen/property-changes");n.exports=r,r.Heap=r,Object.addEach(r.prototype,i.prototype),Object.addEach(r.prototype,s.prototype),Object.addEach(r.prototype,a.prototype),Object.addEach(r.prototype,o.prototype),r.from=i.from,r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentCompare)},r.prototype.push=function(e){this.content.push(e),this["float"](this.content.length-1),this.length++},r.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content.set(0,t),this.sink(0)),this.length--,e},r.prototype.add=function(e){this.push(e)},r.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this.contentEquals(this.content[t],e))return t;return-1},r.prototype["delete"]=function(e,t){if(t)throw new Error("Heap#delete does not support second argument: equals");var n=this.indexOf(e);if(n===-1)return!1;var r=this.content.pop();if(this.length=this.content.length,n===this.content.length)return!0;this.content.set(n,r);var i=this.contentCompare(r,e);return i>0?this["float"](n):i<0&&this.sink(n),!0},r.prototype.peek=function(){if(this.length)return this.content[0]},r.prototype.max=function(){return this.peek()},r.prototype.one=function(){return this.peek()},r.prototype["float"]=function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.contentCompare(r,t)<0))break;this.content.set(n,t),this.content.set(e,r),e=n}},r.prototype.sink=function(e){for(var t,n,r,i,o,a,s=this.content.length,l=this.content[e];;){if(i=2*(e+1),r=i-1,a=!1,r<s){var t=this.content[r],c=this.contentCompare(t,l);c>0&&(o=r,a=!0)}if(i<s){var n=this.content[i],c=this.contentCompare(n,a?t:l);c>0&&(o=i,a=!0)}if(!a)break;this.content.set(e,this.content[o]),this.content.set(o,l),e=o}},r.prototype.clear=function(){this.content.clear(),this.length=0},r.prototype.reduce=function(e,t){var n=arguments[2];return this.content.reduce(function(t,r,i){return e.call(n,t,r,i,this)},t,this)},r.prototype.reduceRight=function(e,t){var n=arguments[2];return this.content.reduceRight(function(t,r,i){return e.call(n,t,r,i,this)},t,this)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.makeObservable=function(){this.content.addRangeChangeListener(this,"content"),this.content.addBeforeRangeChangeListener(this,"content"),this.content.addMapChangeListener(this,"content"),this.content.addBeforeMapChangeListener(this,"content")},r.prototype.handleContentRangeChange=function(e,t,n){this.dispatchRangeChange(e,t,n)},r.prototype.handleContentRangeWillChange=function(e,t,n){this.dispatchBeforeRangeChange(e,t,n)},r.prototype.handleContentMapChange=function(e,t){this.dispatchMapChange(t,e)},r.prototype.handleContentMapWillChange=function(e,t){this.dispatchBeforeMapChange(t,e)}}}),montageDefine("d59cf92","generic-collection",{dependencies:["./shim-array"],factory:function(e,t,n){"use strict";function r(){throw new Error("Can't construct. GenericCollection is a mixin.")}n.exports=r;var i=global.DOMTokenList||function(){};r.EmptyArray=Object.freeze([]),r.prototype.addEach=function(e){if(e&&(e instanceof Array||e instanceof i||e instanceof String))for(var t=0;t<e.length;t++)this.add(e[t],t);else if(e&&Object(e)===e)if("function"==typeof e.forEach)e.forEach(this.add,this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.add(e[t],t)},this);return this},r.prototype.deleteEach=function(e,t){return e.forEach(function(e){this["delete"](e,t)},this),this},r.prototype.forEach=function(e){var t=arguments[1];return this.reduce(function(n,r,i,o,a){e.call(t,r,i,o,a)},void 0)},r.prototype.map=function(e){var t=arguments[1],n=[];return this.reduce(function(r,i,o,a,s){n.push(e.call(t,i,o,a,s))},void 0),n},r.prototype.enumerate=function(e){null==e&&(e=0);var t=[];return this.reduce(function(n,r){t.push([e++,r])},void 0),t},r.prototype.group=function(e,t,n){n=n||Object.equals;var r=[],i=[];return this.forEach(function(o,a,s){var l,a=e.call(t,o,a,s),c=i.indexOf(a,n);c===-1?(l=[],r.push([a,l]),i.push(a)):l=r[c][1],l.push(o)}),r},r.prototype.toArray=function(){return this.map(Function.identity)},r.prototype.toObject=function(){var e={};return this.reduce(function(t,n,r){e[r]=n},void 0),e},r.from=function(){return this.apply(this,arguments)},r.prototype.filter=function(e){var t=arguments[1],n=this.constructClone();return this.reduce(function(r,i,o,a,s){e.call(t,i,o,a,s)&&n.add(i,o)},void 0),n},r.prototype.every=function(e){var t=arguments[1];return this.reduce(function(n,r,i,o,a){return n&&e.call(t,r,i,o,a)},!0)},r.prototype.some=function(e){var t=arguments[1];return this.reduce(function(n,r,i,o,a){return n||e.call(t,r,i,o,a)},!1)},r.prototype.all=function(){return this.every(Boolean)},r.prototype.any=function(){return this.some(Boolean)},r.prototype.min=function(e){e=e||this.contentCompare||Object.compare;var t=!0;return this.reduce(function(n,r){return t?(t=!1,r):e(r,n)<0?r:n},void 0)},r.prototype.max=function(e){e=e||this.contentCompare||Object.compare;var t=!0;return this.reduce(function(n,r){return t?(t=!1,r):e(r,n)>0?r:n},void 0)},r.prototype.sum=function(e){return e=void 0===e?0:e,this.reduce(function(e,t){return e+t},e)},r.prototype.average=function(e){var t=void 0===e?0:e,n=void 0===e?0:e;return this.reduce(function(e,r){t+=r,n+=1},void 0),t/n},r.prototype.concat=function(){for(var e=this.constructClone(this),t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},r.prototype.flatten=function(){var e=this;return this.reduce(function(t,n){return n.forEach(function(e){this.push(e)},t,e),t},[])},r.prototype.zip=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),Array.unzip(e)},r.prototype.join=function(e){return this.reduce(function(t,n){return void 0===t?n:t+e+n},void 0)},r.prototype.sorted=function(e,t,n){return e=e||this.contentCompare||Object.compare,e.by?(t=e.by,e=e.compare||this.contentCompare||Object.compare):t=t||Function.identity,void 0===n&&(n=1),this.map(function(e){return{by:t(e),value:e}}).sort(function(t,r){return e(t.by,r.by)*n}).map(function(e){return e.value})},r.prototype.reversed=function(){return this.constructClone(this).reverse()},r.prototype.clone=function(e,t){if(void 0===e)e=1/0;else if(0===e)return this;var n=this.constructClone();return this.forEach(function(r,i){n.add(Object.clone(r,e-1,t),i)},this),n},r.prototype.only=function(){if(1===this.length)return this.one()},r.prototype.iterator=function(){return this.iterate.apply(this,arguments)},r._sizePropertyDescriptor={get:function(){return this.length},enumerable:!1,configurable:!0},Object.defineProperty(r.prototype,"size",r._sizePropertyDescriptor),e("./shim-array")}}),montageDefine("d59cf92","generic-order",{dependencies:["./shim-object"],factory:function(e,t,n){function r(){throw new Error("Can't construct. GenericOrder is a mixin.")}var i=e("./shim-object");n.exports=r,r.prototype.equals=function(e,t){return t=t||this.contentEquals||i.equals,this===e||!!e&&(this.length===e.length&&this.zip(e).every(function(e){return t(e[0],e[1])}))},r.prototype.compare=function(e,t){if(t=t||this.contentCompare||i.compare,this===e)return 0;if(!e)return 1;var n=Math.min(this.length,e.length),r=this.zip(e).reduce(function(e,r,i){return 0===e?i>=n?e:t(r[0],r[1]):e},0);return 0===r?this.length-e.length:r},r.prototype.toJSON=function(){return this.toArray()}}}),montageDefine("d59cf92","generic-map",{dependencies:["./shim-object","./iterator"],factory:function(e,t,n){"use strict";function r(){throw new Error("Can't construct. GenericMap is a mixin.")}function i(e,t){this.key=e,this.value=t}var o=e("./shim-object"),a=e("./iterator");n.exports=r,r.prototype.isMap=!0,r.prototype.addEach=function(e){var t;if(e&&o(e)===e)if("function"==typeof e.forEach)e.isMap===!0?e.forEach(function(e,t){this.set(t,e)},this):e.forEach(function(e){this.set(e[0],e[1])},this);else if("number"==typeof e.length)for(t=0;t<e.length;t++)this.add(e[t],t);else o.keys(e).forEach(function(t){this.set(t,e[t])},this);else if(e&&"number"==typeof e.length)for(t=0;t<e.length;t++)this.add(e[t],t);return this},r.prototype.get=function(e,t){var n=this.store.get(new this.Item(e));return n?n.value:arguments.length>1?(console.log("Use of a second argument as default value is deprecated to match standards"),t):this.getDefault(e)},r.prototype.set=function(e,t){var n=new this.Item(e,t),r=this.store.get(n),i=!1;return r?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,r.value),r.value=t,this.dispatchesMapChanges&&this.dispatchMapChange(e,t)):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,void 0),this.store.add(n)&&(this.length++,i=!0),this.dispatchesMapChanges&&this.dispatchMapChange(e,t)),this},r.prototype.add=function(e,t){return this.set(t,e)},r.prototype.has=function(e){return this.store.has(new this.Item(e))},r.prototype["delete"]=function(e){var t=new this.Item(e);if(this.store.has(t)){var n=this.store.get(t).value;return this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,n),this.store["delete"](t),this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(e,void 0),!0}return!1},r.prototype.clear=function(){var e,t;if(this.dispatchesMapChanges&&(this.forEach(function(e,t){this.dispatchBeforeMapChange(t,e)},this),e=this.keysArray()),this.store.clear(),this.length=0,this.dispatchesMapChanges)for(var n=0;t=e[n];n++)this.dispatchMapChange(t)},r.prototype.reduce=function(e,t,n){return this.store.reduce(function(t,r){return e.call(n,t,r.value,r.key,this)},t,this)},r.prototype.reduceRight=function(e,t,n){return this.store.reduceRight(function(t,r){return e.call(n,t,r.value,r.key,this)},t,this)},r.prototype.keysArray=function(){return this.map(function(e,t){return t})},r.prototype.keys=function(){return new a(this.keysArray())},r.prototype.valuesArray=function(){return this.map(Function.identity)},r.prototype.values=function(){return new a(this.valuesArray())},r.prototype.entriesArray=function(){return this.map(function(e,t){return[t,e]})},r.prototype.entries=function(){return new a(this.entriesArray())},r.prototype.items=function(){return this.entriesArray()},r.prototype.equals=function(e,t){if(t=t||o.equals,this===e)return!0;if(e&&"function"==typeof e.every)return e.length===this.length&&e.every(function(e,n){return t(this.get(n),e)},this);var n=o.keys(e);return n.length===this.length&&o.keys(e).every(function(n){return t(this.get(n),e[n])},this)},r.prototype.toJSON=function(){return this.entriesArray()},r.prototype.Item=i,i.prototype.equals=function(e){return o.equals(this.key,e.key)&&o.equals(this.value,e.value)},i.prototype.compare=function(e){return o.compare(this.key,e.key)}}}),montageDefine("d59cf92","generic-set",{dependencies:[],factory:function(e,t,n){function r(){throw new Error("Can't construct. GenericSet is a mixin.")}n.exports=r,r.prototype.isSet=!0,r.prototype.union=function(e){var t=this.constructClone(this);return t.addEach(e),t},r.prototype.intersection=function(e){return this.constructClone(this.filter(function(t){return e.has(t)}))},r.prototype.difference=function(e){var t=this.constructClone(this);return t.deleteEach(e),t},r.prototype.symmetricDifference=function(e){var t=this.union(e),n=this.intersection(e);return t.difference(n)},r.prototype.deleteAll=function(e){return+this["delete"](e)},r.prototype.equals=function(e,t){var n=this;return e&&"function"==typeof e.reduce&&this.length===e.length&&e.reduce(function(e,r){return e&&n.has(r,t)},!0)},r.prototype.forEach=function(e){var t=arguments[1];return this.reduce(function(n,r,i,o,a){e.call(t,r,r,o,a)},void 0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.contains=function(e){return this.has(e)},r.prototype.remove=function(e){return this["delete"](e)},r.prototype.toggle=function(e){this.has(e)?this["delete"](e):this.add(e)};var i=function(e,t){return e};r.prototype.valuesArray=function(){return this.map(i)};var o=function(e,t){return[t,e]};r.prototype.entriesArray=function(){return this.map(o)}}}),montageDefine("d59cf92","_list",{dependencies:["./shim","./generic-collection","./generic-order","list"],factory:function(e,t,n){"use strict";function r(e,t,n){return r._init(r,this,e,t,n)}function i(e){this.head=e,this.at=e.next}function o(e){this.value=e,this.prev=null,this.next=null}n.exports=r;var a=(e("./shim"),e("./generic-collection")),s=e("./generic-order");r._init=function(e,t,n,r,i){if(!(t instanceof e))return new e(n,r,i);var o=t.head=new t.Node;o.next=o,o.prev=o,t.contentEquals=r||Object.equals,t.getDefault=i||Function.noop,t.length=0,t.addEach(n)},r.List=r,Object.addEach(r.prototype,a.prototype),Object.addEach(r.prototype,s.prototype),r.from=a.from,r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.getDefault)},r.prototype.find=function(e,t,n){t=t||this.contentEquals;for(var r=this.head,i=this.scan(n,r.next);i!==r;){if(t(i.value,e))return i;i=i.next}},r.prototype.findLast=function(e,t,n){t=t||this.contentEquals;for(var r=this.head,i=this.scan(n,r.prev);i!==r;){if(t(i.value,e))return i;i=i.prev}},r.prototype.has=function(e,t){return!!this.find(e,t)},r.prototype.get=function(e,t){var n=this.find(e,t);return n?n.value:this.getDefault(e)},r.prototype["delete"]=function(e,t){var n=this.findLast(e,t);return!!n&&(n["delete"](),this.length--,!0)},r.prototype.deleteAll=function(e,t){t=t||this.contentEquals;for(var n=this.head,r=n.next,i=0;r!==n;)t(e,r.value)&&(r["delete"](),i++),r=r.next;return this.length-=i,i},r.prototype.clear=function(){this.head.next=this.head.prev=this.head,this.length=0},r.prototype.add=function(e){var t=new this.Node(e);return this._addNode(t)},r.prototype._addNode=function(e){return this.head.addBefore(e),this.length++,!0},r.prototype.push=function(){for(var e=this.head,t=0;t<arguments.length;t++){var n=arguments[t],r=new this.Node(n);e.addBefore(r)}this.length+=arguments.length},r.prototype.unshift=function(){for(var e=this.head,t=0;t<arguments.length;t++){var n=arguments[t],r=new this.Node(n);e.addAfter(r),e=r}this.length+=arguments.length},r.prototype._shouldPop=function(){var e,t=this.head;return t.prev!==t&&(e=t.prev.value),e},r.prototype.pop=function(e,t){var n,r=this.head;if(r.prev!==r){n=r.prev.value;var i=this.length-1,o=e?e.call(this,n,i):void 0;r.prev["delete"](),this.length--,t?t.call(this,n,i,o):void 0}return n},r.prototype.shift=function(e,t){var n,r=this.head;if(r.prev!==r){n=r.next.value;var i=e?e.call(this,n,0):void 0;r.next["delete"](),this.length--,t?t.call(this,n,0,i):void 0}return n},r.prototype.peek=function(){if(this.head!==this.head.next)return this.head.next.value},r.prototype.poke=function(e){this.head!==this.head.next?this.head.next.value=e:this.push(e)},r.prototype.one=function(){return this.peek()},r.prototype.scan=function(e,t){var n=this.head;if("number"==typeof e){var r=e;if(r>=0)for(e=n.next;r&&(r--,e=e.next,e!=n););else for(e=n;r<0&&(r++,e=e.prev,e!=n););return e}return e||t},r.prototype.slice=function(e,t){var n=[],r=this.head;for(e=this.scan(e,r.next),t=this.scan(t,r);e!==t&&e!==r;)n.push(e.value),e=e.next;return n},r.prototype.splice=function(e,t){return this.swap(e,t,Array.prototype.slice.call(arguments,2))},r.prototype.swap=function(e,t,n,r,i){var o=e;e=this.scan(e,this.head),null==t&&(t=1/0),n=Array.from(n);for(var a=[],s=e;t--&&t>=0&&s!==this.head;)a.push(s.value),s=s.next;var l;l=r?r.call(this,e,n,a):void 0;for(var s=e,c=0,s=e;c<a.length;c++,s=s.next)s["delete"]();null==o&&s===this.head&&(s=this.head.next);for(var c=0;c<n.length;c++){var u=new this.Node(n[c]);s.addBefore(u)}return this.length+=n.length-a.length,i?i.call(this,e,n,a):void 0,a},r.prototype.reverse=function(){var e=this.head;do{var t=e.next;e.next=e.prev,e.prev=t,e=e.next}while(e!==this.head);return this},r.prototype.sort=function(){this.swap(0,this.length,this.sorted())},r.prototype.reduce=function(e,t){for(var n=arguments[2],r=this.head,i=r.next;i!==r;)t=e.call(n,t,i.value,i,this),i=i.next;return t},r.prototype.reduceRight=function(e,t){for(var n=arguments[2],r=this.head,i=r.prev;i!==r;)t=e.call(n,t,i.value,i,this),i=i.prev;return t},r.prototype.updateIndexes=function(e,t){for(;e!==this.head;)e.index=t++,e=e.next},r.prototype.iterate=function(){return new i(this.head)},i.prototype.__iterationObject=null,Object.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:null})}}),i.prototype.next=function(){if(this.at===this.head)this._iterationObject.done=!0,this._iterationObject.value=void 0;else{var e=this.at.value;this.at=this.at.next,this._iterationObject.value=e}return this._iterationObject},r.prototype.Node=o,o.prototype["delete"]=function(){this.prev.next=this.next,this.next.prev=this.prev},o.prototype.addBefore=function(e){var t=this.prev;this.prev=e,e.prev=t,t.next=e,e.next=this},o.prototype.addAfter=function(e){var t=this.next;this.next=e,e.next=t,t.prev=e,e.prev=this}}}),montageDefine("d59cf92","_fast-set",{dependencies:["./shim","./_dict","./_list","./generic-collection","./generic-set","./tree-log","fast-set"],factory:function(e,t,n){"use strict";function r(e,t,n,i){if(!(this instanceof r))return new r(e,t,n,i);t=t||Object.equals,n=n||Object.hash,i=i||Function.noop,this.contentEquals=t,this.contentHash=n,this.getDefault=i;var o=this;this.buckets=new this.Buckets(null,function(){return new o.Bucket}),this.length=0,this.addEach(e)}var i=(e("./shim"),e("./_dict")),o=e("./_list"),a=e("./generic-collection"),s=e("./generic-set"),l=e("./tree-log");Object.prototype.hasOwnProperty,n.exports=r,r.FastSet=r,Object.addEach(r.prototype,a.prototype),Object.addEach(r.prototype,s.prototype),r.from=a.from,r.prototype.Buckets=i,r.prototype.Bucket=o,r.prototype.constructClone=function(e){return new this.constructor(e,this.contentEquals,this.contentHash,this.getDefault)},r.prototype.has=function(e){var t=this.contentHash(e);return this.buckets.get(t).has(e)},r.prototype.get=function(e,t){if(t)throw new Error("FastSet#get does not support second argument: equals");var n=this.contentHash(e),r=this.buckets;return r.has(n)?r.get(n).get(e):this.getDefault(e)},r.prototype["delete"]=function(e,t){if(t)throw new Error("FastSet#delete does not support second argument: equals");var n=this.contentHash(e),r=this.buckets;if(r.has(n)){var i=r.get(n);if(i["delete"](e))return this.length--,0===i.length&&r["delete"](n),!0}return!1},r.prototype.clear=function(){this.buckets.clear(),this.length=0},r.prototype.add=function(e){var t=this.contentHash(e),n=this.buckets;return n.has(t)||n.set(t,new this.Bucket(null,this.contentEquals)),!n.get(t).has(e)&&(n.get(t).add(e),this.length++,!0)},r.prototype.reduce=function(e,t){var n=arguments[2],r=this.buckets,i=0;return r.reduce(function(t,r){return r.reduce(function(t,r){return e.call(n,t,r,i++,this)},t,this)},t,this)},r.prototype.one=function(){if(this.length>0)return this.buckets.one().one()},r.prototype.iterate=function(){return this.buckets.valuesArray().flatten().iterate()},r.prototype.log=function(e,t,n,r){e=e||l.unicodeSharp,t=t||this.logNode,n||(n=console.log,r=console),n=n.bind(r);for(var i,o,a,s,c=this.buckets,u=c.size,f=c.keys(),d=0;i=f.next().value;)d===u-1?(o=e.fromAbove,a=" "):0===d?(o=e.branchDown,a=e.strafe):(o=e.fromBoth,a=e.strafe),s=c.get(i),n.call(r,o+e.through+e.branchDown+" "+i),s.forEach(function(i,o){var l,c,u;o===s.head.prev?(l=e.fromAbove,c=" "):(l=e.fromBoth,c=e.strafe),t(o,function(t){u?n.call(r,a+" "+c+"  "+t):(n.call(r,a+" "+l+e.through+e.through+t),u=!0)},function(t){n.call(r,a+" "+e.strafe+"  "+t)})}),d++},r.prototype.logNode=function(e,t){var n=e.value;Object(n)===n?JSON.stringify(n,null,4).split("\n").forEach(function(e){t(" "+e)}):t(" "+n)}}}),montageDefine("d59cf92","iterator",{dependencies:["./shim-object","./generic-collection"],factory:function(e,t,n){"use strict";function r(e){var t=e&&e.values&&e.values();if(t&&"function"==typeof t.next)return t;if(!(this instanceof r))return new r(e);if(Array.isArray(e)||"string"==typeof e)return r.iterate(e);if(e=i(e),e instanceof r)return e;if(e.next)this.next=function(){return e.next()};else if(e.iterate){var n=e.iterate();this.next=function(){return n.next()}}else{if("[object Function]"!==i.prototype.toString.call(e))throw new TypeError("Can't iterate "+e);this.next=e}}n.exports=r;var i=e("./shim-object"),o=e("./generic-collection");r.prototype.forEach=o.prototype.forEach,r.prototype.map=o.prototype.map,r.prototype.filter=o.prototype.filter,r.prototype.every=o.prototype.every,r.prototype.some=o.prototype.some,r.prototype.any=o.prototype.any,r.prototype.all=o.prototype.all,r.prototype.min=o.prototype.min,r.prototype.max=o.prototype.max,r.prototype.sum=o.prototype.sum,r.prototype.average=o.prototype.average,r.prototype.flatten=o.prototype.flatten,r.prototype.zip=o.prototype.zip,r.prototype.enumerate=o.prototype.enumerate,r.prototype.sorted=o.prototype.sorted,r.prototype.group=o.prototype.group,r.prototype.reversed=o.prototype.reversed,r.prototype.toArray=o.prototype.toArray,r.prototype.toObject=o.prototype.toObject,r.prototype.iterator=o.prototype.iterator,r.prototype.__iterationObject=null,i.defineProperty(r.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:void 0})}}),r.prototype.constructClone=function(e){var t=[];return t.addEach(e),t},r.prototype.mapIterator=function(e){var t=r(this),n=arguments[1],o=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(t._iterationObject.done!==!0){var r=e.call(n,t.next().value,o++,t);t._iterationObject.value=r}return t._iterationObject})},r.prototype.filterIterator=function(e){var t=r(this),n=arguments[1],o=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;
return new t.constructor(function(){for(var r;;){if(r=t.next(),r.done===!0)return r;if(e.call(n,r.value,o++,t))return r}})},r.prototype.reduce=function(e){var t,n=r(this),o=arguments[1],a=arguments[2],s=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;if(t=n.next(),t.done===!0){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(o=arguments.length>1?e.call(a,o,t.value,s,n):t.value,s++;;){if(t=n.next(),t.done===!0)return o;o=e.call(a,o,t.value,s,n),s++}},r.prototype.concat=function(){return r.concat(Array.prototype.concat.apply(this,arguments))},r.prototype.dropWhile=function(e){var t,n,o=r(this),a=arguments[1],s=!1,l=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;for(;n=o.next(),n.done!==!0;){if(!e.call(a,n.value,l,o)){s=!0,t=n.value;break}l++}return s?o.constructor([t]).concat(o):o.constructor([])},r.prototype.takeWhile=function(e){var t=r(this),n=arguments[1],o=0;if("[object Function]"!=i.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(t._iterationObject.done!==!0){var r=t.next().value;e.call(n,r,o++,t)?t._iterationObject.value=r:(t._iterationObject.done=!0,t._iterationObject.value=void 0)}return t._iterationObject})},r.prototype.zipIterator=function(){return r.unzip(Array.prototype.concat.apply(this,arguments))},r.prototype.enumerateIterator=function(e){return r.count(e).zipIterator(this)},r.iterate=function(e){var t;return t=0,new r(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length){this._iterationObject.done=!0,this._iterationObject.value=void 0;break}t+=1}else t>=e.length&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);return this._iterationObject.done||(this._iterationObject.value=e[t],t+=1),this._iterationObject})},r.cycle=function(e,t){var n;return arguments.length<2&&(t=1/0),new r(function(){var i,o;return n&&(o=n()),n&&o.done!==!0||(t>0?(t--,i=r.iterate(e),o=(n=i.next.bind(i))()):(this._iterationObject.done=!0,o=this._iterationObject)),o})},r.concat=function(e){e=r(e);var t;return new r(function(){var n,i;return t&&(i=t()),i&&i.done!==!0?i:(i=e.next(),i.done===!1?(n=r(i.value),(t=n.next.bind(n))()):i)})},r.unzip=function(e){return e=r(e).map(r),new r(0===e.length?[]:function(){var t,n,r=e.map(function(e){return n=e.next(),n.done===!0&&(t=!0),n.value});return t?(this._iterationObject.done=!0,this._iterationObject.value=void 0):this._iterationObject.value=r,this._iterationObject})},r.zip=function(){return r.unzip(Array.prototype.slice.call(arguments))},r.chain=function(){return r.concat(Array.prototype.slice.call(arguments))},r.range=function(e,t,n){return arguments.length<3&&(n=1),arguments.length<2&&(t=e,e=0),e=e||0,n=n||1,new r(function(){e>=t&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);var r=e;return e+=n,this._iterationObject.value=r,this._iterationObject})},r.count=function(e,t){return r.range(e,1/0,t)},r.repeat=function(e,t){return new r.range(t).mapIterator(function(){return e})}}}),montageDefine("d59cf92","tree-log",{dependencies:[],factory:function(e,t,n){"use strict";function r(){}n.exports=r,r.ascii={intersection:"+",through:"-",branchUp:"+",branchDown:"+",fromBelow:".",fromAbove:"'",fromBoth:"+",strafe:"|"},r.unicodeRound={intersection:"╋",through:"━",branchUp:"┻",branchDown:"┳",fromBelow:"╭",fromAbove:"╰",fromBoth:"┣",strafe:"┃"},r.unicodeSharp={intersection:"╋",through:"━",branchUp:"┻",branchDown:"┳",fromBelow:"┏",fromAbove:"┗",fromBoth:"┣",strafe:"┃"}}}),montageDefine("d59cf92","_dict",{dependencies:["./shim","./generic-collection","./generic-map","dict"],factory:function(e,t,n){"use strict";function r(e,t){return this instanceof r?(t=t||Function.noop,this.getDefault=t,this.store=Object.create(null),this.length=0,void this.addEach(e)):new r(e,t)}var i=(e("./shim"),e("./generic-collection")),o=e("./generic-map");n.exports=r,r.Dict=r,Object.addEach(r.prototype,i.prototype),Object.addEach(r.prototype,o.prototype),r.from=i.from,r.prototype.constructClone=function(e){return new this.constructor(e,this.getDefault)},r.prototype.assertString=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e)},Object.defineProperty(r.prototype,"$__proto__",{writable:!0}),Object.defineProperty(r.prototype,"_hasProto",{get:function(){return this.hasOwnProperty("$__proto__")&&"undefined"!=typeof this._protoValue}}),Object.defineProperty(r.prototype,"_protoValue",{get:function(){return this.$__proto__},set:function(e){this.$__proto__=e}}),Object.defineProperty(r.prototype,"size",i._sizePropertyDescriptor),r.prototype.get=function(e,t){return this.assertString(e),"__proto__"===e?this._hasProto?this._protoValue:arguments.length>1?t:this.getDefault(e):e in this.store?this.store[e]:arguments.length>1?t:this.getDefault(e)},r.prototype.set=function(e,t){this.assertString(e);var n="__proto__"===e;return(n?this._hasProto:e in this.store)?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,n?this._protoValue:this.store[e]),n?this._protoValue=t:this.store[e]=t,this.dispatchesMapChanges&&this.dispatchMapChange(e,t),!1):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,void 0),this.length++,n?this._protoValue=t:this.store[e]=t,this.dispatchesMapChanges&&this.dispatchMapChange(e,t),!0)},r.prototype.has=function(e){return this.assertString(e),"__proto__"===e?this._hasProto:e in this.store},r.prototype["delete"]=function(e){return this.assertString(e),"__proto__"===e?!!this._hasProto&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,this._protoValue),this._protoValue=void 0,this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(e,void 0),!0):e in this.store&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,this.store[e]),delete this.store[e],this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(e,void 0),!0)},r.prototype.clear=function(){var e;this._hasProto&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange("__proto__",this._protoValue),this._protoValue=void 0,this.dispatchesMapChanges&&this.dispatchMapChange("__proto__",void 0));for(e in this.store)this.dispatchesMapChanges&&this.dispatchBeforeMapChange(e,this.store[e]),delete this.store[e],this.dispatchesMapChanges&&this.dispatchMapChange(e,void 0);this.length=0},r.prototype.reduce=function(e,t,n){this._hasProto&&(t=e.call(n,t,"$__proto__","__proto__",this));var r=this.store;for(var i in this.store)t=e.call(n,t,r[i],i,this);return t},r.prototype.reduceRight=function(e,t,n){var r=this,i=this.store;return t=Object.keys(this.store).reduceRight(function(t,o){return e.call(n,t,i[o],o,r)},t),this._hasProto?e.call(n,t,this._protoValue,"__proto__",r):t},r.prototype.one=function(){var e;for(e in this.store)return this.store[e];return this._protoValue},r.prototype.toJSON=function(){return this.toObject()}}}),montageDefine("d59cf92","dict",{dependencies:["./_dict","./listen/property-changes","./listen/map-changes"],factory:function(e,t,n){"use strict";var r=e("./_dict"),i=e("./listen/property-changes"),o=e("./listen/map-changes");n.exports=r,Object.addEach(r.prototype,i.prototype),Object.addEach(r.prototype,o.prototype)}}),montageDefine("1417edc","proxy.min",{dependencies:[],factory:function(e,t,n){!function(e){function t(e){return!!e&&("object"==typeof e||"function"==typeof e)}if(!e.Proxy){var n=null;e.a=function(e,r){function i(){}if(!t(e)||!t(r))throw new TypeError("Cannot create proxy with a non-object as target or handler");n=function(){i=function(e){throw new TypeError("Cannot perform '"+e+"' on a proxy that has been revoked")}};var o=r;r={get:null,set:null,apply:null,construct:null};for(var a in o){if(!(a in r))throw new TypeError("Proxy polyfill does not support trap '"+a+"'");r[a]=o[a]}"function"==typeof o&&(r.apply=o.apply.bind(o));var s=this,l=!1,c="function"==typeof e;(r.apply||r.construct||c)&&(s=function(){var t=this&&this.constructor===s,n=Array.prototype.slice.call(arguments);if(i(t?"construct":"apply"),t&&r.construct)return r.construct.call(this,e,n);if(!t&&r.apply)return r.apply(e,this,n);if(c)return t?(n.unshift(e),new(e.bind.apply(e,n))):e.apply(this,n);throw new TypeError(t?"not a constructor":"not a function")},l=!0);var u=r.get?function(e){return i("get"),r.get(this,e,s)}:function(e){return i("get"),this[e]},f=r.set?function(e,t){i("set"),r.set(this,e,t,s)}:function(e,t){i("set"),this[e]=t},d={};if(Object.getOwnPropertyNames(e).forEach(function(t){l&&t in s||(Object.defineProperty(s,t,{enumerable:!!Object.getOwnPropertyDescriptor(e,t).enumerable,get:u.bind(e,t),set:f.bind(e,t)}),d[t]=!0)}),o=!0,Object.setPrototypeOf?Object.setPrototypeOf(s,Object.getPrototypeOf(e)):s.__proto__?s.__proto__=e.__proto__:o=!1,r.get||!o)for(var h in e)d[h]||Object.defineProperty(s,h,{get:u.bind(e,h)});return Object.seal(e),Object.seal(s),s},e.a.b=function(t,r){return{proxy:new e.a(t,r),revoke:n}},e.a.revocable=e.a.b,e.Proxy=e.a}}("undefined"!=typeof process&&"[object process]"=={}.toString.call(process)?global:self)}}),montageDefine("1bc20c3","parse",{dependencies:["collections/shim","./grammar","collections/map"],factory:function(e,t,n){function r(e,t){var n;if(Array.isArray(e))return{type:"tuple",args:e.map(function(e){return r(e,t)})};if(!t&&(n=a.get(e)))return n;try{var o=i.parse(e,t||Object.empty);return t||a.set(e,o),o}catch(s){throw s.message=s.message.replace(/[\s\.]+$/,"")+"  on line "+s.line+" column "+s.column,s}}e("collections/shim");var i=e("./grammar"),o=e("collections/map"),a=new o;n.exports=r}}),montageDefine("1bc20c3","evaluate",{dependencies:["./parse","./compile-evaluator","./scope"],factory:function(e,t,n){function r(e,t,n,r,s){var l;l="string"==typeof e?i(e):e;var c=o(l),u=new a(t);return u.parameters=n,u.document=r,u.components=s,c(u)}var i=e("./parse"),o=e("./compile-evaluator"),a=e("./scope");n.exports=r}}),montageDefine("1bc20c3","assign",{dependencies:["./parse","./compile-assigner","./scope"],factory:function(e,t,n){function r(e,t,n,r,s,l){var c;c="string"==typeof t?i(t):t;var u=o(c),f=new a(e);return f.parameters=r,f.document=s,f.components=l,u(n,f)}var i=e("./parse"),o=e("./compile-assigner"),a=e("./scope");n.exports=r}}),montageDefine("1bc20c3","bind",{dependencies:["./parse","./algebra","./stringify","./compile-observer","./compile-binder","./compile-assigner","./observers","./binders","./scope"],factory:function(e,t,n){function r(e,t,n){n.target=e,n.targetPath=t;var r=n.source=n.source||e,c=n.twoWay=g in n,u=n.sourcePath=c?n[g]||"":n[b],f=n.parameters=n.parameters||r,d=n.document,h=n.components,v=n.trace,y=new p(r),_=new p(e);if(y.parameters=f,y.document=d,y.components=h,_.parameters=f,_.document=d,_.components=h,n.converter){var w=n.converter;w.convert&&(n.convert=w.convert.bind(w)),w.revert&&(n.revert=w.revert.bind(w))}else if(n.reverter){var x=n.reverter;x.convert&&(n.revert=x.convert.bind(x)),x.revert&&(n.convert=x.revert.bind(x))}var k=n.convert,j=n.revert,O=n.sourceSyntax=a(u),C=n.targetSyntax=a(t),E=s(C,O);if(C=E[0],O=E[1],c&&"rangeContent"===C.type)return o(_,C.args[0],y,O,k,j,n,v?{sourcePath:l(O),targetPath:l(C.args[0])}:null);v&&console.log("DEFINE BINDING",t,b,u,e);var A=i(_,C,y,O,k,n,v),E=s(O,C);O=E[0],C=E[1];var D=Function.noop;return c&&(v&&console.log("DEFINE BINDING",t,m,u,r),D=i(y,O,_,C,j,n,v)),function(){A(),D()}}function i(e,t,n,r,i,o,a){var s=c(r);i&&(s=d.makeConverterObserver(s,i,n));var f=u(t);return f(s,n,e,o,a?{sourcePath:l(r),targetPath:l(t)}:null)}function o(e,t,n,r,i,o,a,s){function l(e,t,n){y||(y=!0,s&&console.log("RANGE CONTENT PROPAGATED",s.targetPath,b,s.sourcePath,"PLUS",e,"MINUS",t,"AT",n),p.swap(n,t.length,e),y=!1)}function u(e,t,n){y||(y=!0,s&&console.log("RANGE CONTENT PROPAGATED",s.targetPath,m,s.sourcePath,"PLUS",e,"MINUS",t,"AT",n),v.swap(n,t.length,e),y=!1)}function d(){if(v!==p){s&&console.log("RANGE CONTENT BOUND",s.targetPath,g,s.sourcePath),y=!0;var t=h(v,l,n),r=h(p,u,e);return y=!1,function(){s&&console.log("RANGE CONTENT UNBOUND",s.targetPath,g,s.sourcePath),t(),r()}}}var p,v,y,_=c(r),w=c(t),x=f(r),k=f(t),j=Function.noop;y=!0;var O=w(function(e){j(),j=Function.noop,s&&console.log("RANGE CONTENT TARGET",s.targetPath,"SET TO",e),e&&e.addRangeChangeListener&&(p=e,v&&p?(s&&console.log("RANGE CONTENT TARGET REPLACES SOURCE",s.targetPath,m,s.sourcePath,"WITH",p),y=!0,v.swap(0,v.length,p),y=!1,j=d()):v||y||(s&&console.log("RANGE CONTENT TARGET INITIALIZED TO COPY OF SOURCE",s.targetPath,b,tarce.sourcePath,"WITH",v),x(p.clone(),n)))},e);y=!1;var C=_(function(t){j(),j=Function.noop,s&&console.log("RANGE CONTENT SOURCE",s.sourcePath,"SET TO",t),t&&t.addRangeChangeListener&&(v=t,p&&v?(s&&console.log("RANGE CONTENT SOURCE REPLACES TARGET",s.targetPath,b,s.sourcePath,"WITH",v),y=!0,p.swap(0,p.length,v),y=!1,j=d()):p||k(v.clone(),e))},n);return p||v||x([],n),function(){j(),O(),C()}}var a=e("./parse"),s=e("./algebra"),l=e("./stringify"),c=e("./compile-observer"),u=e("./compile-binder"),f=e("./compile-assigner"),d=e("./observers"),h=d.observeRangeChange,p=(e("./binders"),e("./scope")),b="<-",m="->",g="<->";n.exports=r}}),montageDefine("1bc20c3","compile-observer",{dependencies:["./observers","./operators"],factory:function(e,t,n){function r(e){return h.compile(e)}var i=e("./observers"),o=e("./operators"),a="literal",s="value",l="parameters",c="element",u="component",f="record";n.exports=r;for(var d,h=r.semantics={compilers:{property:i.makePropertyObserver,get:i.makeGetObserver,path:i.makePathObserver,"with":i.makeWithObserver,"if":i.makeConditionalObserver,parent:i.makeParentObserver,not:i.makeNotObserver,and:i.makeAndObserver,or:i.makeOrObserver,"default":i.makeDefaultObserver,defined:i.makeDefinedObserver,rangeContent:Function.identity,mapContent:Function.identity,keys:i.makeKeysObserver,keysArray:i.makeKeysObserver,values:i.makeValuesObserver,valuesArray:i.makeValuesObserver,items:i.makeEntriesObserver,entries:i.makeEntriesObserver,entriesArray:i.makeEntriesObserver,toMap:i.makeToMapObserver,mapBlock:i.makeMapBlockObserver,filterBlock:i.makeFilterBlockObserver,everyBlock:i.makeEveryBlockObserver,someBlock:i.makeSomeBlockObserver,sortedBlock:i.makeSortedBlockObserver,sortedSetBlock:i.makeSortedSetBlockObserver,groupBlock:i.makeGroupBlockObserver,groupMapBlock:i.makeGroupMapBlockObserver,minBlock:i.makeMinBlockObserver,maxBlock:i.makeMaxBlockObserver,min:i.makeMinObserver,max:i.makeMaxObserver,enumerate:i.makeEnumerationObserver,reversed:i.makeReversedObserver,flatten:i.makeFlattenObserver,concat:i.makeConcatObserver,view:i.makeViewObserver,sum:i.makeSumObserver,average:i.makeAverageObserver,last:i.makeLastObserver,only:i.makeOnlyObserver,one:i.makeOneObserver,has:i.makeHasObserver,tuple:i.makeArrayObserver,range:i.makeRangeObserver,startsWith:i.makeStartsWithObserver,endsWith:i.makeEndsWithObserver,contains:i.makeContainsObserver,join:i.makeJoinObserver,toArray:i.makeToArrayObserver,asArray:i.makeToArrayObserver},compile:function(e){var t=this.compilers,n=e.type;if(e.type===a)return i.makeLiteralObserver(e.value);if(n===s)return i.observeValue;if(n===l)return i.observeParameters;if(n===c)return i.makeElementObserver(e.id);if(n===u)return i.makeComponentObserver(e.label,e);if(n===f){for(var r={},o=e.args,h=Object.keys(o),p=0;d=h[p];p++)r[d]=this.compile(o[d]);return i.makeObjectObserver(r)}t.hasOwnProperty(n)||(t[n]=i.makeMethodObserverMaker(n));for(var b=[],p=0,o=e.args,m=o.length;p<m;p++)b[p]=this.compile(o[p]);return 1===m?t[n].call(null,b[0]):2===m?t[n].call(null,b[0],b[1]):t[n].apply(null,b)}},p=h.compilers,b=Object.keys(o),m=0;d=b[m];m++)p[d]||(p[d]=i.makeOperatorObserverMaker(o[d]));p.toString=i.makeOperatorObserverMaker(o.toString)}}),montageDefine("1bc20c3","scope",{dependencies:[],factory:function(e,t,n){function r(e){this.parent=null,this.value=e}n.exports=r,r.prototype.nest=function(e){var t=Object.create(this);return t.value=e,t.parent=this,t}}}),montageDefine("1bc20c3","observers",{dependencies:["collections/shim","collections/listen/property-changes","collections/listen/array-changes","collections/sorted-array","collections/sorted-set","collections/map","collections/set","collections/heap","./scope","./operators","./parse","./compile-observer","./merge"],factory:function(e,t,n){function r(e){return function(t){return t(e)}}function i(e,t){return e(t.value)}function o(e,t){return e(t.parameters)}function a(e){return function(t,n){return t(n.document.getElementById(e))}}function s(e,t){return function(t,n){var r=n.components,i=r.getObjectByLabel||r.getComponentByLabel,o=i.call(r,e);return t(o)}}function l(e,t,n,r){function i(e,t,r){o&&o(),o=n(e,t,r)}if(null==e)return n();var o;return Oe.addOwnPropertyChangeListener(e,t,i,r.beforeChange),i(e[t],t,e),function(){o&&o(),Oe.removeOwnPropertyChangeListener(e,t,i,r.beforeChange)}}function c(e,t){return function(n,r){return t(function(t){function i(e){return null==e?i.emit():e.observeProperty?e.observeProperty(t,i.emit,i.scope):i.observeProperty(e,t,i.emit,i.scope)}return"string"!=typeof t&&"number"!=typeof t?n():(i.observeProperty=Te,i.emit=n,i.scope=r,e(i,r))},r)}}function u(e,t,n,r){function i(e,r,i){a(t,r)&&(o&&o(),o=n(e,t,i))}var o,a=e.contentEquals||Object.equals;return i(e.get(t),t,e),e.addMapChangeListener(i,r.beforeChange),function(){o&&o(),e.removeMapChangeListener(i)}}function f(e,t){return function(n,r){return e(function(e){function i(t){return null==t?n():e.observeGet?e.observeGet(t,n,r):i.observeGet(e,t,n,r)}return e?(i.observeGet=Se,t(i,r)):n()},r)}}function d(e,t){return function(n,r){return n=we(n),t(function(t){return e(function(e){return e?e.addRangeChangeListener?Z(e,function(){return n((e.has||e.contains).call(e,t))},r):e.addMapChangeListener?se(e,function(){return n(e.has(t))},r):n():n()},r)},r)}}function h(e){return function(t,n){for(var r=[],i=[],o=0,a=e.length;o<a;o++)r[o]=void 0,i[o]=function(e,t){return e(function(e){r.set(t,e)},n)}(e[o],o);var s=t(r);return function(){s&&s();for(var e=0,t=i.length;e<t;e++)s=i[e],s&&s()}}}function p(e){return function(t,n){var r,i={},o={},a=Object.keys(e);for(r=0;name=a[r];r++)!function(e,t){o[e]=void 0,i[e]=t(function(t){o[e]=t},n)}(name,e[name]);var s=t(o);return function(){s&&s();var e,t=Object.keys(i);for(e=0;name=t[e];e++)s=i[name],s&&s()}}}function b(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return h(e)}function m(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=h(t),i=oe(r);return function(t,n){return i(function(n){return n.every(Pe.defined)?t(1===n.length?e.call(void 0,n[0]):2===n.length?e.call(void 0,n[0],n[1]):e.apply(void 0,n)):t()},n)}}}function g(e){var t=e.slice(0,1).toUpperCase();t+=e.slice(1);var n="make";n+=t,n+="Observer";var r="observe";return r+=t,function(){var t=arguments[0],i=Array.prototype.slice.call(arguments,1),o=h(i),a=oe(o);return function(o,s){return t(function(t){return t?t[n]?1===i.length?t[n].call(t,i[0])(o,s):2===i.length?t[n].call(t,i[0],i[1])(o,s):t[n].apply(t,i)(o,s):t[r]?t[r](o,s):a(function(n){return n.every(Pe.defined)&&"function"==typeof t[e]?o(1===n.length?t[e].call(t,n[0]):2===n.length?t[e].call(t,n[0],n[1]):t[e].apply(t,n)):o()},s):o()},s)}}}function v(e){return function(t,n){return e(function(e){return t(!e)},n)}}function y(e,t){return function(n,r){return e(function(e){return e?t(n,r):n(e)},r)}}function _(e,t){return function(n,r){return e(function(e){return e?n(e):t(n,r)},r)}}function w(e,t,n){return function(r,i){return e(function(e){return null==e?r():e?t(r,i):n(r,i)},i)}}function x(e){return function(t,n){return e(function(e){return t(null!=e)},n)}}function k(e,t){return function(n,r){return e(function(e){return null==e?t(n,r):n(e)},r)}}function j(e,t){return function(n,r){return e(function(e){function i(t){for(var n=0,r=e.length;n<r;n++)s[n].index=n}function o(e,n,o){function c(e,t,n,r,i,o,a,s){function l(e){h?i.set(c.index,e):o[t]=e}var c=r[n+t];return a(l,s.nest(e))}var u,f,d=[];for(u=0,f=e.length;u<f;u++)d[u]={index:o+u};je(s,o,n.length,d),i(o+e.length);var h,p,b=[],m=o,g=o+n.length;for(m=o,g=o+n.length;m<g;m++)p=l[m],p&&p();for(u=0,f=e.length;u<f;u++)d[u]=c(e[u],u,o,s,a,b,t,r);je(l,o,n.length,d),h=!0,a.swap(o,n.length,b)}if(!e)return n();var a=[],s=[],l=[],c=Z(e,o,r),u=n(a,e);return function(){u&&u();for(var e=0,t=l.length;e<t;e++)u=l[e],u&&u();c()}},r)}}function O(e,t){var n=j(e,t);return function(e,t){return n(function(n,r){function i(e){for(;e<n.length;e++)l[e+1]=l[e]+!!n[e]}function o(e,t,n){var o=r.slice(n,n+e.length),s=t.map(Boolean).sum(),c=o.filter(function(t,n){return e[n]}),u=l[n],f=a.slice(u,u+s);(f.length!==c.length||f.some(function(e,t){return e!==c[t]}))&&a.swap(u,s,c),i(u)}if(!r)return e();var a=[],s=[],l=[0],c=Z(n,o,t),u=e(a);return function(){u&&u();for(var e=0,t=s.length;e<t;e++)u=s[e],u&&u();c()}},t)}}function C(e,t){var n=D(t),r=j(e,n),i=function(e,t){return r(function(n){function r(e,t){o.deleteEach(t),o.addEach(e)}if(!n)return e();var i=[],o=Ce(i,E,A),a=Z(n,r,t),s=e(i);return function(){s&&s(),a()}},t)};return Le(i,fe)}function E(e,t){return Object.equals(e[1],t[1])}function A(e,t){return Object.compare(e[1],t[1])}function D(e){return function(t,n){return e(function(e){return t([n.value,e])},n)}}function P(e,t){var n=D(t),r=j(e,n),i=M(r,he),o=j(i,K(he));return function(e,t){function n(e,t){return e=s.get(e),t=s.get(t),Object.compare(e,t)}function r(e,t){return e=s.get(e),t=s.get(t),Object.equals(e,t)}function i(e,t){var n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],l["delete"](i[0]),s["delete"](i[0]);for(n=0,r=e.length;n<r;n++)i=e[n],s.set(i[0],i[1]),l.add(i[0])}function a(e){return l.clear(),Z(e,i,t)}var s=new Ae,l=new Ee(null,r,n),c=e(l),u=o(a,t);return function(){c&&c(),u()}}}function T(e){return function(t,n){return e(function(e){function r(e,t,n){var r=i.length-n-t.length;i.swap(r,t.length,e.reversed())}if(!e)return t();var i=[],o=Z(e,r,n),a=t(i);return function(){a&&a(),o()}},n)}}function S(e){return function(t,n){return e(function(e){function r(t){for(var n=t;n<e.length;n++)l[n].index=n,e[n]?s[n+1]=s[n]+e[n].length:s[n+1]=s[n]}function i(e,t,i){var c=s[i],u=s[i+t.length],f=u-c;o.swap(c,f,[]),je(l,i,t.length,e.map(function(){return{index:null}})),r(i);for(var d,h=i,u=i+t.length;h<u;h++)d=a[h],d&&d();je(a,i,t.length,e.map(function(e,t){function a(e,t,n){r(c.index);var i=s[c.index]+n,a=s[c.index]+n+t.length,l=a-i;o.swap(i,l,e)}var c=l[i+t];return Z(e,a,n)}))}if(!e)return t();var o=[],a=[],s=[0],l=[],c=Z(e,i,n),u=t(o);return function(){u&&u();for(var e=0,t=a.length;e<t;e++)u=a[e],u&&u();c()}},n)}}function L(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Re(h(e))}function z(e,t){var n=ze(e,t),r=c(n,Me);return me(r,Boolean)}function R(e,t){var n=me(t,Pe.not),r=ze(e,n),i=c(r,Me);return me(i,Pe.not)}function M(e,t){var n=F(e,t);return Ne(n)}function F(e,t){var n=D(t),r=j(e,n);return function(e,t){return r(function(n,r){function i(e,t,n){var i,a,s,l,c;for(i=0,a=t.length;i<a;i++)s=t[i],l=o.get(s[1]),1===l.length?o["delete"](s[1]):l["delete"](s[0]);for(i=0,a=e.length;i<a;i++)s=e[i],c=!o.has(s[1]),l=c?r.constructClone():o.get(s[1]),l.add(s[0]),c&&o.set(s[1],l)}if(!n)return e();var o=new Ae,a=Z(n,i,t),s=e(o);return function(){a(),s&&s()}},t)}}function I(e,t,n){function r(e,t){return Object.compare(e[1],t[1])*n}var i=D(t),o=j(e,i);return function(e,t){return o(function(n){function i(e,t){a.addEach(e),a.deleteEach(t)}function o(t,n){if(0===n)return t?e(t[0]):e()}if(!n)return e();var a=new De(null,E,r),s=Z(n,i,t),l=se(a,o,t);return function(){s(),l()}},t)}}function B(e,t){return I(e,t,1)}function N(e,t){return I(e,t,-1)}function q(e){return I(e,i,1)}function V(e){return I(e,i,-1)}function U(e){return function(t){return function(n,r){return n=we(n),t(function(t){if(!t)return n();var i=e(t,n);return Z(t,function(e,t,r){return n(i(e,t,r))},r)},r)}}}function W(e){return"number"==typeof e&&!isNaN(e)}function H(e,t,n){return n||(n=t,t=Fe),function(r,i){return e(function(e){function o(t,n,r){if(f){var i=t.length-n.length;r<=s?i>0?(u.swap(0,0,e.slice(s,s+i)),u.splice(a,u.length-a)):(u.splice(0,-i),u.swap(u.length,0,e.slice(s+u.length,s+a))):r<s+a&&(u.swap(r-s,n.length,t),i>0?u.splice(a,u.length-a):u.swap(u.length,0,e.slice(s+u.length,s+a)))}}if(!e)return r();var a,s,l,c,u=[],f=!1,d=Z(e,o,i),h=n(function(t){t=+t,isNaN(t)&&(t=void 0);var n="number"==typeof t&&"number"==typeof s,r=Math.max(0,t);"number"==typeof c&&(r=Math.min(r,e.length-c)),f!==n?(n?u.swap(0,0,e.slice(c,c+r)):u.clear(),f=n):f&&l!==r&&(r<l?u.splice(t,l-r):u.swap(l,0,e.slice(c+l,c+r))),a=t,l=r},i),p=t(function(t){t=+t,isNaN(t)&&(t=void 0);var n="number"==typeof a&&"number"==typeof t,r=Math.max(0,t);"number"==typeof a&&(r=Math.min(r,e.length));var i=Math.max(0,a);if("number"==typeof r&&(i=Math.min(i,e.length-r)),f!==n)n?u.swap(0,u.length,e.slice(r,r+i)):u.clear(),f=n;else if(f&&c!==r){var o=Math.abs(r-c);o<l&&r<c?(u.swap(0,0,e.slice(r,c)),u.splice(i,u.length-i)):o<l&&r>c?(u.swap(u.length,0,e.slice(c+l,r+i)),u.splice(0,u.length-i)):u.swap(0,u.length,e.slice(r,r+i))}s=t,c=r,l=i},i),b=r(u);return function(){b&&b(),h(),p(),d()}},i)}}function G(e){return function(t,n){return e(function(e){function r(e){for(;e<o.length;e++)o[e].set(0,e)}function i(e,t,n){o.swap(n,t.length,e.map(function(e,t){return[n+t,e]})),r(n+e.length)}if(!e)return t();var o=[],a=Z(e,i,n),s=t(o);return function(){s&&s(),a()}},n)}}function $(e){return function(t,n){var r=[],i=t(r),o=e(function(e){if(e>>>=0,null==e)r.clear();else if(e>r.length){for(var t=[],n=r.length;n<e;n++)t.push(n);r.swap(r.length,0,t)}else e<r.length&&r.splice(e,r.length)},n);return function(){i&&i(),o&&o()}}}function J(e,t){return function(n,r){return t(function(t){if("string"!=typeof t)return n();var i=new RegExp("^"+RegExp.escape(t));return e(function(e){return"string"!=typeof e?n():n(i.test(e))},r)},r)}}function X(e,t){return function(n,r){return t(function(t){if("string"!=typeof t)return n();var i=new RegExp(RegExp.escape(t)+"$");return e(function(e){return"string"!=typeof e?n():n(i.test(e))},r)},r)}}function Q(e,t){return function(n,r){return t(function(t){if("string"!=typeof t)return n();var i=new RegExp(RegExp.escape(t));return e(function(e){return"string"!=typeof e?n():n(i.test(e))},r)},r)}}function Y(e,t){return t=t||Ie,function(n,r){return e(function(e){return e?t(function(t){function i(){o&&o(),o=n(e.join(t))}if("string"!=typeof t)return n();var o,a=Z(e,i,r);return function(){a(),o&&o()}},r):n()},r)}}function Z(e,t,n){function r(e,n,r){i&&i(),i=t(e,n,r)}if(!e||!e.toArray||!e.addRangeChangeListener)return Function.noop;var i,o;return r(Array.isArray(e)?e:e.toArray(),Array.empty,0),o=e.addRangeChangeListener(r,null,n.beforeChange),function(){i&&i(),o()}}function K(e){return function(t,n){return e(function(e){return Be(e,t,n)},n)}}function ee(e,t,n){function r(n,r,s){if(o+=n.length-r.length,!(s+r.length<o&&s+n.length<o)){var l=o<0?null:e.get(o);i&&i(),i=t(l),a=l}}var i,o=-1,a=null,s=Z(e,r,n);return function(){i&&i(),s&&s()}}function te(e){return function(t,n){return e(we(function(e){return ne(e,t,n)}),n)}}function ne(e,t,n){function r(n,r,o){return i+=n.length-r.length,1!==i?t():t(e.only())}var i=0;return Z(e,r,n)}function re(e){return function(t,n){return e(we(function(e){return ie(e,t,n)}),n)}}function ie(e,t,n){function r(n,r,o){return i+=n.length-r.length,0===i?t():t(e.one())}var i=0;return Z(e,r,n)}function oe(e){return function(t,n){return e(function(e){return e&&e.addRangeChangeListener?Z(e,function(){return t(e)},n):t(e)},n)}}function ae(e){return function(t,n){return e(function(e){return e&&e.addMapChangeListener?se(e,function(){return t(e)},n):t(e)},n)}}function se(e,t,n){function r(e,n,r){var o=i.get(n);i["delete"](n),o&&o(),o=t(e,n,r),void 0===e?o&&o():i.set(n,o)}if(e.addMapChangeListener){var i=new Ae;e.forEach(r);var o=e.addMapChangeListener(r,n.beforeChange);return function(){i.forEach(function(e){e&&e()}),o()}}}function le(e){return function(t,n){return e(function(e){return e?ce(e,t,n):t()},n)}}function ce(e,t,n){function r(e,t,n){var r,a;o.has(t)?null==e?(r=o.get(t),o["delete"](t),a=i.indexOf(r),i.splice(a,1)):(r=o.get(t),r.set(1,e)):(r=[t,e],o.set(t,r),i.push(r))}var i=[],o=new Ae,a=t(i),s=se(e,r,n);return function(){a&&a(),s&&s()}}function ue(e){var t=Ne(e);return Le(t,fe)}function fe(e,t){return t.value?e(t.value[0]):e()}function de(e){var t=Ne(e);return Le(t,he)}function he(e,t){return t.value?e(t.value[1]):e()}function pe(e){return function(t,n){var r=new Ae,i=t(r),o=e(function(e){if(r.clear(),e&&"object"==typeof e){if(e.addRangeChangeListener)return qe(function(e){function t(e,t){var n,i;for(n=0,i=t.length;n<i;n++)r["delete"](t[n][0]);for(n=0,i=e.length;n<i;n++)r.set(e[n][0],e[n][1])}return Z(e,t,n)},n.nest(e));if(e.addMapChangeListener)return se(e,function(e,t){void 0===e?r["delete"](t):r.set(t,e)},n);var t=[],i=0;for(var o in e)t[i++]=Te(e,o,function(e){void 0===e?r["delete"](o):r.set(o,e)},n);return function(){for(var e=0,n=t.length;e<n;e++)t[e]()}}},n)||Function.noop;return function(){i&&i(),o()}}}function be(e){return function(t,n){return n.parent?e(t,n.parent):t()}}function me(e,t,n){return function(r,i){return r=we(r),e(function(e){return r(t.call(n,e))},i)}}function ge(e,t,n){return function(r,i){return r=we(r),e(function(e){if(e&&e.every(Pe.defined))return r(1===e.length?t.call(n,e[0]):2===e.length?t.call(n,e[0],e[1]):t.apply(n,e))},i)}}function ve(t,n){var r=e("./parse"),i=e("./compile-observer");return function(e,o){return e=we(e),n(function(n){if(null==n)return e();var a,s;try{a=r(n),s=i(a)}catch(l){return e()}return t(function(t){return s(e,o.nest(t))},o)},o)}}function ye(e,t){return function(n,r){return e(function(e){return null==e?n():t(function(e){return null==e?n():n(e)},r.nest(e))},r)}}function _e(e){return function(){var t;return t=1===arguments.length?e.call(this,arguments[0]):2===arguments.length?e.call(this,arguments[0],arguments[1]):e.apply(this,arguments),function(e,n){var r=[],i=t(function(e){function t(e,t,n){r.swap(n,t.length,e)}return e&&e.addRangeChangeListener?(Ve(r,e),e.addRangeChangeListener(t,null,n.beforeChange),function(){e.removeRangeChangeListener(t,null,n.beforeChange)}):void r.clear()},n),o=e(r);return function(){i&&i(),o&&o()}}}}function we(e){var t;return function(n){if(n!==t){var r;return r=1===arguments.length?e.call(this,arguments[0]):2===arguments.length?e.apply(this,arguments[0],arguments[1]):e.apply(this,arguments),t=n,r}}}function xe(e){e.forEach(function(e){e&&e()})}function ke(e){var t;return function(){if(t&&t(),1===arguments.length)t=e.call(void 0,arguments[0]);else if(2===arguments.length)t=e.call(void 0,arguments[0],arguments[1]);else if(3===arguments.length)t=e.call(void 0,arguments[0],arguments[1],arguments[2]);else{for(var n=new Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];t=e.apply(void 0,n)}return function(){t&&t(),t=void 0}}}function je(e,t,n,r){t<0?t=e.length+t:t>e.length&&(e.length=t),t+n>e.length?n=e.length-t:n<0&&(n=0);var i=r.length-n,o=e.length,a=e.length+i;if(i>0)for(var s=o-1;s>=t+n;s--){var l=s+i;s in e?e[l]=e[s]:(e[l]=void 0,delete e[l])}for(var s=0;s<r.length;s++)s in r?e[t+s]=r[s]:(e[t+s]=void 0,delete e[t+s]);if(i<0)for(var s=t+r.length;s<o-i;s++){var l=s-i;l in e?e[s]=e[l]:(e[s]=void 0,delete e[s])}e.length=a}e("collections/shim");var Oe=e("collections/listen/property-changes");e("collections/listen/array-changes");var Ce=e("collections/sorted-array"),Ee=e("collections/sorted-set"),Ae=e("collections/map"),De=(e("collections/set"),e("collections/heap")),Pe=(e("./scope"),e("./operators"));t.makeLiteralObserver=r,t.observeValue=i,t.observeParameters=o,t.makeElementObserver=a,t.makeComponentObserver=s,t.observeProperty=l;var Te=l;t.makePropertyObserver=c,t.observeKey=u,t.observeGet=u;var Se=u;t.makeGetObserver=f,t.makeHasObserver=d,t.makeObserversObserver=h,t.makeRecordObserver=p,t.makeObjectObserver=p,t.makeTupleObserver=b,t.makeArrayObserver=b,t.makeOperatorObserverMaker=m,t.makeMethodObserverMaker=g,t.makeNotObserver=v,t.makeAndObserver=y,t.makeOrObserver=_,t.makeConditionalObserver=w,t.makeDefinedObserver=x,t.makeDefaultObserver=k;
var Le=t.makeMapBlockObserver=_e(j),ze=t.makeFilterBlockObserver=_e(O);t.makeSortedBlockObserver=C,t.makeSortedSetBlockObserver=P,t.makeReversedObserver=_e(T);var Re=t.makeFlattenObserver=_e(S);t.makeConcatObserver=L,t.makeSomeBlockObserver=z,t.makeEveryBlockObserver=R,t.makeGroupBlockObserver=M,t.makeGroupMapBlockObserver=F,t.makeMaxBlockObserver=B,t.makeMinBlockObserver=N,t.makeMaxObserver=q,t.makeMinObserver=V;var Me=r("length");t.makeSumObserver=U(function(){var e=0;return function(t,n,r){return t=t.filter(W),n=n.filter(W),e+=t.sum()-n.sum()}}),t.makeAverageObserver=U(function(){var e=0,t=0;return function(n,r,i){return n=n.filter(W),r=r.filter(W),e+=n.sum()-r.sum(),t+=n.length-r.length,e/t}}),t.makeViewObserver=_e(H);var Fe=r(0);t.makeEnumerateObserver=_e(G),t.makeEnumerationObserver=t.makeEnumerateObserver,t.makeRangeObserver=$,t.makeStartsWithObserver=J,t.makeEndsWithObserver=X,t.makeContainsObserver=Q,t.makeJoinObserver=Y;var Ie=r("");t.observeRangeChange=Z,t.makeLastObserver=K,t.observeLast=ee;var Be=ee;t.makeOnlyObserver=te,t.observeOnly=ne,t.makeOneObserver=re,t.observeOne=ie,t.makeRangeContentObserver=oe,t.makeMapContentObserver=ae,t.observeMapChange=se;var Ne=t.makeEntriesObserver=_e(le);t.observeEntries=ce,t.makeKeysObserver=ue,t.observeEntryKey=fe,t.makeValuesObserver=de,t.observeEntryValue=he,t.makeToMapObserver=pe;var qe=Le(M(i,fe),K(he));t.makeParentObserver=be,t.makeConverterObserver=me,t.makeComputerObserver=ge,t.makePathObserver=ve,t.makeExpressionObserver=ve,t.makeWithObserver=ye,t.makeToArrayObserver=_e(Function.identity),t.makeAsArrayObserver=t.makeToArrayObserver;var Ve=e("./merge").merge;t.makeUniq=we,t.cancelEach=xe,t.autoCancelPrevious=ke}}),montageDefine("1bc20c3","stringify",{dependencies:["./parse","./language","./language","./language"],factory:function(e,t,n){"use strict";function r(e,t){return r.semantics.stringify(e,t)}function i(e){return function(t,n,r){var i=e+"{"+r(t.args[1],n)+"}";return"value"===t.args[0].type?i:r(t.args[0],n)+"."+i}}var o=(e("./parse"),e("./language").precedence),a=e("./language").operatorTypes;e("./language").operatorTokens,n.exports=r,r.semantics={makeBlockStringifier:i,stringify:function(e,t,n){function r(e){var n=a(e,t);return n?n:"this"}var i,a=this.stringify.bind(this),s=this.stringifiers;if(s[e.type])i=s[e.type](e,t,a);else if(e.inline)i="&"+e.type+"("+e.args.map(r).join(", ")+")";else{var l;1===e.args.length&&"mapBlock"===e.args[0].type?(l=e.type+"{"+a(e.args[0].args[1],t)+"}",e=e.args[0]):l=e.type+"("+e.args.slice(1).map(r).join(", ")+")",i="value"===e.args[0].type?l:a(e.args[0],t)+"."+l}return!n||n.type===e.type&&"if"!==n.type||o.get(n.type).has(e.type)?i:"("+i+")"},stringifiers:{value:function(e,t,n){return""},literal:function(e,t,n){return"string"==typeof e.value?"'"+e.value.replace("'","\\'")+"'":""+e.value},parameters:function(e,t,n){return"$"},record:function(e,t,n){return"{"+Object.map(e.args,function(e,r){var i;return i="value"===e.type?"this":n(e,t),r+": "+i}).join(", ")+"}"},tuple:function(e,t,n){return"["+Object.map(e.args,function(e){return"value"===e.type?"this":n(e)}).join(", ")+"]"},component:function(e,t){var n;return t&&t.components&&e.component?t.components.getObjectLabel?n=t.components.getObjectLabel(e.component):t.components.getLabelForObject&&(n=t.components.getLabelForObject(e.component)):n=e.label,"@"+n},element:function(e){return"#"+e.id},mapBlock:i("map"),filterBlock:i("filter"),someBlock:i("some"),everyBlock:i("every"),sortedBlock:i("sorted"),sortedSetBlock:i("sortedSet"),groupBlock:i("group"),groupMapBlock:i("groupMap"),minBlock:i("min"),maxBlock:i("max"),property:function(e,t,n){return"value"===e.args[0].type?"string"==typeof e.args[1].value?e.args[1].value:"literal"===e.args[1].type?"."+e.args[1].value:"this["+n(e.args[1],t)+"]":"parameters"===e.args[0].type?"$"+e.args[1].value:"literal"===e.args[1].type&&/^[\w\d_]+$/.test(e.args[1].value)?n(e.args[0],t,{type:"scope"})+"."+e.args[1].value:n(e.args[0],{type:"scope"},t)+"["+n(e.args[1],t)+"]"},"with":function(e,t,n){var r=n(e.args[1],t,e);return n(e.args[0],t)+"."+r},not:function(e,t,n){return"equals"===e.args[0].type?n(e.args[0].args[0],t,{type:"equals"})+" != "+n(e.args[0].args[1],t,{type:"equals"}):"!"+n(e.args[0],t,e)},neg:function(e,t,n){return"-"+n(e.args[0],t,e)},toNumber:function(e,t,n){return"+"+n(e.args[0],t,e)},parent:function(e,t,n){return"^"+n(e.args[0],t,e)},"if":function(e,t,n){return n(e.args[0],t,e)+" ? "+n(e.args[1],t)+" : "+n(e.args[2],t)},event:function(e,t,n){return e.when+" "+e.event+" -> "+n(e.listener,t)},binding:function(e,t,n,r){var i=r(t.args[0],n)+" "+e+" "+r(t.args[1],n),o="",a=t.descriptor;if(a)for(var s in a)o+=", "+s+": "+r(a[s],n);return i+o},bind:function(e,t,n){return this.binding("<-",e,t,n)},bind2:function(e,t,n){return this.binding("<->",e,t,n)},assign:function(e,t,n){return n(e.args[0],t)+": "+n(e.args[1],t)},block:function(e,t,n){var r="@"+e.label;return e.connection&&("prototype"===e.connection?r+=" < ":"object"===e.connection&&(r+=" : "),r+=n({type:"literal",value:e.module}),e.exports&&"value"!==e.exports.type&&(r+=" "+n(e.exports,t))),r+" {\n"+e.statements.map(function(e){return"    "+n(e,t)+";\n"}).join("")+"}\n"},sheet:function(e,t,n){return"\n"+e.blocks.map(function(e){return n(e,t)}).join("\n")+"\n"}}},a.forEach(function(e,t){r.semantics.stringifiers[t]=function(t,n,r){return t.args.map(function(e){return r(e,n,t)}).join(" "+e+" ").trim()}})}}),montageDefine("1bc20c3","expand",{dependencies:["collections/set","collections/map","./operators"],factory:function(e,t,n){function r(e,t){var n=r.semantics.expand.bind(r.semantics);return n(e,t,n)}var i=e("collections/set"),o=e("collections/map");e("./operators"),n.exports=r,r.semantics={reflexive:new i(["literal","element","rangeContent","mapContent"]),traverseLeft:new i(["with","mapBlock","filterBlock","someBlock","everyBlock","sortedBlock","groupBlock","groupMapBlock"]),expanders:new o([["value",function(e,t){return t.value||{type:"value"}}],["parameters",function(e,t){return t.parameters||{type:"parameters"}}],["record",function(e,t,n){var r={type:"record",args:[]};for(var i in e.args)r.args[i]=n(e.args[i],t,n);return r}],["component",function(e,t,n){return t.components&&e.component?{type:"component",label:t.components.getObjectLabel(e.component)}:e}]]),expand:function(e,t,n){return this.expanders.has(e.type)?this.expanders.get(e.type)(e,t,n):this.traverseLeft.has(e.type)?{type:e.type,args:[n(e.args[0],t,n)].concat(e.args.slice(1))}:this.reflexive.has(e.type)?e:{type:e.type,args:e.args.map(function(e){return n(e,t,n)})}}}}}),montageDefine("1bc20c3","bindings",{dependencies:["collections/map","./bind","./compute","./observe","./stringify"],factory:function(e,t,n){function r(e,t,n){if(t)for(var r in t)i(e,r,t[r],n);return e}function i(e,n,r,o){o=o||i.empty;var a,s,l=i.getBindings(e);if(l.has(n))throw new Error("Can't bind to already bound target, "+JSON.stringify(n));return h in r||p in r||b in r?(l.set(n,r),r.target=e,(a=r.parameters||o.parameters)&&(r.parameters=a),(s=r.document||o.document)&&(r.document=s),r.components=r.components||o.components,r.cancel=b in r?i.compute(e,n,r):i.bind(e,n,r),t.count++):(m in r||g in r||v in r||(r.writable=!0),y in r||(r.configurable=!0),_ in r||(r.enumerable=!0),Object.defineProperty(e,n,r)),e}function o(e){var t;return d.get(e)||d.set(e,t=new c)&&t}function a(e,t){var n=o(e);return n.get(t)}function s(e){for(var t=o(e),n=t.keys();name=n.next().value;)l(e,name,t)}function l(e,n,r){if(!r&&(r=o(e),!r.has(n)))throw new Error("Can't cancel non-existent binding to "+JSON.stringify(n));var i=r.get(n);i&&i.cancel&&(i.cancel(),r["delete"](n),t.count--,r.size<1&&d["delete"](e))}var c=e("collections/map"),u=e("./bind"),f=e("./compute"),d=(e("./observe"),e("./stringify"),new c),h=(Object.prototype.hasOwnProperty,"<-"),p="<->",b="compute",m="get",g="set",v="writable",y="configurable",_="enumerable";t.count=0,t.bindings=d,t.defineBindings=r,t.defineBinding=i,i.empty=Object.empty,i.getBindings=o,i.compute=f,i.bind=u,t.getBindings=o,t.getBinding=a,t.cancelBindings=s,t.cancelBinding=l}}),montageDefine("1bc20c3","grammar",{dependencies:[],factory:function(e,t,n){n.exports=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,i){function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i;switch(e.length){case 0:r="end of input";break;case 1:r=e[0];break;default:r=e.slice(0,-1).join(", ")+" or "+e[e.length-1]}return i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}this.expected=e,this.found=t,this.offset=n,this.line=r,this.column=i,this.name="SyntaxError",this.message=o(e,t)}function n(e){function n(t){function n(t,n,r){var i,o;for(i=n;i<r;i++)o=e.charAt(i),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return Hr!==t&&(Hr>t&&(Hr=0,Gr={line:1,column:1,seenCR:!1}),n(Gr,Hr,t),Hr=t),Gr}function r(e){Ur<$r||(Ur>$r&&($r=Ur,Jr=[]),Jr.push(e))}function i(e){var t=0;for(e.sort();t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(){var e,t;return Xr++,e=l(),Xr--,null===e&&(t=null,0===Xr&&r(K)),e}function a(){var t,n,i,a,s,l,c;if(t=Ur,n=o(),null!==n){for(i=[],a=Ur,44===e.charCodeAt(Ur)?(s=te,Ur++):(s=null,0===Xr&&r(ne)),null!==s?(l=N(),null!==l?(c=o(),null!==c?(s=[s,l,c],a=s):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee);null!==a;)i.push(a),a=Ur,44===e.charCodeAt(Ur)?(s=te,Ur++):(s=null,0===Xr&&r(ne)),null!==s?(l=N(),null!==l?(c=o(),null!==c?(s=[s,l,c],a=s):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee);null!==i?(a=N(),null!==a?(Wr=t,n=re(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function s(){var t,n,i,o;return t=Ur,40===e.charCodeAt(Ur)?(n=ie,Ur++):(n=null,0===Xr&&r(oe)),null!==n?(i=N(),null!==i?(41===e.charCodeAt(Ur)?(o=ae,Ur++):(o=null,0===Xr&&r(se)),null!==o?(Wr=t,n=le(),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,40===e.charCodeAt(Ur)?(n=ie,Ur++):(n=null,0===Xr&&r(oe)),null!==n?(i=a(),null!==i?(41===e.charCodeAt(Ur)?(o=ae,Ur++):(o=null,0===Xr&&r(se)),null!==o?(Wr=t,n=ce(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)),t}function l(){var t,n,i,a,s,l,u,f,d,h,p;return t=Ur,n=c(),null!==n?(i=N(),null!==i?(a=Ur,63===e.charCodeAt(Ur)?(s=fe,Ur++):(s=null,0===Xr&&r(de)),null!==s?(l=N(),null!==l?(u=o(),null!==u?(f=N(),null!==f?(58===e.charCodeAt(Ur)?(d=he,Ur++):(d=null,0===Xr&&r(pe)),null!==d?(h=N(),null!==h?(p=o(),null!==p?(s=[s,l,u,f,d,h,p],a=s):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee),null===a&&(a=ue),null!==a?(Wr=t,n=be(n,a),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),t}function c(){var t,n,i,o,a,s,l,c;if(t=Ur,n=u(),null!==n){for(i=[],o=Ur,a=N(),null!==a?(e.substr(Ur,2)===me?(s=me,Ur+=2):(s=null,0===Xr&&r(ge)),null!==s?(l=N(),null!==l?(c=u(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,a=N(),null!==a?(e.substr(Ur,2)===me?(s=me,Ur+=2):(s=null,0===Xr&&r(ge)),null!==s?(l=N(),null!==l?(c=u(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=ve(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function u(){var t,n,i,o,a,s,l,c;if(t=Ur,n=f(),null!==n){for(i=[],o=Ur,a=N(),null!==a?(e.substr(Ur,2)===ye?(s=ye,Ur+=2):(s=null,0===Xr&&r(_e)),null!==s?(l=N(),null!==l?(c=f(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,a=N(),null!==a?(e.substr(Ur,2)===ye?(s=ye,Ur+=2):(s=null,0===Xr&&r(_e)),null!==s?(l=N(),null!==l?(c=f(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=ve(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function f(){var t,n,i,o,a,s,l,c,u;return t=Ur,n=d(),null!==n?(i=Ur,o=N(),null!==o?(a=Ur,e.substr(Ur,3)===we?(s=we,Ur+=3):(s=null,0===Xr&&r(xe)),null===s&&(e.substr(Ur,2)===ke?(s=ke,Ur+=2):(s=null,0===Xr&&r(je)),null===s&&(e.substr(Ur,2)===Oe?(s=Oe,Ur+=2):(s=null,0===Xr&&r(Ce)),null===s&&(s=Ur,60===e.charCodeAt(Ur)?(l=Ee,Ur++):(l=null,0===Xr&&r(Ae)),null!==l?(c=Ur,Xr++,45===e.charCodeAt(Ur)?(u=De,Ur++):(u=null,0===Xr&&r(Pe)),Xr--,null===u?c=ue:(Ur=c,c=ee),null!==c?(l=[l,c],s=l):(Ur=s,s=ee)):(Ur=s,s=ee),null===s&&(62===e.charCodeAt(Ur)?(s=Te,Ur++):(s=null,0===Xr&&r(Se)),null===s&&(e.substr(Ur,2)===Le?(s=Le,Ur+=2):(s=null,0===Xr&&r(ze)),null===s&&(e.substr(Ur,2)===Re?(s=Re,Ur+=2):(s=null,0===Xr&&r(Me)))))))),null!==s&&(s=e.substring(a,Ur)),a=s,null!==a?(s=N(),null!==s?(l=d(),null!==l?(o=[o,a,s,l],i=o):(Ur=i,i=ee)):(Ur=i,i=ee)):(Ur=i,i=ee)):(Ur=i,i=ee),null===i&&(i=ue),null!==i?(Wr=t,n=Fe(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),t}function d(){var t,n,i,o,a,s,l,c;if(t=Ur,n=h(),null!==n){for(i=[],o=Ur,a=N(),null!==a?(s=Ur,43===e.charCodeAt(Ur)?(l=Ie,Ur++):(l=null,0===Xr&&r(Be)),null===l&&(45===e.charCodeAt(Ur)?(l=De,Ur++):(l=null,0===Xr&&r(Pe))),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(c=h(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,a=N(),null!==a?(s=Ur,43===e.charCodeAt(Ur)?(l=Ie,Ur++):(l=null,0===Xr&&r(Be)),null===l&&(45===e.charCodeAt(Ur)?(l=De,Ur++):(l=null,0===Xr&&r(Pe))),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(c=h(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=ve(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function h(){var t,n,i,o,a,s,l,c;if(t=Ur,n=p(),null!==n){for(i=[],o=Ur,a=N(),null!==a?(s=Ur,42===e.charCodeAt(Ur)?(l=Ne,Ur++):(l=null,0===Xr&&r(qe)),null===l&&(47===e.charCodeAt(Ur)?(l=Ve,Ur++):(l=null,0===Xr&&r(Ue)),null===l&&(37===e.charCodeAt(Ur)?(l=We,Ur++):(l=null,0===Xr&&r(He)),null===l&&(e.substr(Ur,3)===Ge?(l=Ge,Ur+=3):(l=null,0===Xr&&r($e))))),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(c=p(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,a=N(),null!==a?(s=Ur,42===e.charCodeAt(Ur)?(l=Ne,Ur++):(l=null,0===Xr&&r(qe)),null===l&&(47===e.charCodeAt(Ur)?(l=Ve,Ur++):(l=null,0===Xr&&r(Ue)),null===l&&(37===e.charCodeAt(Ur)?(l=We,Ur++):(l=null,0===Xr&&r(He)),null===l&&(e.substr(Ur,3)===Ge?(l=Ge,Ur+=3):(l=null,0===Xr&&r($e))))),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(c=p(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=ve(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function p(){var t,n,i,o,a,s,l,c;if(t=Ur,n=b(),null!==n){for(i=[],o=Ur,a=N(),null!==a?(s=Ur,e.substr(Ur,2)===Je?(l=Je,Ur+=2):(l=null,0===Xr&&r(Xe)),null===l&&(e.substr(Ur,2)===Qe?(l=Qe,Ur+=2):(l=null,0===Xr&&r(Ye)),null===l&&(e.substr(Ur,2)===Ze?(l=Ze,Ur+=2):(l=null,0===Xr&&r(Ke)))),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(c=b(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,a=N(),null!==a?(s=Ur,e.substr(Ur,2)===Je?(l=Je,Ur+=2):(l=null,0===Xr&&r(Xe)),null===l&&(e.substr(Ur,2)===Qe?(l=Qe,Ur+=2):(l=null,0===Xr&&r(Ye)),null===l&&(e.substr(Ur,2)===Ze?(l=Ze,Ur+=2):(l=null,0===Xr&&r(Ke)))),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(c=b(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=ve(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function b(){var t,n,i,o,a,s,l,c;if(t=Ur,n=m(),null!==n){for(i=[],o=Ur,a=N(),null!==a?(e.substr(Ur,2)===et?(s=et,Ur+=2):(s=null,0===Xr&&r(tt)),null!==s?(l=N(),null!==l?(c=m(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,a=N(),null!==a?(e.substr(Ur,2)===et?(s=et,Ur+=2):(s=null,0===Xr&&r(tt)),null!==s?(l=N(),null!==l?(c=m(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=ve(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function m(){var t,n,i;return t=Ur,n=Ur,33===e.charCodeAt(Ur)?(i=nt,Ur++):(i=null,0===Xr&&r(rt)),null===i&&(43===e.charCodeAt(Ur)?(i=Ie,Ur++):(i=null,0===Xr&&r(Be)),null===i&&(45===e.charCodeAt(Ur)?(i=De,Ur++):(i=null,0===Xr&&r(Pe)))),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n?(i=m(),null!==i?(Wr=t,n=it(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=g()),t}function g(){var e,t,n,r;if(e=Ur,t=_(),null!==t){for(n=[],r=v();null!==r;)n.push(r),r=v();null!==n?(Wr=e,t=ot(t,n),null===t?(Ur=e,e=t):e=t):(Ur=e,e=ee)}else Ur=e,e=ee;return e}function v(){var t,n,i,a;return t=Ur,46===e.charCodeAt(Ur)?(n=at,Ur++):(n=null,0===Xr&&r(st)),null!==n?(i=y(),null!==i?(Wr=t,n=lt(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,91===e.charCodeAt(Ur)?(n=ct,Ur++):(n=null,0===Xr&&r(ut)),null!==n?(i=o(),null!==i?(93===e.charCodeAt(Ur)?(a=ft,Ur++):(a=null,0===Xr&&r(dt)),null!==a?(Wr=t,n=ht(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)),t}function y(){var t,n,i,a,l,c,u;return t=Ur,n=Ur,i=w(),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n?(123===e.charCodeAt(Ur)?(i=pt,Ur++):(i=null,0===Xr&&r(bt)),null!==i?(a=N(),null!==a?(l=o(),null!==l?(c=N(),null!==c?(125===e.charCodeAt(Ur)?(u=mt,Ur++):(u=null,0===Xr&&r(gt)),null!==u?(Wr=t,n=vt(n,l),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,n=Ur,i=w(),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n?(i=s(),null!==i?(Wr=t,n=yt(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,n=M(),null!==n&&(Wr=t,n=_t(n)),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,n=Ur,i=w(),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n&&(Wr=t,n=wt(n)),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,n=E(),null!==n&&(Wr=t,n=xt(n)),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,n=A(),null!==n&&(Wr=t,n=xt(n)),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,40===e.charCodeAt(Ur)?(n=ie,Ur++):(n=null,0===Xr&&r(oe)),null!==n?(i=o(),null!==i?(41===e.charCodeAt(Ur)?(a=ae,Ur++):(a=null,0===Xr&&r(se)),null!==a?(Wr=t,n=xt(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee))))))),t}function _(){var t,n,i,a;return t=E(),null===t&&(t=A(),null===t&&(t=x(),null===t&&(t=T(),null===t&&(t=Ur,e.substr(Ur,4)===kt?(n=kt,Ur+=4):(n=null,0===Xr&&r(jt)),null!==n&&(Wr=t,n=Ot()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,4)===Ct?(n=Ct,Ur+=4):(n=null,0===Xr&&r(Et)),null!==n&&(Wr=t,n=At()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,5)===Dt?(n=Dt,Ur+=5):(n=null,0===Xr&&r(Pt)),null!==n&&(Wr=t,n=Tt()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,4)===St?(n=St,Ur+=4):(n=null,0===Xr&&r(Lt)),null!==n&&(Wr=t,n=zt()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,64===e.charCodeAt(Ur)?(n=Rt,Ur++):(n=null,0===Xr&&r(Mt)),null!==n?(i=Ur,a=G(),null!==a&&(a=e.substring(i,Ur)),i=a,null!==i?(Wr=t,n=Ft(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,36===e.charCodeAt(Ur)?(n=It,Ur++):(n=null,0===Xr&&r(Bt)),null!==n?(i=Ur,a=w(),null!==a&&(a=e.substring(i,Ur)),i=a,null!==i?(Wr=t,n=Nt(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,36===e.charCodeAt(Ur)?(n=It,Ur++):(n=null,0===Xr&&r(Bt)),null!==n&&(Wr=t,n=qt()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,35===e.charCodeAt(Ur)?(n=Vt,Ur++):(n=null,0===Xr&&r(Ut)),null!==n?(i=Ur,a=w(),null!==a&&(a=e.substring(i,Ur)),i=a,null!==i?(Wr=t,n=Wt(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,38===e.charCodeAt(Ur)?(n=Ht,Ur++):(n=null,0===Xr&&r(Gt)),null!==n?(i=Ur,a=w(),null!==a&&(a=e.substring(i,Ur)),i=a,null!==i?(a=s(),null!==a?(Wr=t,n=$t(i,a),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,94===e.charCodeAt(Ur)?(n=Jt,Ur++):(n=null,0===Xr&&r(Xt)),null!==n?(i=_(),null!==i?(Wr=t,n=Qt(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,40===e.charCodeAt(Ur)?(n=ie,Ur++):(n=null,0===Xr&&r(oe)),null!==n?(i=o(),null!==i?(41===e.charCodeAt(Ur)?(a=ae,Ur++):(a=null,0===Xr&&r(se)),null!==a?(Wr=t,n=Yt(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,n=y(),null!==n&&(Wr=t,n=Zt(n)),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,n=[],null!==n&&(Wr=t,n=Kt()),null===n?(Ur=t,t=n):t=n)))))))))))))))),t}function w(){var t,n;if(Xr++,t=[],tn.test(e.charAt(Ur))?(n=e.charAt(Ur),Ur++):(n=null,0===Xr&&r(nn)),null!==n)for(;null!==n;)t.push(n),tn.test(e.charAt(Ur))?(n=e.charAt(Ur),Ur++):(n=null,0===Xr&&r(nn));else t=ee;return Xr--,null===t&&(n=null,0===Xr&&r(en)),t}function x(){var t,n,i,o;if(Xr++,t=Ur,39===e.charCodeAt(Ur)?(n=on,Ur++):(n=null,0===Xr&&r(an)),null!==n){for(i=[],o=k();null!==o;)i.push(o),o=k();null!==i?(39===e.charCodeAt(Ur)?(o=on,Ur++):(o=null,0===Xr&&r(an)),null!==o?(Wr=t,n=sn(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)}else Ur=t,t=ee;if(null===t)if(t=Ur,34===e.charCodeAt(Ur)?(n=ln,Ur++):(n=null,0===Xr&&r(cn)),null!==n){for(i=[],o=j();null!==o;)i.push(o),o=j();null!==i?(34===e.charCodeAt(Ur)?(o=ln,Ur++):(o=null,0===Xr&&r(cn)),null!==o?(Wr=t,n=sn(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)}else Ur=t,t=ee;return Xr--,null===t&&(n=null,0===Xr&&r(rn)),t}function k(){var t,n;return un.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(fn)),null===t&&(t=Ur,e.substr(Ur,2)===dn?(n=dn,Ur+=2):(n=null,0===Xr&&r(hn)),null!==n&&(Wr=t,n=pn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=O())),t}function j(){var t,n;return bn.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(mn)),null===t&&(t=Ur,e.substr(Ur,2)===gn?(n=gn,Ur+=2):(n=null,0===Xr&&r(vn)),null!==n&&(Wr=t,n=yn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=O())),t}function O(){var t,n,i,o,a,s,l,c;return t=Ur,e.substr(Ur,2)===_n?(n=_n,Ur+=2):(n=null,0===Xr&&r(wn)),null!==n&&(Wr=t,n=xn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===kn?(n=kn,Ur+=2):(n=null,0===Xr&&r(jn)),null!==n&&(Wr=t,n=On()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===Cn?(n=Cn,Ur+=2):(n=null,0===Xr&&r(En)),null!==n&&(Wr=t,n=An()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===Dn?(n=Dn,Ur+=2):(n=null,0===Xr&&r(Pn)),null!==n&&(Wr=t,n=Tn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===Sn?(n=Sn,Ur+=2):(n=null,0===Xr&&r(Ln)),null!==n&&(Wr=t,n=zn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===Rn?(n=Rn,Ur+=2):(n=null,0===Xr&&r(Mn)),null!==n&&(Wr=t,n=Fn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===In?(n=In,Ur+=2):(n=null,0===Xr&&r(Bn)),null!==n&&(Wr=t,n=Nn()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===qn?(n=qn,Ur+=2):(n=null,0===Xr&&r(Vn)),null!==n&&(Wr=t,n=Un()),null===n?(Ur=t,t=n):t=n,null===t&&(t=Ur,e.substr(Ur,2)===Wn?(n=Wn,Ur+=2):(n=null,0===Xr&&r(Hn)),null!==n?(i=Ur,o=Ur,a=C(),null!==a?(s=C(),null!==s?(l=C(),null!==l?(c=C(),null!==c?(a=[a,s,l,c],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee),null!==o&&(o=e.substring(i,Ur)),i=o,null!==i?(Wr=t,n=Gn(i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee))))))))),t}function C(){var t;return $n.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(Jn)),t}function E(){var t,n,i,o,s,l;return t=Ur,91===e.charCodeAt(Ur)?(n=ct,Ur++):(n=null,0===Xr&&r(ut)),null!==n?(i=N(),null!==i?(93===e.charCodeAt(Ur)?(o=ft,Ur++):(o=null,0===Xr&&r(dt)),null!==o?(Wr=t,n=Xn(),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,91===e.charCodeAt(Ur)?(n=ct,Ur++):(n=null,0===Xr&&r(ut)),null!==n?(i=N(),null!==i?(o=a(),null!==o?(s=N(),null!==s?(93===e.charCodeAt(Ur)?(l=ft,Ur++):(l=null,0===Xr&&r(dt)),null!==l?(Wr=t,n=Qn(o),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)),t}function A(){var t,n,i,o,a,s;return t=Ur,123===e.charCodeAt(Ur)?(n=pt,Ur++):(n=null,0===Xr&&r(bt)),null!==n?(i=N(),null!==i?(125===e.charCodeAt(Ur)?(o=mt,Ur++):(o=null,0===Xr&&r(gt)),null!==o?(a=N(),null!==a?(Wr=t,n=Yn(),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,123===e.charCodeAt(Ur)?(n=pt,Ur++):(n=null,0===Xr&&r(bt)),null!==n?(i=N(),null!==i?(o=D(),null!==o?(125===e.charCodeAt(Ur)?(a=mt,Ur++):(a=null,0===Xr&&r(gt)),null!==a?(s=N(),null!==s?(Wr=t,n=Zn(o),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)),t}function D(){var t,n,i,o,a,s,l;if(t=Ur,n=P(),null!==n){for(i=[],o=Ur,44===e.charCodeAt(Ur)?(a=te,Ur++):(a=null,0===Xr&&r(ne)),null!==a?(s=N(),null!==s?(l=P(),null!==l?(a=[a,s,l],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==o;)i.push(o),o=Ur,44===e.charCodeAt(Ur)?(a=te,Ur++):(a=null,0===Xr&&r(ne)),null!==a?(s=N(),null!==s?(l=P(),null!==l?(a=[a,s,l],o=a):(Ur=o,o=ee)):(Ur=o,o=ee)):(Ur=o,o=ee);null!==i?(Wr=t,n=Kn(n,i),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function P(){var t,n,i,a,s;return t=Ur,n=Ur,i=w(),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n?(58===e.charCodeAt(Ur)?(i=he,Ur++):(i=null,0===Xr&&r(pe)),null!==i?(a=N(),null!==a?(s=o(),null!==s?(Wr=t,n=er(n,s),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),t}function T(){var t,n,i;return Xr++,t=Ur,n=Ur,i=S(),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n&&(Wr=t,n=nr(n)),null===n?(Ur=t,t=n):t=n,Xr--,null===t&&(n=null,0===Xr&&r(tr)),t}function S(){var e,t,n,r;return e=Ur,t=L(),null!==t?(n=z(),null!==n?(r=R(),null!==r?(t=[t,n,r],e=t):(Ur=e,e=ee)):(Ur=e,e=ee)):(Ur=e,e=ee),null===e&&(e=Ur,t=L(),null!==t?(n=z(),null!==n?(t=[t,n],e=t):(Ur=e,e=ee)):(Ur=e,e=ee),null===e&&(e=Ur,t=L(),null!==t?(n=R(),null!==n?(t=[t,n],e=t):(Ur=e,e=ee)):(Ur=e,e=ee),null===e&&(e=L()))),e}function L(){var t,n,i,o;return t=Ur,n=B(),null!==n?(i=M(),null!==i?(n=[n,i],t=n):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=I(),null===t&&(t=Ur,45===e.charCodeAt(Ur)?(n=De,Ur++):(n=null,0===Xr&&r(Pe)),null!==n?(i=B(),null!==i?(o=M(),null!==o?(n=[n,i,o],t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,45===e.charCodeAt(Ur)?(n=De,Ur++):(n=null,0===Xr&&r(Pe)),null!==n?(i=I(),null!==i?(n=[n,i],t=n):(Ur=t,t=ee)):(Ur=t,t=ee)))),t}function z(){var t,n,i;return t=Ur,46===e.charCodeAt(Ur)?(n=at,Ur++):(n=null,0===Xr&&r(st)),null!==n?(i=M(),null!==i?(n=[n,i],t=n):(Ur=t,t=ee)):(Ur=t,t=ee),t}function R(){var e,t,n;return e=Ur,t=F(),null!==t?(n=M(),null!==n?(t=[t,n],e=t):(Ur=e,e=ee)):(Ur=e,e=ee),e}function M(){var e,t;if(e=[],t=I(),null!==t)for(;null!==t;)e.push(t),t=I();else e=ee;return e}function F(){var t,n,i;return t=Ur,rr.test(e.charAt(Ur))?(n=e.charAt(Ur),Ur++):(n=null,0===Xr&&r(ir)),null!==n?(or.test(e.charAt(Ur))?(i=e.charAt(Ur),Ur++):(i=null,0===Xr&&r(ar)),null===i&&(i=ue),null!==i?(n=[n,i],t=n):(Ur=t,t=ee)):(Ur=t,t=ee),t}function I(){var t;return sr.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(lr)),t}function B(){var t;return cr.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(ur)),t}function N(){var e,t;for(e=[],t=q(),null===t&&(t=V());null!==t;)e.push(t),t=q(),null===t&&(t=V());return e}function q(){var t,n;return Xr++,dr.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(hr)),null===t&&(pr.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(br))),Xr--,null===t&&(n=null,0===Xr&&r(fr)),t}function V(){var t,n;return Xr++,gr.test(e.charAt(Ur))?(t=e.charAt(Ur),Ur++):(t=null,0===Xr&&r(vr)),Xr--,null===t&&(n=null,0===Xr&&r(mr)),t}function U(){var e,t,n,r;if(e=Ur,t=N(),null!==t){for(n=[],r=W();null!==r;)n.push(r),r=W();null!==n?(r=N(),null!==r?(Wr=e,t=yr(n),null===t?(Ur=e,e=t):e=t):(Ur=e,e=ee)):(Ur=e,e=ee)}else Ur=e,e=ee;return e}function W(){var t,n,i,o,a,s,l,c,u,f;return t=Ur,64===e.charCodeAt(Ur)?(n=Rt,Ur++):(n=null,0===Xr&&r(Mt)),null!==n?(i=Ur,o=G(),null!==o&&(o=e.substring(i,Ur)),i=o,null!==i?(o=N(),null!==o?(a=H(),null===a&&(a=ue),null!==a?(123===e.charCodeAt(Ur)?(s=pt,Ur++):(s=null,0===Xr&&r(bt)),null!==s?(l=N(),null!==l?(c=$(),null!==c?(125===e.charCodeAt(Ur)?(u=mt,Ur++):(u=null,0===Xr&&r(gt)),null!==u?(f=N(),null!==f?(Wr=t,n=_r(i,a,c),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),t}function H(){var t,n,i,a,s,l,c,u;return t=Ur,60===e.charCodeAt(Ur)?(n=Ee,Ur++):(n=null,0===Xr&&r(Ae)),null===n&&(58===e.charCodeAt(Ur)?(n=he,Ur++):(n=null,0===Xr&&r(pe))),null!==n?(i=N(),null!==i?(a=x(),null===a&&(a=ue),null!==a?(s=N(),null!==s?(l=Ur,c=Ur,Xr++,123===e.charCodeAt(Ur)?(u=pt,Ur++):(u=null,0===Xr&&r(bt)),Xr--,null===u?c=ue:(Ur=c,c=ee),null!==c?(u=o(),null!==u?(c=[c,u],l=c):(Ur=l,l=ee)):(Ur=l,l=ee),null===l&&(l=ue),null!==l?(c=N(),null!==c?(Wr=t,n=wr(n,a,l),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,n=N(),null!==n&&(Wr=t,n=xr()),null===n?(Ur=t,t=n):t=n),t}function G(){var t,n,i,o,a,s,l;if(t=Ur,n=[],kr.test(e.charAt(Ur))?(i=e.charAt(Ur),Ur++):(i=null,0===Xr&&r(jr)),null!==i)for(;null!==i;)n.push(i),kr.test(e.charAt(Ur))?(i=e.charAt(Ur),Ur++):(i=null,0===Xr&&r(jr));else n=ee;if(null!==n){if(i=[],o=Ur,58===e.charCodeAt(Ur)?(a=he,Ur++):(a=null,0===Xr&&r(pe)),null!==a){if(s=[],kr.test(e.charAt(Ur))?(l=e.charAt(Ur),Ur++):(l=null,0===Xr&&r(jr)),null!==l)for(;null!==l;)s.push(l),kr.test(e.charAt(Ur))?(l=e.charAt(Ur),Ur++):(l=null,0===Xr&&r(jr));else s=ee;null!==s?(a=[a,s],o=a):(Ur=o,o=ee)}else Ur=o,o=ee;for(;null!==o;)if(i.push(o),o=Ur,58===e.charCodeAt(Ur)?(a=he,Ur++):(a=null,0===Xr&&r(pe)),null!==a){if(s=[],kr.test(e.charAt(Ur))?(l=e.charAt(Ur),Ur++):(l=null,0===Xr&&r(jr)),null!==l)for(;null!==l;)s.push(l),kr.test(e.charAt(Ur))?(l=e.charAt(Ur),Ur++):(l=null,0===Xr&&r(jr));else s=ee;null!==s?(a=[a,s],o=a):(Ur=o,o=ee)}else Ur=o,o=ee;null!==i?(n=[n,i],t=n):(Ur=t,t=ee)}else Ur=t,t=ee;return t}function $(){var t,n,i,o,a,s,l,c,u;if(t=Ur,n=J(),null!==n)if(i=N(),null!==i){for(o=[],a=Ur,59===e.charCodeAt(Ur)?(s=Or,Ur++):(s=null,0===Xr&&r(Cr)),null!==s?(l=N(),null!==l?(c=J(),null!==c?(u=N(),null!==u?(s=[s,l,c,u],a=s):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee);null!==a;)o.push(a),a=Ur,59===e.charCodeAt(Ur)?(s=Or,Ur++):(s=null,0===Xr&&r(Cr)),null!==s?(l=N(),null!==l?(c=J(),null!==c?(u=N(),null!==u?(s=[s,l,c,u],a=s):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee)):(Ur=a,a=ee);null!==o?(59===e.charCodeAt(Ur)?(a=Or,Ur++):(a=null,0===Xr&&r(Cr)),null===a&&(a=ue),null!==a?(s=N(),null!==s?(Wr=t,n=re(n,o),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)}else Ur=t,t=ee;else Ur=t,t=ee;return null===t&&(t=Ur,n=J(),null!==n?(i=N(),null!==i?(59===e.charCodeAt(Ur)?(o=Or,Ur++):(o=null,0===Xr&&r(Cr)),null===o&&(o=ue),null!==o?(a=N(),null!==a?(Wr=t,n=Er(n),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t&&(t=Ur,n=N(),null!==n&&(Wr=t,n=le()),null===n?(Ur=t,t=n):t=n)),t}function J(){var t,n,i,a,s,l,c,u,f,d,h,p,b,m,g,v,y;if(t=Ur,e.substr(Ur,2)===Ar?(n=Ar,Ur+=2):(n=null,0===Xr&&r(Dr)),null===n&&(e.substr(Ur,6)===Pr?(n=Pr,Ur+=6):(n=null,0===Xr&&r(Tr))),null!==n?(32===e.charCodeAt(Ur)?(i=Sr,Ur++):(i=null,0===Xr&&r(Lr)),null!==i?(a=N(),null!==a?(s=Ur,l=w(),null!==l&&(l=e.substring(s,Ur)),s=l,null!==s?(l=N(),null!==l?(e.substr(Ur,2)===zr?(c=zr,Ur+=2):(c=null,0===Xr&&r(Rr)),null!==c?(u=N(),null!==u?(f=o(),null!==f?(d=N(),null!==d?(Wr=t,n=Mr(n,s,f),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee),null===t){if(t=Ur,n=o(),null!==n)if(i=N(),null!==i)if(58===e.charCodeAt(Ur)?(a=he,Ur++):(a=null,0===Xr&&r(pe)),null===a&&(e.substr(Ur,3)===Fr?(a=Fr,Ur+=3):(a=null,0===Xr&&r(Ir)),null===a&&(e.substr(Ur,2)===Br?(a=Br,Ur+=2):(a=null,0===Xr&&r(Nr)))),null!==a)if(s=N(),null!==s)if(l=o(),null!==l)if(c=N(),null!==c){for(u=[],f=Ur,44===e.charCodeAt(Ur)?(d=te,Ur++):(d=null,
0===Xr&&r(ne)),null!==d?(h=N(),null!==h?(p=Ur,b=w(),null!==b&&(b=e.substring(p,Ur)),p=b,null!==p?(b=N(),null!==b?(58===e.charCodeAt(Ur)?(m=he,Ur++):(m=null,0===Xr&&r(pe)),null!==m?(g=N(),null!==g?(v=o(),null!==v?(y=N(),null!==y?(d=[d,h,p,b,m,g,v,y],f=d):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee);null!==f;)u.push(f),f=Ur,44===e.charCodeAt(Ur)?(d=te,Ur++):(d=null,0===Xr&&r(ne)),null!==d?(h=N(),null!==h?(p=Ur,b=w(),null!==b&&(b=e.substring(p,Ur)),p=b,null!==p?(b=N(),null!==b?(58===e.charCodeAt(Ur)?(m=he,Ur++):(m=null,0===Xr&&r(pe)),null!==m?(g=N(),null!==g?(v=o(),null!==v?(y=N(),null!==y?(d=[d,h,p,b,m,g,v,y],f=d):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee)):(Ur=f,f=ee);null!==u?(Wr=t,n=qr(n,a,l,u),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)}else Ur=t,t=ee;else Ur=t,t=ee;else Ur=t,t=ee;else Ur=t,t=ee;else Ur=t,t=ee;else Ur=t,t=ee;null===t&&(t=Ur,n=Ur,i=w(),null!==i&&(i=e.substring(n,Ur)),n=i,null!==n?(i=N(),null!==i?(a=o(),null!==a?(s=N(),null!==s?(Wr=t,n=Vr(n,a),null===n?(Ur=t,t=n):t=n):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee)):(Ur=t,t=ee))}return t}var X,Q=arguments.length>1?arguments[1]:{},Y={expression:o,sheet:U},Z=o,K="expression",ee=null,te=",",ne='","',re=function(e,t){for(var n=[e],r=0;r<t.length;r++)n.push(t[r][2]);return n},ie="(",oe='"("',ae=")",se='")"',le=function(){return[]},ce=function(e){return e},ue="",fe="?",de='"?"',he=":",pe='":"',be=function(e,t){if(t){var n=t[2],r=t[6];return{type:"if",args:[e,n,r]}}return e},me="||",ge='"||"',ve=function(e,t){for(var n=0;n<t.length;n++)e={type:Qr[t[n][1]],args:[e,t[n][3]]};return e},ye="&&",_e='"&&"',we="<=>",xe='"<=>"',ke="<=",je='"<="',Oe=">=",Ce='">="',Ee="<",Ae='"<"',De="-",Pe='"-"',Te=">",Se='">"',Le="==",ze='"=="',Re="!=",Me='"!="',Fe=function(e,t){if(t){var n=t[1],r=t[3];return"!="===n?{type:"not",args:[{type:"equals",args:[e,r]}]}:{type:Qr[n],args:[e,r]}}return e},Ie="+",Be='"+"',Ne="*",qe='"*"',Ve="/",Ue='"/"',We="%",He='"%"',Ge="rem",$e='"rem"',Je="**",Xe='"**"',Qe="//",Ye='"//"',Ze="%%",Ke='"%%"',et="??",tt='"??"',nt="!",rt='"!"',it=function(e,t){return{type:Yr[e],args:[t]}},ot=function(e,t){for(var n=0;n<t.length;n++)e=t[n](e);return e},at=".",st='"."',lt=function(e){return e},ct="[",ut='"["',ft="]",dt='"]"',ht=function(e){return function(t){return{type:"property",args:[t,e]}}},pt="{",bt='"{"',mt="}",gt='"}"',vt=function(e,t){return Zr[e]?function(n){return{type:Zr[e],args:[n,t]}}:"value"===t.type?function(t){return{type:e,args:[t]}}:function(n){return{type:e,args:[{type:"mapBlock",args:[n,t]}]}}},yt=function(e,t){return function(n){return{type:e,args:[n].concat(t)}}},_t=function(e){return function(t){return{type:"property",args:[t,{type:"literal",value:+e.join("")}]}}},wt=function(e){return function(t){return{type:"property",args:[t,{type:"literal",value:e}]}}},xt=function(e){return function(t){return{type:"with",args:[t,e]}}},kt="this",jt='"this"',Ot=function(){return{type:"value"}},Ct="true",Et='"true"',At=function(){return{type:"literal",value:!0}},Dt="false",Pt='"false"',Tt=function(){return{type:"literal",value:!1}},St="null",Lt='"null"',zt=function(){return{type:"literal",value:null}},Rt="@",Mt='"@"',Ft=function(e){return{type:"component",label:e}},It="$",Bt='"$"',Nt=function(e){return{type:"property",args:[{type:"parameters"},{type:"literal",value:e}]}},qt=function(){return{type:"parameters"}},Vt="#",Ut='"#"',Wt=function(e){return{type:"element",id:e}},Ht="&",Gt='"&"',$t=function(e,t){return{type:e,args:t,inline:!0}},Jt="^",Xt='"^"',Qt=function(e){return{type:"parent",args:[e]}},Yt=function(e){return e},Zt=function(e){return e({type:"value"})},Kt=function(){return{type:"value"}},en="word",tn=/^[a-zA-Z_0-9\-]/,nn="[a-zA-Z_0-9\\-]",rn="string",on="'",an='"\'"',sn=function(e){return{type:"literal",value:e.join("")}},ln='"',cn='"\\""',un=/^[^'\\\0-\x1F]/,fn="[^'\\\\\\0-\\x1F]",dn="\\'",hn='"\\\\\'"',pn=function(){return"'"},bn=/^[^"\\\0-\x1F]/,mn='[^"\\\\\\0-\\x1F]',gn='\\"',vn='"\\\\\\""',yn=function(){return'"'},_n="\\\\",wn='"\\\\\\\\"',xn=function(){return"\\"},kn="\\/",jn='"\\\\/"',On=function(){return"/"},Cn="\\b",En='"\\\\b"',An=function(){return"\b"},Dn="\\f",Pn='"\\\\f"',Tn=function(){return"\f"},Sn="\\n",Ln='"\\\\n"',zn=function(){return"\n"},Rn="\\r",Mn='"\\\\r"',Fn=function(){return"\r"},In="\\t",Bn='"\\\\t"',Nn=function(){return"\t"},qn="\\0",Vn='"\\\\0"',Un=function(){return"\0"},Wn="\\u",Hn='"\\\\u"',Gn=function(e){return String.fromCharCode(parseInt(e,16))},$n=/^[0-9a-fA-F]/,Jn="[0-9a-fA-F]",Xn=function(){return{type:"tuple",args:[]}},Qn=function(e){return{type:"tuple",args:e}},Yn=function(){return{type:"record",args:[]}},Zn=function(e){return{type:"record",args:e}},Kn=function(e,t){var n={};n[e[0]]=e[1];for(var r=0;r<t.length;r++)n[t[r][2][0]]=t[r][2][1];return n},er=function(e,t){return[e,t]},tr="number",nr=function(e){return{type:"literal",value:+e}},rr=/^[eE]/,ir="[eE]",or=/^[+\-]/,ar="[+\\-]",sr=/^[0-9]/,lr="[0-9]",cr=/^[1-9]/,ur="[1-9]",fr="whitespace",dr=/^[\t\x0B\f \xA0\uFEFF]/,hr="[\\t\\x0B\\f \\xA0\\uFEFF]",pr=/^[ \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000]/,br="[ \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000]",mr="line terminator",gr=/^[\n\r\u2028\u2029]/,vr="[\\n\\r\\u2028\\u2029]",yr=function(e){return{type:"sheet",blocks:e}},_r=function(e,t,n){return{type:"block",connection:t.connection,module:t.module,exports:t.exports,label:e,statements:n}},wr=function(e,t,n){return{connection:{"<":"prototype",":":"object"}[e],module:t&&t.value,exports:""!==n?n[1]:void 0}},xr=function(){return{}},kr=/^[a-zA-Z_0-9]/,jr="[a-zA-Z_0-9]",Or=";",Cr='";"',Er=function(e){return[e]},Ar="on",Dr='"on"',Pr="before",Tr='"before"',Sr=" ",Lr='" "',zr="->",Rr='"->"',Mr=function(e,t,n){return{type:"event",when:e,event:t,listener:n}},Fr="<->",Ir='"<->"',Br="<-",Nr='"<-"',qr=function(e,t,n,r){var i={type:Kr[t],args:[e,n]};if(r.length){for(var o={},a=0;a<r.length;a++)o[r[a][2]]=r[a][6];i.descriptor=o}return i},Vr=function(e,t){return{type:"unit",name:e,value:t}},Ur=0,Wr=0,Hr=0,Gr={line:1,column:1,seenCR:!1},$r=0,Jr=[],Xr=0;if("startRule"in Q){if(!(Q.startRule in Y))throw new Error("Can't start parsing from rule \""+Q.startRule+'".');Z=Y[Q.startRule]}var Qr={"**":"pow","//":"root","%%":"log","*":"mul","/":"div","%":"mod",rem:"rem","+":"add","-":"sub","<":"lt",">":"gt","<=":"le",">=":"ge","==":"equals","<=>":"compare","??":"default","&&":"and","||":"or","<-":"bind","<->":"bind2",":":"assign"},Yr={"+":"toNumber","-":"neg","!":"not","^":"parent"},Zr={map:"mapBlock",filter:"filterBlock",some:"someBlock",every:"everyBlock",sorted:"sortedBlock",sortedSet:"sortedSetBlock",group:"groupBlock",groupMap:"groupMapBlock",min:"minBlock",max:"maxBlock"},Kr={":":"assign","<-":"bind","<->":"bind2"};if(X=Z(),null!==X&&Ur===e.length)return X;throw i(Jr),Wr=Math.max(Ur,$r),new t(Jr,Wr<e.length?e.charAt(Wr):null,Wr,n(Wr).line,n(Wr).column)}return e(t,Error),{SyntaxError:t,parse:n}}()}}),montageDefine("1bc20c3","compile-evaluator",{dependencies:["collections/shim-object","collections/map","collections/sorted-set","./operators","./scope","./parse"],factory:function(e,t,n){function r(e){return r.semantics.compile(e)}var i=e("collections/shim-object"),o=e("collections/map"),a=e("collections/sorted-set"),s=e("./operators");e("./scope"),n.exports=r;var l={literal:function(e){return function(){return e.value}},value:function(e){return function(e){return e.value}},parameters:function(e){return function(e){return e.parameters}},element:function(e){return function(t){return t.document.getElementById(e.id)}},component:function(e){return function(t){return t.components.getObjectByLabel(e.label)}},tuple:function(e){var t=e.args.map(this.compile,this);return function(e){return t.map(function(t){return t(e)})}},record:function(e){var t,n,r=e.args,o={},a=i.keys(r);for(n=0;t=a[n];n++)o[t]=this.compile(r[t]);return function(e){var r={},a=i.keys(o);for(n=0;t=a[n];n++)r[t]=o[t](e);return r}}},c={mapBlock:function(e,t){return function(n){return e(n).map(function(e){return t(n.nest(e))})}},filterBlock:function(e,t){return function(n){return e(n).filter(function(e){return t(n.nest(e))})}},someBlock:function(e,t){return function(n){return e(n).some(function(e){return t(n.nest(e))})}},everyBlock:function(e,t){return function(n){return e(n).every(function(e){return t(n.nest(e))})}},sortedBlock:function(e,t){return function(n){return e(n).sorted(Function.by(function(e){return t(n.nest(e))}))}},sortedSetBlock:function(e,t){return function(n){function r(e){return t(n.nest(e))}function o(e,t){return i.compare(r(e),r(t))}function s(e,t){return i.equals(r(e),r(t))}return new a(e(n),s,o)}},groupBlock:function(e,t){return function(n){return e(n).group(function(e){return t(n.nest(e))})}},groupMapBlock:function(e,t){return function(n){return new o(e(n).group(function(e){return t(n.nest(e))}))}},minBlock:function(e,t){return function(n){return e(n).min(Function.by(function(e){return t(n.nest(e))}))}},maxBlock:function(e,t){return function(n){return e(n).max(Function.by(function(e){return t(n.nest(e))}))}},parent:function(e){return function(t){return e(t.parent)}},"with":function(e,t){return function(n){return t(n.nest(e(n)))}},"if":function(e,t,n){return function(r){var i=e(r);if(null!=i)return i?t(r):n(r)}},not:function(e){return function(t){return!e(t)}},and:function(e,t){return function(n){return e(n)&&t(n)}},or:function(e,t){return function(n){return e(n)||t(n)}},"default":function(e,t){return function(n){var r=e(n);return null==r&&(r=t(n)),r}},defined:function(e){return function(t){var n=e(t);return null!=n}},path:function(t,n){return function(i){var o=t(i),a=n(i),s=e("./parse");try{var l=s(a),c=r(l);return c(i.nest(o))}catch(u){}}}},u=i.clone(s,1);i.addEach(u,{property:function(e,t){return e[t]},get:function(e,t){return e.get(t)},mapContent:Function.identity,rangeContent:Function.identity,view:function(e,t,n){return e.slice(t,t+n)}}),r.semantics={compilers:l,argCompilers:c,operators:u,compile:function(e){var t=this.compilers,n=this.argCompilers,r=this.operators;if(t.hasOwnProperty(e.type))return t[e.type].call(this,e);if(n.hasOwnProperty(e.type)){var i=e.args.map(this.compile,this);return 1===i.length?n[e.type].call(null,i[0]):2===i.length?n[e.type].call(null,i[0],i[1]):n[e.type].apply(null,i)}r.hasOwnProperty(e.type)||(r[e.type]=function(t){var n=Array.prototype.slice.call(arguments,1);if(!t[e.type])throw new TypeError("Can't call "+JSON.stringify(e.type)+" of "+t);return 1===n.length?t[e.type].call(t,n[0]):2===n.length?t[e.type].call(t,n[0],n[1]):t[e.type].apply(t,n)});var o=r[e.type],i=e.args.map(this.compile,this);return function(e){var t=i.map(function(t){return t(e)});if(t.every(s.defined))return 1===t.length?o.call(null,t[0]):2===t.length?o.call(null,t[0],t[1]):o.apply(null,t)}}}}}),montageDefine("1bc20c3","compile-assigner",{dependencies:["./compile-evaluator","./algebra","./scope"],factory:function(e,t,n){function r(e){return r.semantics.compile(e)}var i=e("./compile-evaluator"),o=e("./algebra"),a=(e("./scope"),{type:"value"}),s={type:"literal",value:!0},l={type:"literal",value:!1};n.exports=r,r.semantics={compile:function(e){var t=this.compilers;if("equals"===e.type){var n=this.compile(e.args[0]),r=this.compileEvaluator(e.args[1]);return t.equals(n,r)}if("if"===e.type){var i=this.compileEvaluator(e.args[0]),s=this.compile(e.args[1]),l=this.compile(e.args[2]);return t["if"](i,s,l)}if("and"===e.type||"or"===e.type){var c=o(e.args[0],a),u=o(e.args[1],a),f=this.compileEvaluator(e.args[0]),r=this.compileEvaluator(e.args[1]),d=this.compileEvaluator(c[1]),h=this.compileEvaluator(u[1]),n=this.compile(c[0]),p=this.compile(u[0]);return t[e.type](n,p,f,r,d,h)}if("everyBlock"===e.type){var b=this.compileEvaluator(e.args[0]),m=o(e.args[1],{type:"literal",value:!0}),g=this.compile(m[0]),v=this.compileEvaluator(m[1]);return t.everyBlock(b,g,v)}if("parent"===e.type){var y=this.compile(e.args[0]);return function(e,t){return y(e,t.parent)}}if(t.hasOwnProperty(e.type)){var _=e.args.map(this.compileEvaluator,this.compileEvaluator.semantics);return 1===_.length?t[e.type].call(null,_[0]):2===_.length?t[e.type].call(null,_[0],_[1]):t[e.type].apply(null,_)}throw new Error("Can't compile assigner for "+JSON.stringify(e.type))},compileEvaluator:i,compilers:{property:function(e,t){return function(n,r){var i=e(r);if(i){var o=t(r);null!=o&&(Array.isArray(i)?i.set(o,n):i[o]=n)}}},get:function(e,t){return function(n,r){var i=e(r);if(i){var o=t(r);null!=o&&i.set(o,n)}}},has:function(e,t){return function(n,r){var i=e(r);if(i){var o=t(r);null!=n&&(n?(i.has||i.contains).call(i,o)||i.add(o):(i.has||i.contains).call(i,o)&&(i.remove||i["delete"]).call(i,o))}}},equals:function(e,t){return function(n,r){if(n)return e(t(r),r)}},"if":function(e,t,n){return function(r,i){var o=e(i);if(null!=o)return o?t(r,i):n(r,i)}},and:function(e,t,n,r,i,o){return function(a,l){null!=a&&(a?(e(i(s),l),t(o(s),l)):e(n(l)&&!r(l),l))}},or:function(e,t,n,r,i,o){return function(a,s){null!=a&&(a?e(n(s)||!r(s),s):(e(i(l),s),t(o(l),s)))}},rangeContent:function(e){return function(t,n){var r=e(n);r&&(t?r.swap(0,r.length,t):r.clear())}},mapContent:function(e){return function(t,n){var r=e(n);r&&(r.clear(),n.value&&r.addEach(t))}},reversed:function(e){return function(t,n){var r=e(n);r&&r.swap(0,r.length,t.reversed())}},everyBlock:function(e,t,n){return function(r,i){if(r){var o=e(i),a=n(i);o.forEach(function(e){t(a,i.nest(e))})}}}}}}}),montageDefine("1bc20c3","algebra",{dependencies:[],factory:function(e,t,n){function r(e,t){return r.semantics.solve(e,t)}n.exports=r,r.semantics={solve:function(e,t){for(;;){for(;this.simplifiers.hasOwnProperty(e.type);){var n=this.simplifiers[e.type](e);if(!n)break;e=n}var r=this.rotateTargetToSource.hasOwnProperty(e.type),i=this.rotateSourceToTarget.hasOwnProperty(t.type);if(!r&&!i)break;r?(t=this.rotateTargetToSource[e.type](e,t),e=e.args[0]):i&&(e=this.rotateSourceToTarget[t.type](e,t),t=t.args[0])}return[e,t]},simplifiers:{not:function(e){var t=e.args[0];if("not"===t.type)return t.args[0]},add:function(e){var t=e.args[0];if("literal"===t.type&&""===t.value)return{type:"toString",args:[e.args[1]]}},someBlock:function(e){return{type:"not",args:[{type:"everyBlock",args:[e.args[0],{type:"not",args:[e.args[1]]}]}]}}},rotateTargetToSource:{reflect:function(e,t){return{type:e.type,args:[t]}},invert:function(e,t,n){return{type:n,args:[t,e.args[1]]}},toNumber:function(e,t){return this.reflect(e,t)},toString:function(e,t){return this.reflect(e,t)},not:function(e,t){return this.reflect(e,t)},neg:function(e,t){return this.reflect(e,t)},add:function(e,t){return this.invert(e,t,"sub")},sub:function(e,t){return this.invert(e,t,"add")},mul:function(e,t){return this.invert(e,t,"div")},div:function(e,t){return this.invert(e,t,"mul")},pow:function(e,t){return this.invert(e,t,"root")},root:function(e,t){return this.invert(e,t,"pow")},join:function(e,t){return this.invert(e,t,"split")},split:function(e,t){return this.invert(e,t,"join")}},rotateSourceToTarget:{rangeContent:function(e,t){return"rangeContent"===e.type?e:{type:t.type,args:[e]}}}}}}),montageDefine("1bc20c3","compile-binder",{dependencies:["./compile-observer","./observers","./binders","./algebra"],factory:function(e,t,n){function r(e){return r.semantics.compile(e)}var i=e("./compile-observer"),o=(e("./observers"),e("./binders")),a=e("./algebra"),s={type:"value"},l={type:"literal",value:!0};n.exports=r,r.semantics={compilers:{property:o.makePropertyBinder,get:o.makeGetBinder,has:o.makeHasBinder,only:o.makeOnlyBinder,one:o.makeOneBinder,rangeContent:o.makeRangeContentBinder,mapContent:o.makeMapContentBinder,reversed:o.makeReversedBinder,and:o.makeAndBinder,or:o.makeOrBinder},syntaxTypeCompile:{"default":function(e){return this.compile(e.args[0])},literal:function(e){if(null==e.value)return Function.noop;throw new Error("Can't bind to literal: "+e.value)},equals:function(e){return o.makeEqualityBinder(this.compile(e.args[0]),i(e.args[1]))},"if":function(e){return o.makeConditionalBinder(i(e.args[0]),this.compile(e.args[1]),this.compile(e.args[2]))},and_or:function(e){var t=a(e.args[0],s),n=a(e.args[1],s),r=this.compile(t[0]),o=this.compile(n[0]),l=i(t[1]),c=i(n[1]),u=i(e.args[0]),f=i(e.args[1]);return this.compilers[e.type](r,o,u,f,l,c)},everyBlock:function(e){var t=i(e.args[0]),n=a(e.args[1],l),r=this.compile(n[0]),s=i(n[1]);return o.makeEveryBlockBinder(t,r,s)},rangeContent:function(e){var t,n=i(e.args[0]);try{t=this.compile(e.args[0])}catch(r){t=Function.noop}return o.makeRangeContentBinder(n,t)},defined:function(e){var t=this.compile(e.args[0]);return o.makeDefinedBinder(t)},parent:function(e){var t=this.compile(e.args[0]);return o.makeParentBinder(t)},"with":function(e){var t=i(e.args[0]),n=this.compile(e.args[1]);return o.makeWithBinder(t,n)}},compile:function(e){var t,n=this.compilers;if(t=this.syntaxTypeCompile[e.type])return t.call(this,e);if(n.hasOwnProperty(e.type)){for(var r=[],o=i.semantics,a=0,s=e.args.length;a<s;a++)r.push(i.call(o,e.args[a]));return 1===r.length?n[e.type].call(null,r[0]):2===r.length?n[e.type].call(null,r[0],r[1]):n[e.type].apply(null,r)}throw new Error("Can't compile binder for "+JSON.stringify(e.type))}},r.semantics.syntaxTypeCompile.and=r.semantics.syntaxTypeCompile.or=r.semantics.syntaxTypeCompile.and_or}}),montageDefine("1bc20c3","binders",{dependencies:["./scope","./observers"],factory:function(e,t,n){function r(){return new Error("").stack.replace(/^.*\n.*\n/,"\n")}function i(e,t,n,i,o,a){return n(O(function(n){if(!o.isActive)try{o.isActive=!0,a&&console.log("SET",a.targetPath,"TO",n,"ON",e,"BECAUSE",a.sourcePath,r()),Array.isArray(e)&&t>>>0===t?e.set(t,n):e[t]=n}finally{o.isActive=!1}}),i)}function o(e,t){return function(n,r,i,o,a){return t(O(function(t){function s(e){return null==e?void 0:e.bindProperty?e.bindProperty(t,n,r,o,a):s.bindProperty(e,t,n,r,o,a)}if(null!=t)return s.bindProperty=z,e(O(s),i)}),i)}}function a(e,t,n,i,o,a){return n(O(function(n){if(!o.isActive)try{o.isActive=!0,a&&console.log("SET FOR KEY",t,"TO",n,"ON",e,"BECAUSE",a.sourcePath,r()),e.set(t,n)}finally{o.isActive=!1}}),i)}function s(e,t){return function(n,r,i,o,a){return e(O(function(e){function s(t){return null==t?void 0:s.bindGet(e,t,n,r,o,a)}if(e)return s.bindGet=R,t(O(s),i)}),i)}}function l(e,t){return function(n,i,o,a,s){return e(O(function(e){if(e)return t(O(function(t){function o(e){if(e)o.set.has(t)||(s&&console.log("ADD",t,"TO",s.targetPath,"BECAUSE",s.sourcePath,r()),o.set.add(t));else for(;o.set.has(t);)s&&console.log("REMOVE",t,"FROM",s.targetPath,"BECAUSE",s.sourcePath,r()),o.set["delete"](t)}if(null!=t)return o.set=e,n(O(o),i)}),o)}),o)}}function c(e,t){return function(n,i,o,a,s){return n(O(function(n){if(n)return s&&console.log("BIND",s.targetPath,"TO",s.sourcePath,r()),e(t,i,i,a,s),function(){s&&console.log("UNBIND",s.targetPath,"FROM",s.sourcePath,r())}}),o)}}function u(e,t,n){return function(r,i,o,a,s){return r(O(function(r){if(r)return e(O(function(e){function r(e,t,l){r.cancelEach(i.slice(l,l+t.length));for(var c,u=[],f=0,d=e.length;f<d;f++)c=o.nest(e[f]),u.push(r.bindCondition(n,c,c,a,s));i.swap(l,t.length,u)}if(e){var i=[];r.cancelEach=E,r.bindCondition=t;var l=C(e,r,o);return function(){E(i),l()}}}),o)}),i)}}function f(e,t,n,r,i,o){var a=A(r),s=P(n,a);return function(n,r,a,l,c){return n(O(function(n){if(null!=n){if(n){var r=e(i,S,a,l,c),u=t(o,S,a,l,c);return function(){r(),u()}}return e(s,a,a,l,c)}}),r)}}function d(e,t,n,r,i,o){var a=A(r),s=D(n,a);return function(n,r,a,l,c){return n(O(function(n){if(null!=n){if(n)return e(s,a,a,l,c);var r=e(i,L,a,l,c),u=t(o,L,a,l,c);return function(){r(),u()}}}),r)}}function h(e,t,n){return function(r,i,o,a,s){return e(O(function(e){if(null!=e)return e?t(r,i,o,a,s):n(r,i,o,a,s)}),i)}}function p(e){return function(t,n,r,i,o){return e(O(function(e){if(e)return t(O(function(t){null!=t&&(e.splice?e.splice(0,e.length,t):e.clear&&e.add&&(e.clear(),e.add(t)))}),n)}),r)}}function b(e){return function(t,n,r,i,o){return e(O(function(e){if(e)return t(O(function(t){null!=t&&t!==e.one()&&(e.splice?e.splice(0,e.length,t):e.clear&&e.add&&(e.clear(),e.add(t)))}),n)}),r)}}function m(e,t){return function(n,i,o,a,s){return e(O(function(e){return e?n(O(function(t){function n(t,n,i){if(!x(e))if(s&&console.log("SWAPPING",n,"FOR",t,"AT",i,"ON",s.targetPath,r()),e.swap)e.swap(i,n.length,t);else if(e.add&&(e.remove||e["delete"])){var o,a,l,c;for(o=0,a=t.length,l;l=t[o];o++)e.add(l);for(c=e.remove||e["delete"],o=0,a=n.length,l;l=n[o];o++)e.deleteMethod(l)}}if(t!==e){if(!t)return void e.clear();if(t.addRangeChangeListener)return t.addRangeChangeListener(n),n(Array.from(t),Array.from(e),0),function(){t.removeRangeChangeListener(n)}}}),i):t(j.makeLiteralObserver([]),i,o,a,s)}),o)}}function g(e){return function(t,n,i,o,a){return e(O(function(e){if(e)return t(O(function(t){function n(t,n){if(!o.isActive)try{o.isActive=!0,void 0===t?(a&&a&&console.log("DELETED",a.targetPath,"FOR KEY",n,"ON",e,"BECAUSE",a.sourcePath,r()),Array.isArray(e)?e.splice(n,1):e["delete"](n)):(a&&a&&console.log("SET",a.targetPath,"FOR KEY",n,"TO",t,"ON",e,"BECAUSE",a.sourcePath,r()),e.set(n,t))}finally{o.isActive=!1}}return t?(e.clear(),t.forEach(n),t.addMapChangeListener(n)):void e.clear()}),n)}),i)}}function v(e){return function(t,n,r,i,o){return e(O(function(e){if(e)return t(O(function(t){function n(t,n,r){if(!x(e)){var i=e.length-r-n.length;e.swap(i,n.length,t.reversed())}}return t?(t.addRangeChangeListener(n),n(t,e,0),function(){t.removeRangeChangeListener(n)}):void e.clear()}),n)}),r)}}function y(e){return function(t,n,r,i,o){return t(O(function(t){return t?Function.noop:e(T,n,r,i,o)}),r)}}function _(e){return function(t,n,r,i,o){if(r.parent)return e(t,n,r.parent,i,o)}}function w(e,t){return function(n,r,i,o,a){return e(O(function(e){if(null!=e)return t(n,r,i.nest(e),o,a)}),i)}}function x(e){return e.getRangeChangeDescriptor&&e.getRangeChangeDescriptor().isActive}var k=e("./scope"),j=e("./observers"),O=j.autoCancelPrevious,C=j.observeRangeChange,E=j.cancelEach,A=j.makeNotObserver,D=j.makeOrObserver,P=j.makeAndObserver,T=(j.observeValue,j.makeLiteralObserver()),S=new k((!0)),L=new k((!1));t.bindProperty=i;var z=i;t.makePropertyBinder=o,t.bindGet=a;var R=a;t.makeGetBinder=s,t.makeHasBinder=l,t.makeEqualityBinder=c,t.makeEveryBlockBinder=u,t.makeAndBinder=f,t.makeOrBinder=d,t.makeConditionalBinder=h,t.makeOnlyBinder=p,t.makeOneBinder=b,t.makeRangeContentBinder=m,t.makeMapContentBinder=g,t.makeReversedBinder=v,t.makeDefinedBinder=y,t.makeParentBinder=_,t.makeWithBinder=w}}),montageDefine("1bc20c3","operators",{dependencies:["collections/shim-object","collections/shim-regexp","collections/map","collections/set"],factory:function(e,t,n){e("collections/shim-object"),e("collections/shim-regexp");var r=e("collections/map"),i=e("collections/set");t.toNumber=function(e){return+e},t.toString=function(e){return null==e?e:"string"==typeof e||"number"==typeof e?""+e:null},t.toArray=Array.from,t.toMap=r.from.bind(r),t.toSet=i.from.bind(i),t.not=function(e){return!e},t.neg=function(e){return-e},t.pow=function(e,t){return Math.pow(e,t)},t.root=function(e,t){return Math.pow(e,1/t)},t.log=function(e,t){return Math.log(e)/Math.log(t)},t.mul=function(e,t){return e*t},t.div=function(e,t){return e/t},t.mod=function(e,t){return(e%t+t)%t},t.rem=function(e,t){return e%t},t.add=function(e,t){return e+t},t.sub=function(e,t){return e-t},t.ceil=function(e){return Math.ceil(e)},t.floor=function(e){return Math.floor(e)},t.round=function(e){return Math.round(e)},t.lt=function(e,t){return Object.compare(e,t)<0},t.gt=function(e,t){return Object.compare(e,t)>0},t.le=function(e,t){return Object.compare(e,t)<=0},t.ge=function(e,t){return Object.compare(e,t)>=0},t.equals=Object.equals,t.compare=Object.compare,t.and=function(e,t){return e&&t},t.or=function(e,t){return e||t},t.defined=function(e){return null!=e},t.startsWith=function(e,t){var n=new RegExp("^"+RegExp.escape(t));return n.test(e)},t.endsWith=function(e,t){var n=new RegExp(RegExp.escape(t)+"$");return n.test(e)},t.contains=function(e,t){var n=new RegExp(RegExp.escape(t));return n.test(e)},t.join=function(e,t){return e.join(t||"")},t.split=function(e,t){return e.split(t||"")},t.range=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},t.last=function(e){return e.get(e.length-1)}}}),montageDefine("1bc20c3","language",{dependencies:["collections/set","collections/map"],factory:function(e,t,n){for(var r,i,o,a,s=e("collections/set"),l=e("collections/map"),c=t.precedence=new l,u=t.precedenceLevels=[["tuple","record"],["literal","value","parameters","property","element","component","mapBlock","filterBlock","sortedBlock","groupBlock","groupMapBlock","with"],["not","neg","number","parent"],["scope"],["default"],["pow","root","log"],["mul","div","mod","rem"],["add","sub"],["equals","lt","gt","le","ge","compare"],["and"],["or"],["if"]],f=0,d=u.length;f<d;f++)for(i=u[f],r=new s(c.keysArray()),o=0,a=i.length;o<a;o++)c.set(i[o],r);var h=t.operatorTokens=l.from({"**":"pow","//":"root","%%":"log","*":"mul","/":"div","%":"mod",rem:"rem","+":"add","-":"sub","<":"lt",">":"gt","<=":"le",">=":"ge","==":"equals","<=>":"compare","!=":"notEquals","??":"default","&&":"and","||":"or","?":"then",":":"else"});t.operatorTypes=new l(h.map(function(e,t){return[e,t]}))}}),montageDefine("1bc20c3","compute",{dependencies:["./parse","./compile-observer","./compile-binder","./observers","./scope"],factory:function(e,t,n){function r(e,t,n){n.target=e,n.targetPath=t;var r=n.source=n.source||e,c=n.args,u=n.compute,f=n.parameters=n.parameters||r,d=n.document,h=n.components,p=n.trace,b=new l(r);b.parameters=f,b.document=d,b.components=h;var m=new l(e);m.parameters=f,m.document=d,m.components=h;for(var g,v,y,_,w=[],x=0;g=c[x];x++)v=i(g),"rangeContent"===v.type?(y=o(v.args[0]),_=s.makeRangeContentObserver(y)):"mapContent"===v.type?(y=o(v.args[0]),_=s.makeMapContentObserver(y)):_=o(v),w.push(_);var k=s.makeRangeContentObserver(s.makeObserversObserver(w)),j=s.makeComputerObserver(k,u,e),O=i(t),C=a(O);return C(j,b,m,n,p?{sourcePath:c.join(", "),targetPath:t}:void 0)}var i=e("./parse"),o=e("./compile-observer"),a=e("./compile-binder"),s=e("./observers"),l=e("./scope");n.exports=r}}),montageDefine("1bc20c3","observe",{dependencies:["./parse","./compile-observer","./observers","./scope"],factory:function(e,t,n){function r(e,t,n){var r;r="function"==typeof n?{change:n}:n,r=r||c,r.source=e,r.sourcePath=t;var u=r.parameters=r.parameters||e,f=r.document,d=r.components,h=r.beforeChange,p=r.contentChange,b=new l(e);b.parameters=u,b.document=f,b.components=d,b.beforeChange=h;var m=i(t),g=o(m);return p===!0&&(g=a.makeRangeContentObserver(g)),g(s(function(t){if(t){if("function"!=typeof p)return 1===arguments.length?r.change.call(e,arguments[0]):2===arguments.length?r.change.call(e,arguments[0],arguments[1]):r.change.apply(e,arguments);if("function"==typeof p)return t.addRangeChangeListener(p),function(){t.removeRangeChangeListener(p)}}}),b)}var i=e("./parse"),o=e("./compile-observer"),a=e("./observers"),s=a.autoCancelPrevious,l=e("./scope");n.exports=r;var c={}}}),montageDefine("1bc20c3","merge",{dependencies:["collections/shim"],factory:function(e,t,n){"use strict";function r(e,t){for(var n,r=(t.length+1)*(e.length+1),i=Array(r),o=Array(t.length+1),a=Array(t.length+1),s=0;s<e.length+1;s++){for(var l=0;l<t.length+1;l++){var c,u;if(0===s&&0===l)c=" ",u=0;else if(0===s)c="insert",u=l;else if(0===l)c="delete",u=s;else if(e[s-1]===t[l-1])c="retain",u=a[l-1];else{var f=o[l-1],d=a[l];d<f?(c="delete",u=d+1):(c="insert",u=f+1)}i[s+l*(e.length+1)]=c,o[l]=u}n=o,o=a,a=n}return{edges:i,cost:a[t.length],source:t,target:e}}function i(e){for(var t,n,r=[],i=e.edges,o=t=e.target.length,a=e.source.length;t||a;){var s=i[t+a*(o+1)];if("delete"===s){if(n&&"delete"===n[0])n[1]++;else{var l=["delete",1];n=l,r.push(l)}t--}else if("insert"===s){if(n&&"insert"===n[0])n[1]++;else{var l=["insert",1];n=l,r.push(l)}a--}else if("retain"===s){var l=["retain",1];n&&"retain"===n[0]?n[1]++:(n=l,r.push(l)),t--,a--}}return r.reverse(),r}function o(e,t){return i(r(e,t))}function a(e,t){for(var n=o(e,t),r=[],i=0,a=0,s=0;s<n.length;){var l=n[s++];if("insert"===l[0])r.push([a,0,t.slice(a,a+l[1])]),a+=l[1];else if("delete"===l[0])if(s<n.length&&"insert"===n[s][0]){var c=n[s++];r.push([a,l[1],t.slice(a,a+c[1])]),i+=l[1],a+=c[1]}else r.push([a,l[1]]),i+=l[1];else"retain"==l[0]&&(i+=l[1],a+=l[1])}return r}function s(e,t){for(var n=0;n<t.length;n++)e.swap.apply(e,t[n])}function l(e,t){s(e,a(e,t))}e("collections/shim"),t.graphOt=r,t.traceOt=i,t.ot=o,t.diff=a,t.apply=s,t.merge=l}}),montageDefine("2dd46f3","index",{dependencies:[],factory:function(e,t,n){function r(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function i(e){return e.split("")}function o(e){return e.match(O)||[]}function a(e){return function(t){return null==e?void 0:e[t]}}function s(e){return pe.test(e)}function l(e){return be.test(e)}function c(e){return s(e)?u(e):i(e)}function u(e){return e.match(de)||[]}function f(e){return e.match(he)||[]}function d(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function h(e){if("string"==typeof e)return e;if(v(e))return Oe?Oe.call(e):"";var t=e+"";return"0"==t&&1/e==-k?"-0":t}function p(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:d(e,t,n)}function b(e){return function(t){t=y(t);var n=s(t)?c(t):void 0,r=n?n[0]:t.charAt(0),i=n?p(n,1).join(""):t.slice(1);return r[e]()+i}}function m(e){return function(t){return r(x(w(t).replace(ue,"")),e,"")}}function g(e){return!!e&&"object"==typeof e}function v(e){return"symbol"==typeof e||g(e)&&xe.call(e)==j}function y(e){return null==e?"":h(e)}function _(e){return Ee(y(e).toLowerCase())}function w(e){return e=y(e),e&&e.replace(C,_e).replace(fe,"")}function x(e,t,n){return e=y(e),t=n?void 0:t,void 0===t?l(e)?f(e):o(e):e.match(t)||[]}var k=1/0,j="[object Symbol]",O=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,C=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,E="\\ud800-\\udfff",A="\\u0300-\\u036f\\ufe20-\\ufe23",D="\\u20d0-\\u20f0",P="\\u2700-\\u27bf",T="a-z\\xdf-\\xf6\\xf8-\\xff",S="\\xac\\xb1\\xd7\\xf7",L="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",z="\\u2000-\\u206f",R=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",M="A-Z\\xc0-\\xd6\\xd8-\\xde",F="\\ufe0e\\ufe0f",I=S+L+z+R,B="['’]",N="["+E+"]",q="["+I+"]",V="["+A+D+"]",U="\\d+",W="["+P+"]",H="["+T+"]",G="[^"+E+I+U+P+T+M+"]",$="\\ud83c[\\udffb-\\udfff]",J="(?:"+V+"|"+$+")",X="[^"+E+"]",Q="(?:\\ud83c[\\udde6-\\uddff]){2}",Y="[\\ud800-\\udbff][\\udc00-\\udfff]",Z="["+M+"]",K="\\u200d",ee="(?:"+H+"|"+G+")",te="(?:"+Z+"|"+G+")",ne="(?:"+B+"(?:d|ll|m|re|s|t|ve))?",re="(?:"+B+"(?:D|LL|M|RE|S|T|VE))?",ie=J+"?",oe="["+F+"]?",ae="(?:"+K+"(?:"+[X,Q,Y].join("|")+")"+oe+ie+")*",se=oe+ie+ae,le="(?:"+[W,Q,Y].join("|")+")"+se,ce="(?:"+[X+V+"?",V,Q,Y,N].join("|")+")",ue=RegExp(B,"g"),fe=RegExp(V,"g"),de=RegExp($+"(?="+$+")|"+ce+se,"g"),he=RegExp([Z+"?"+H+"+"+ne+"(?="+[q,Z,"$"].join("|")+")",te+"+"+re+"(?="+[q,Z+ee,"$"].join("|")+")",Z+"?"+ee+"+"+ne,Z+"+"+re,U,le].join("|"),"g"),pe=RegExp("["+K+E+A+D+F+"]"),be=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,me={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss",
"Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},ge="object"==typeof global&&global&&global.Object===Object&&global,ve="object"==typeof self&&self&&self.Object===Object&&self,ye=ge||ve||Function("return this")(),_e=a(me),we=Object.prototype,xe=we.toString,ke=ye.Symbol,je=ke?ke.prototype:void 0,Oe=je?je.toString:void 0,Ce=m(function(e,t,n){return t=t.toLowerCase(),e+(n?_(t):t)}),Ee=b("toUpperCase");n.exports=Ce}}),montageDefine("748f0c4","index",{dependencies:[],factory:function(e,t,n){function r(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function i(e){return e.match(g)||[]}function o(e){return function(t){return null==e?void 0:e[t]}}function a(e){return re.test(e)}function s(e){return e.match(ne)||[]}function l(e){if("string"==typeof e)return e;if(f(e))return he?he.call(e):"";var t=e+"";return"0"==t&&1/e==-b?"-0":t}function c(e){return function(t){return r(p(h(t).replace(ee,"")),e,"")}}function u(e){return!!e&&"object"==typeof e}function f(e){return"symbol"==typeof e||u(e)&&ue.call(e)==m}function d(e){return null==e?"":l(e)}function h(e){return e=d(e),e&&e.replace(v,le).replace(te,"")}function p(e,t,n){return e=d(e),t=n?void 0:t,void 0===t?a(e)?s(e):i(e):e.match(t)||[]}var b=1/0,m="[object Symbol]",g=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,v=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,y="\\ud800-\\udfff",_="\\u0300-\\u036f\\ufe20-\\ufe23",w="\\u20d0-\\u20f0",x="\\u2700-\\u27bf",k="a-z\\xdf-\\xf6\\xf8-\\xff",j="\\xac\\xb1\\xd7\\xf7",O="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",C="\\u2000-\\u206f",E=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",A="A-Z\\xc0-\\xd6\\xd8-\\xde",D="\\ufe0e\\ufe0f",P=j+O+C+E,T="['’]",S="["+P+"]",L="["+_+w+"]",z="\\d+",R="["+x+"]",M="["+k+"]",F="[^"+y+P+z+x+k+A+"]",I="\\ud83c[\\udffb-\\udfff]",B="(?:"+L+"|"+I+")",N="[^"+y+"]",q="(?:\\ud83c[\\udde6-\\uddff]){2}",V="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+A+"]",W="\\u200d",H="(?:"+M+"|"+F+")",G="(?:"+U+"|"+F+")",$="(?:"+T+"(?:d|ll|m|re|s|t|ve))?",J="(?:"+T+"(?:D|LL|M|RE|S|T|VE))?",X=B+"?",Q="["+D+"]?",Y="(?:"+W+"(?:"+[N,q,V].join("|")+")"+Q+X+")*",Z=Q+X+Y,K="(?:"+[R,q,V].join("|")+")"+Z,ee=RegExp(T,"g"),te=RegExp(L,"g"),ne=RegExp([U+"?"+M+"+"+$+"(?="+[S,U,"$"].join("|")+")",G+"+"+J+"(?="+[S,U+H,"$"].join("|")+")",U+"?"+H+"+"+$,U+"+"+J,z,K].join("|"),"g"),re=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},oe="object"==typeof global&&global&&global.Object===Object&&global,ae="object"==typeof self&&self&&self.Object===Object&&self,se=oe||ae||Function("return this")(),le=o(ie),ce=Object.prototype,ue=ce.toString,fe=se.Symbol,de=fe?fe.prototype:void 0,he=de?de.toString:void 0,pe=c(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});n.exports=pe}}),montageDefine("e1e2708","weak-map",{dependencies:[],factory:function(e,t,n){!function(){"use strict";function e(t){t.permitHostObjects___&&t.permitHostObjects___(e)}function t(e){return!(e.substr(0,h.length)==h&&"___"===e.substr(e.length-3))}function r(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[p];if(t&&t.key===e)return t;if(d(e)){t={key:e};try{return f(e,p,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(n){return}}}function i(e){return e.prototype=null,Object.freeze(e)}function o(){v||"undefined"==typeof console||(v=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=e);var a=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var l=new s,c=Object.freeze({});if(l.set(c,1),1===l.get(c))return void(n.exports=WeakMap);a=!0}}var u=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),f=Object.defineProperty,d=Object.isExtensible,h="weakmap:",p=h+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var b=new ArrayBuffer(25),m=new Uint8Array(b);crypto.getRandomValues(m),p=h+"rand:"+Array.prototype.map.call(m,function(e){return(e%36).toString(36)}).join("")+"___"}if(f(Object,"getOwnPropertyNames",{value:function(e){return u(e).filter(t)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;f(Object,"getPropertyNames",{value:function(e){return g(e).filter(t)}})}!function(){var e=Object.freeze;f(Object,"freeze",{value:function(t){return r(t),e(t)}});var t=Object.seal;f(Object,"seal",{value:function(e){return r(e),t(e)}});var n=Object.preventExtensions;f(Object,"preventExtensions",{value:function(e){return r(e),n(e)}})}();var v=!1,y=0,_=function(){function e(e,t){var n,i=r(e);return i?c in i?i[c]:t:(n=s.indexOf(e),n>=0?l[n]:t)}function t(e){var t=r(e);return t?c in t:s.indexOf(e)>=0}function n(e,t){var n,i=r(e);return i?i[c]=t:(n=s.indexOf(e),n>=0?l[n]=t:(n=s.length,l[n]=t,s[n]=e)),this}function a(e){var t,n,i=r(e);return i?c in i&&delete i[c]:(t=s.indexOf(e),!(t<0||(n=s.length-1,s[t]=void 0,l[t]=l[n],s[t]=s[n],s.length=n,l.length=n,0)))}this instanceof _||o();var s=[],l=[],c=y++;return Object.create(_.prototype,{get___:{value:i(e)},has___:{value:i(t)},set___:{value:i(n)},delete___:{value:i(a)}})};_.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},"delete":{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof s?!function(){function t(){function t(e,t){return u?c.has(e)?c.get(e):u.get___(e,t):c.get(e,t)}function n(e){return c.has(e)||!!u&&u.has___(e)}function r(e){var t=!!c["delete"](e);return u?u.delete___(e)||t:t}this instanceof _||o();var l,c=new s,u=void 0,f=!1;return l=a?function(e,t){return c.set(e,t),c.has(e)||(u||(u=new _),u.set(e,t)),this}:function(e,t){if(f)try{c.set(e,t)}catch(n){u||(u=new _),u.set___(e,t)}else c.set(e,t);return this},Object.create(_.prototype,{get___:{value:i(t)},has___:{value:i(n)},set___:{value:i(l)},delete___:{value:i(r)},permitHostObjects___:{value:i(function(t){if(t!==e)throw new Error("bogus call to permitHostObjects___");f=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),t.prototype=_.prototype,n.exports=t,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),n.exports=_)}}()}});